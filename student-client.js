console.log("Bru!");
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}function f(e){return function(){var t,n=l(e);if(u()){var r=l(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return d(this,t)}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=m(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _(e,t){return e(t={exports:{}},t.exports),t.exports}var S=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;function k(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var E=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=k(e),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))x.call(n,s)&&(i[s]=n[s]);if(S){r=S(n);for(var a=0;a<r.length;a++)C.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i},A="function"==typeof Symbol&&Symbol.for,R=A?Symbol.for("react.element"):60103,T=A?Symbol.for("react.portal"):60106,M=A?Symbol.for("react.fragment"):60107,O=A?Symbol.for("react.strict_mode"):60108,$=A?Symbol.for("react.profiler"):60114,L=A?Symbol.for("react.provider"):60109,I=A?Symbol.for("react.context"):60110,P=A?Symbol.for("react.forward_ref"):60112,D=A?Symbol.for("react.suspense"):60113,N=A?Symbol.for("react.memo"):60115,F=A?Symbol.for("react.lazy"):60116,B="function"==typeof Symbol&&Symbol.iterator;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W={};function j(e,t,n){this.props=e,this.context=t,this.refs=W,this.updater=n||z}function H(){}function V(e,t,n){this.props=e,this.context=t,this.refs=W,this.updater=n||z}j.prototype.isReactComponent={},j.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(U(85));this.updater.enqueueSetState(this,e,t,"setState")},j.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},H.prototype=j.prototype;var G=V.prototype=new H;G.constructor=V,E(G,j.prototype),G.isPureReactComponent=!0;var K={current:null},q=Object.prototype.hasOwnProperty,X={key:!0,ref:!0,__self:!0,__source:!0};function Y(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)q.call(t,r)&&!X.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:R,type:e,key:o,ref:s,props:i,_owner:K.current}}function Q(e){return"object"==typeof e&&null!==e&&e.$$typeof===R}var J=/\/+/g,Z=[];function ee(e,t,n,r){if(Z.length){var i=Z.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function te(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>Z.length&&Z.push(e)}function ne(e,t,n){return null==e?0:function e(t,n,r,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var s=!1;if(null===t)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case R:case T:s=!0}}if(s)return r(i,t,""===n?"."+re(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var a=0;a<t.length;a++){var l=n+re(o=t[a],a);s+=e(o,l,r,i)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=B&&t[B]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),a=0;!(o=t.next()).done;)s+=e(o=o.value,l=n+re(o,a++),r,i);else if("object"===o)throw r=""+t,Error(U(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}(e,"",t,n)}function re(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function ie(e,t){e.func.call(e.context,t,e.count++)}function oe(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?se(e,r,n,(function(e){return e})):null!=e&&(Q(e)&&(e=function(e,t){return{$$typeof:R,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(J,"$&/")+"/")+n)),r.push(e))}function se(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(J,"$&/")+"/"),ne(e,oe,t=ee(t,o,r,i)),te(t)}var ae={current:null};function le(){var e=ae.current;if(null===e)throw Error(U(321));return e}var ce={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return se(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;ne(e,ie,t=ee(null,null,t,n)),te(t)},count:function(e){return ne(e,(function(){return null}),null)},toArray:function(e){var t=[];return se(e,t,null,(function(e){return e})),t},only:function(e){if(!Q(e))throw Error(U(143));return e}},Component:j,Fragment:M,Profiler:$,PureComponent:V,StrictMode:O,Suspense:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:K,IsSomeRendererActing:{current:!1},assign:E},cloneElement:function(e,t,n){if(null==e)throw Error(U(267,e));var r=E({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=K.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)q.call(t,l)&&!X.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:R,type:e.type,key:i,ref:o,props:r,_owner:s}},createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:I,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:L,_context:e},e.Consumer=e},createElement:Y,createFactory:function(e){var t=Y.bind(null,e);return t.type=e,t},createRef:function(){return{current:null}},forwardRef:function(e){return{$$typeof:P,render:e}},isValidElement:Q,lazy:function(e){return{$$typeof:F,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:N,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return le().useCallback(e,t)},useContext:function(e,t){return le().useContext(e,t)},useDebugValue:function(){},useEffect:function(e,t){return le().useEffect(e,t)},useImperativeHandle:function(e,t,n){return le().useImperativeHandle(e,t,n)},useLayoutEffect:function(e,t){return le().useLayoutEffect(e,t)},useMemo:function(e,t){return le().useMemo(e,t)},useReducer:function(e,t,n){return le().useReducer(e,t,n)},useRef:function(e){return le().useRef(e)},useState:function(e){return le().useState(e)},version:"16.13.1"},ue=_((function(e){e.exports=ce})),he=ue.createRef,de=_((function(e,t){var n,r,i,o,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var a=null,l=null,c=function(){if(null!==a)try{var e=t.unstable_now();a(!0,e),a=null}catch(e){throw setTimeout(c,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==a?setTimeout(n,0,e):(a=e,setTimeout(c,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var m=d.now();t.unstable_now=function(){return d.now()-m}}var v=!1,y=null,b=-1,w=5,_=0;o=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,x=S.port2;S.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+w;try{y(!0,e)?x.postMessage(null):(v=!1,y=null)}catch(e){throw x.postMessage(null),e}}else v=!1},n=function(e){y=e,v||(v=!0,x.postMessage(null))},r=function(e,n){b=f((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>A(s,n))void 0!==l&&0>A(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>A(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var R=[],T=[],M=1,O=null,$=3,L=!1,I=!1,P=!1;function D(e){for(var t=k(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,C(R,t)}t=k(T)}}function N(e){if(P=!1,D(e),!I)if(null!==k(R))I=!0,n(F);else{var t=k(T);null!==t&&r(N,t.startTime-e)}}function F(e,n){I=!1,P&&(P=!1,i()),L=!0;var s=$;try{for(D(n),O=k(R);null!==O&&(!(O.expirationTime>n)||e&&!o());){var a=O.callback;if(null!==a){O.callback=null,$=O.priorityLevel;var l=a(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?O.callback=l:O===k(R)&&E(R),D(n)}else E(R);O=k(R)}if(null!==O)var c=!0;else{var u=k(T);null!==u&&r(N,u.startTime-n),c=!1}return c}finally{O=null,$=s,L=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||L||(I=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return $},t.unstable_getFirstCallbackNode=function(){return k(R)},t.unstable_next=function(e){switch($){case 1:case 2:case 3:var t=3;break;default:t=$}var n=$;$=t;try{return e()}finally{$=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=$;$=e;try{return t()}finally{$=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();if("object"==typeof s&&null!==s){var l=s.delay;l="number"==typeof l&&0<l?a+l:a,s="number"==typeof s.timeout?s.timeout:B(e)}else s=B(e),l=a;return e={id:M++,callback:o,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>a?(e.sortIndex=l,C(T,e),null===k(R)&&e===k(T)&&(P?i():P=!0,r(N,l-a))):(e.sortIndex=s,C(R,e),I||L||(I=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=k(R);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=$;return function(){var n=$;$=t;try{return e.apply(this,arguments)}finally{$=n}}}})),fe=(de.unstable_now,de.unstable_forceFrameRate,de.unstable_IdlePriority,de.unstable_ImmediatePriority,de.unstable_LowPriority,de.unstable_NormalPriority,de.unstable_Profiling,de.unstable_UserBlockingPriority,de.unstable_cancelCallback,de.unstable_continueExecution,de.unstable_getCurrentPriorityLevel,de.unstable_getFirstCallbackNode,de.unstable_next,de.unstable_pauseExecution,de.unstable_requestPaint,de.unstable_runWithPriority,de.unstable_scheduleCallback,de.unstable_shouldYield,de.unstable_wrapCallback,_((function(e){e.exports=de})));function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ue)throw Error(pe(227));function ge(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var me=!1,ve=null,ye=!1,be=null,we={onError:function(e){me=!0,ve=e}};function _e(e,t,n,r,i,o,s,a,l){me=!1,ve=null,ge.apply(we,arguments)}var Se=null,xe=null,Ce=null;function ke(e,t,n){var r=e.type||"unknown-event";e.currentTarget=Ce(n),function(e,t,n,r,i,o,s,a,l){if(_e.apply(this,arguments),me){if(!me)throw Error(pe(198));var c=ve;me=!1,ve=null,ye||(ye=!0,be=c)}}(r,t,void 0,e),e.currentTarget=null}var Ee=null,Ae={};function Re(){if(Ee)for(var e in Ae){var t=Ae[e],n=Ee.indexOf(e);if(!(-1<n))throw Error(pe(96,e));if(!Me[n]){if(!t.extractEvents)throw Error(pe(97,e));for(var r in Me[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,a=r;if(Oe.hasOwnProperty(a))throw Error(pe(99,a));Oe[a]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&Te(l[i],s,a);i=!0}else o.registrationName?(Te(o.registrationName,s,a),i=!0):i=!1;if(!i)throw Error(pe(98,r,e))}}}}function Te(e,t,n){if($e[e])throw Error(pe(100,e));$e[e]=t,Le[e]=t.eventTypes[n].dependencies}var Me=[],Oe={},$e={},Le={};function Ie(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!Ae.hasOwnProperty(t)||Ae[t]!==r){if(Ae[t])throw Error(pe(102,t));Ae[t]=r,n=!0}}n&&Re()}var Pe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),De=null,Ne=null,Fe=null;function Be(e){if(e=xe(e)){if("function"!=typeof De)throw Error(pe(280));var t=e.stateNode;t&&(t=Se(t),De(e.stateNode,e.type,t))}}function Ue(e){Ne?Fe?Fe.push(e):Fe=[e]:Ne=e}function ze(){if(Ne){var e=Ne,t=Fe;if(Fe=Ne=null,Be(e),t)for(e=0;e<t.length;e++)Be(t[e])}}function We(e,t){return e(t)}function je(e,t,n,r,i){return e(t,n,r,i)}function He(){}var Ve=We,Ge=!1,Ke=!1;function qe(){null===Ne&&null===Fe||(He(),ze())}function Xe(e,t,n){if(Ke)return e(t,n);Ke=!0;try{return Ve(e,t,n)}finally{Ke=!1,qe()}}var Ye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qe=Object.prototype.hasOwnProperty,Je={},Ze={};function et(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){tt[e]=new et(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];tt[t]=new et(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){tt[e]=new et(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){tt[e]=new et(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){tt[e]=new et(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){tt[e]=new et(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){tt[e]=new et(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){tt[e]=new et(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){tt[e]=new et(e,5,!1,e.toLowerCase(),null,!1)}));var nt=/[\-:]([a-z])/g;function rt(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(nt,rt);tt[t]=new et(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(nt,rt);tt[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(nt,rt);tt[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){tt[e]=new et(e,1,!1,e.toLowerCase(),null,!1)})),tt.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){tt[e]=new et(e,1,!1,e.toLowerCase(),null,!0)}));var it=ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function ot(e,t,n,r){var i=tt.hasOwnProperty(t)?tt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Qe.call(Ze,e)||!Qe.call(Je,e)&&(Ye.test(e)?Ze[e]=!0:(Je[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}it.hasOwnProperty("ReactCurrentDispatcher")||(it.ReactCurrentDispatcher={current:null}),it.hasOwnProperty("ReactCurrentBatchConfig")||(it.ReactCurrentBatchConfig={suspense:null});var st=/^(.*)[\\\/]/,at="function"==typeof Symbol&&Symbol.for,lt=at?Symbol.for("react.element"):60103,ct=at?Symbol.for("react.portal"):60106,ut=at?Symbol.for("react.fragment"):60107,ht=at?Symbol.for("react.strict_mode"):60108,dt=at?Symbol.for("react.profiler"):60114,ft=at?Symbol.for("react.provider"):60109,pt=at?Symbol.for("react.context"):60110,gt=at?Symbol.for("react.concurrent_mode"):60111,mt=at?Symbol.for("react.forward_ref"):60112,vt=at?Symbol.for("react.suspense"):60113,yt=at?Symbol.for("react.suspense_list"):60120,bt=at?Symbol.for("react.memo"):60115,wt=at?Symbol.for("react.lazy"):60116,_t=at?Symbol.for("react.block"):60121,St="function"==typeof Symbol&&Symbol.iterator;function xt(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=St&&e[St]||e["@@iterator"])?e:null}function Ct(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ut:return"Fragment";case ct:return"Portal";case dt:return"Profiler";case ht:return"StrictMode";case vt:return"Suspense";case yt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case pt:return"Context.Consumer";case ft:return"Context.Provider";case mt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case bt:return Ct(e.type);case _t:return Ct(e.render);case wt:if(e=1===e._status?e._result:null)return Ct(e)}return null}function kt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=Ct(e.type);n=null,r&&(n=Ct(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(st,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function Et(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function At(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Rt(e){e._valueTracker||(e._valueTracker=function(e){var t=At(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Tt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=At(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Mt(e,t){var n=t.checked;return E({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ot(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Et(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $t(e,t){null!=(t=t.checked)&&ot(e,"checked",t,!1)}function Lt(e,t){$t(e,t);var n=Et(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pt(e,t.type,Et(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function It(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Dt(e,t){return e=E({children:void 0},t),(t=function(e){var t="";return ue.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Nt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Et(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ft(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(pe(91));return E({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bt(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(pe(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(pe(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Et(n)}}function Ut(e,t){var n=Et(t.value),r=Et(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function zt(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Wt="http://www.w3.org/1999/xhtml",jt="http://www.w3.org/2000/svg";function Ht(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ht(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Gt,Kt=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==jt||"innerHTML"in e)e.innerHTML=t;else{for((Gt=Gt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function qt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yt={animationend:Xt("Animation","AnimationEnd"),animationiteration:Xt("Animation","AnimationIteration"),animationstart:Xt("Animation","AnimationStart"),transitionend:Xt("Transition","TransitionEnd")},Qt={},Jt={};function Zt(e){if(Qt[e])return Qt[e];if(!Yt[e])return e;var t,n=Yt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Jt)return Qt[e]=n[t];return e}Pe&&(Jt=document.createElement("div").style,"AnimationEvent"in window||(delete Yt.animationend.animation,delete Yt.animationiteration.animation,delete Yt.animationstart.animation),"TransitionEvent"in window||delete Yt.transitionend.transition);var en=Zt("animationend"),tn=Zt("animationiteration"),nn=Zt("animationstart"),rn=Zt("transitionend"),on="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sn=new("function"==typeof WeakMap?WeakMap:Map);function an(e){var t=sn.get(e);return void 0===t&&(t=new Map,sn.set(e,t)),t}function ln(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function cn(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function un(e){if(ln(e)!==e)throw Error(pe(188))}function hn(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=ln(e)))throw Error(pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return un(i),e;if(o===r)return un(i),t;o=o.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(3!==n.tag)throw Error(pe(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function dn(e,t){if(null==t)throw Error(pe(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function fn(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var pn=null;function gn(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)ke(e,t[r],n[r]);else t&&ke(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function mn(e){if(null!==e&&(pn=dn(pn,e)),e=pn,pn=null,e){if(fn(e,gn),pn)throw Error(pe(95));if(ye)throw e=be,ye=!1,be=null,e}}function vn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function yn(e){if(!Pe)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var bn=[];function wn(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>bn.length&&bn.push(e)}function _n(e,t,n,r){if(bn.length){var i=bn.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function Sn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Pr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=vn(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,l=0;l<Me.length;l++){var c=Me[l];c&&(c=c.extractEvents(r,t,o,i,s))&&(a=dn(a,c))}mn(a)}}function xn(e,t,n){if(!n.has(e)){switch(e){case"scroll":rr(t,"scroll",!0);break;case"focus":case"blur":rr(t,"focus",!0),rr(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":yn(e)&&rr(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===on.indexOf(e)&&nr(e,t)}n.set(e,null)}}var Cn,kn,En,An=!1,Rn=[],Tn=null,Mn=null,On=null,$n=new Map,Ln=new Map,In=[],Pn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Dn="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Nn(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Fn(e,t){switch(e){case"focus":case"blur":Tn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function Bn(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Nn(t,n,r,i,o),null!==t&&(null!==(t=Dr(t))&&kn(t)),e):(e.eventSystemFlags|=r,e)}function Un(e){var t=Pr(e.target);if(null!==t){var n=ln(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=cn(n)))return e.blockedOn=t,void fe.unstable_runWithPriority(e.priority,(function(){En(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zn(e){if(null!==e.blockedOn)return!1;var t=ar(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dr(t);return null!==n&&kn(n),e.blockedOn=t,!1}return!0}function Wn(e,t,n){zn(e)&&n.delete(t)}function jn(){for(An=!1;0<Rn.length;){var e=Rn[0];if(null!==e.blockedOn){null!==(e=Dr(e.blockedOn))&&Cn(e);break}var t=ar(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Rn.shift()}null!==Tn&&zn(Tn)&&(Tn=null),null!==Mn&&zn(Mn)&&(Mn=null),null!==On&&zn(On)&&(On=null),$n.forEach(Wn),Ln.forEach(Wn)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,An||(An=!0,fe.unstable_scheduleCallback(fe.unstable_NormalPriority,jn)))}function Vn(e){function t(t){return Hn(t,e)}if(0<Rn.length){Hn(Rn[0],e);for(var n=1;n<Rn.length;n++){var r=Rn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tn&&Hn(Tn,e),null!==Mn&&Hn(Mn,e),null!==On&&Hn(On,e),$n.forEach(t),Ln.forEach(t),n=0;n<In.length;n++)(r=In[n]).blockedOn===e&&(r.blockedOn=null);for(;0<In.length&&null===(n=In[0]).blockedOn;)Un(n),null===n.blockedOn&&In.shift()}var Gn={},Kn=new Map,qn=new Map,Xn=["abort","abort",en,"animationEnd",tn,"animationIteration",nn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",rn,"transitionEnd","waiting","waiting"];function Yn(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},qn.set(r,t),Kn.set(r,o),Gn[i]=o}}Yn("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Yn("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Yn(Xn,2);for(var Qn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Jn=0;Jn<Qn.length;Jn++)qn.set(Qn[Jn],0);var Zn=fe.unstable_UserBlockingPriority,er=fe.unstable_runWithPriority,tr=!0;function nr(e,t){rr(t,e,!1)}function rr(e,t,n){var r=qn.get(t);switch(void 0===r?2:r){case 0:r=ir.bind(null,t,1,e);break;case 1:r=or.bind(null,t,1,e);break;default:r=sr.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function ir(e,t,n,r){Ge||He();var i=sr,o=Ge;Ge=!0;try{je(i,e,t,n,r)}finally{(Ge=o)||qe()}}function or(e,t,n,r){er(Zn,sr.bind(null,e,t,n,r))}function sr(e,t,n,r){if(tr)if(0<Rn.length&&-1<Pn.indexOf(e))e=Nn(null,e,t,n,r),Rn.push(e);else{var i=ar(e,t,n,r);if(null===i)Fn(e,r);else if(-1<Pn.indexOf(e))e=Nn(i,e,t,n,r),Rn.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return Tn=Bn(Tn,e,t,n,r,i),!0;case"dragenter":return Mn=Bn(Mn,e,t,n,r,i),!0;case"mouseover":return On=Bn(On,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return $n.set(o,Bn($n.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ln.set(o,Bn(Ln.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Fn(e,r),e=_n(e,r,null,t);try{Xe(Sn,e)}finally{wn(e)}}}}function ar(e,t,n,r){if(null!==(n=Pr(n=vn(r)))){var i=ln(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=cn(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=_n(e,r,n,t);try{Xe(Sn,e)}finally{wn(e)}return null}var lr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cr=["Webkit","ms","Moz","O"];function ur(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function hr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ur(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(lr).forEach((function(e){cr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]}))}));var dr=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fr(e,t){if(t){if(dr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(pe(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(pe(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(pe(62,""))}}function pr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=Wt;function mr(e,t){var n=an(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Le[t];for(var r=0;r<t.length;r++)xn(t[r],e,n)}function vr(){}function yr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function br(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wr(e,t){var n,r=br(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=br(r)}}function _r(){for(var e=window,t=yr();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=yr((e=t.contentWindow).document)}return t}function Sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var xr=null,Cr=null;function kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Er(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ar="function"==typeof setTimeout?setTimeout:void 0,Rr="function"==typeof clearTimeout?clearTimeout:void 0;function Tr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Mr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),$r="__reactInternalInstance$"+Or,Lr="__reactEventHandlers$"+Or,Ir="__reactContainere$"+Or;function Pr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ir]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Mr(e);null!==e;){if(n=e[$r])return n;e=Mr(e)}return t}n=(e=n).parentNode}return null}function Dr(e){return!(e=e[$r]||e[Ir])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Nr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(pe(33))}function Fr(e){return e[Lr]||null}function Br(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t){var n=e.stateNode;if(!n)return null;var r=Se(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(pe(231,t,typeof n));return n}function zr(e,t,n){(t=Ur(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=dn(n._dispatchListeners,t),n._dispatchInstances=dn(n._dispatchInstances,e))}function Wr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Br(t);for(t=n.length;0<t--;)zr(n[t],"captured",e);for(t=0;t<n.length;t++)zr(n[t],"bubbled",e)}}function jr(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Ur(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=dn(n._dispatchListeners,t),n._dispatchInstances=dn(n._dispatchInstances,e))}function Hr(e){e&&e.dispatchConfig.registrationName&&jr(e._targetInst,null,e)}function Vr(e){fn(e,Wr)}var Gr=null,Kr=null,qr=null;function Xr(){if(qr)return qr;var e,t,n=Kr,r=n.length,i="value"in Gr?Gr.value:Gr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return qr=i.slice(e,1<t?1-t:void 0)}function Yr(){return!0}function Qr(){return!1}function Jr(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Yr:Qr,this.isPropagationStopped=Qr,this}function Zr(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ei(e){if(!(e instanceof this))throw Error(pe(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function ti(e){e.eventPool=[],e.getPooled=Zr,e.release=ei}E(Jr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){this.isPersistent=Yr},isPersistent:Qr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Qr,this._dispatchInstances=this._dispatchListeners=null}}),Jr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Jr.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return E(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=E({},r.Interface,e),n.extend=r.extend,ti(n),n},ti(Jr);var ni=Jr.extend({data:null}),ri=Jr.extend({data:null}),ii=[9,13,27,32],oi=Pe&&"CompositionEvent"in window,si=null;Pe&&"documentMode"in document&&(si=document.documentMode);var ai=Pe&&"TextEvent"in window&&!si,li=Pe&&(!oi||si&&8<si&&11>=si),ci=String.fromCharCode(32),ui={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},hi=!1;function di(e,t){switch(e){case"keyup":return-1!==ii.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function fi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var pi=!1;var gi={eventTypes:ui,extractEvents:function(e,t,n,r){var i;if(oi)e:{switch(e){case"compositionstart":var o=ui.compositionStart;break e;case"compositionend":o=ui.compositionEnd;break e;case"compositionupdate":o=ui.compositionUpdate;break e}o=void 0}else pi?di(e,n)&&(o=ui.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ui.compositionStart);return o?(li&&"ko"!==n.locale&&(pi||o!==ui.compositionStart?o===ui.compositionEnd&&pi&&(i=Xr()):(Kr="value"in(Gr=r)?Gr.value:Gr.textContent,pi=!0)),o=ni.getPooled(o,t,n,r),i?o.data=i:null!==(i=fi(n))&&(o.data=i),Vr(o),i=o):i=null,(e=ai?function(e,t){switch(e){case"compositionend":return fi(t);case"keypress":return 32!==t.which?null:(hi=!0,ci);case"textInput":return(e=t.data)===ci&&hi?null:e;default:return null}}(e,n):function(e,t){if(pi)return"compositionend"===e||!oi&&di(e,t)?(e=Xr(),qr=Kr=Gr=null,pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return li&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=ri.getPooled(ui.beforeInput,t,n,r)).data=e,Vr(t)):t=null,null===i?t:null===t?i:[i,t]}},mi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!mi[e.type]:"textarea"===t}var yi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function bi(e,t,n){return(e=Jr.getPooled(yi.change,e,t,n)).type="change",Ue(n),Vr(e),e}var wi=null,_i=null;function Si(e){mn(e)}function xi(e){if(Tt(Nr(e)))return e}function Ci(e,t){if("change"===e)return t}var ki=!1;function Ei(){wi&&(wi.detachEvent("onpropertychange",Ai),_i=wi=null)}function Ai(e){if("value"===e.propertyName&&xi(_i))if(e=bi(_i,e,vn(e)),Ge)mn(e);else{Ge=!0;try{We(Si,e)}finally{Ge=!1,qe()}}}function Ri(e,t,n){"focus"===e?(Ei(),_i=n,(wi=t).attachEvent("onpropertychange",Ai)):"blur"===e&&Ei()}function Ti(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return xi(_i)}function Mi(e,t){if("click"===e)return xi(t)}function Oi(e,t){if("input"===e||"change"===e)return xi(t)}Pe&&(ki=yn("input")&&(!document.documentMode||9<document.documentMode));var $i={eventTypes:yi,_isInputEventSupported:ki,extractEvents:function(e,t,n,r){var i=t?Nr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=Ci;else if(vi(i))if(ki)s=Oi;else{s=Ti;var a=Ri}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Mi);if(s&&(s=s(e,t)))return bi(s,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Pt(i,"number",i.value)}},Li=Jr.extend({view:null,detail:null}),Ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ii[e])&&!!t[e]}function Di(){return Pi}var Ni=0,Fi=0,Bi=!1,Ui=!1,zi=Li.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Di,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ni;return Ni=e.screenX,Bi?"mousemove"===e.type?e.screenX-t:0:(Bi=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Fi;return Fi=e.screenY,Ui?"mousemove"===e.type?e.screenY-t:0:(Ui=!0,0)}}),Wi=zi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ji={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Hi={eventTypes:ji,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?Pr(t):null)&&(t!==ln(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var a=zi,l=ji.mouseLeave,c=ji.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=Wi,l=ji.pointerLeave,c=ji.pointerEnter,u="pointer");if(e=null==s?o:Nr(s),o=null==t?o:Nr(t),(l=a.getPooled(l,s,n,r)).type=u+"leave",l.target=e,l.relatedTarget=o,(n=a.getPooled(c,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=s)&&u)e:{for(c=u,s=0,e=a=r;e;e=Br(e))s++;for(e=0,t=c;t;t=Br(t))e++;for(;0<s-e;)a=Br(a),s--;for(;0<e-s;)c=Br(c),e--;for(;s--;){if(a===c||a===c.alternate)break e;a=Br(a),c=Br(c)}a=null}else a=null;for(c=a,a=[];r&&r!==c&&(null===(s=r.alternate)||s!==c);)a.push(r),r=Br(r);for(r=[];u&&u!==c&&(null===(s=u.alternate)||s!==c);)r.push(u),u=Br(u);for(u=0;u<a.length;u++)jr(a[u],"bubbled",l);for(u=r.length;0<u--;)jr(r[u],"captured",n);return 0==(64&i)?[l]:[l,n]}};var Vi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Gi=Object.prototype.hasOwnProperty;function Ki(e,t){if(Vi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Gi.call(t,n[r])||!Vi(e[n[r]],t[n[r]]))return!1;return!0}var qi=Pe&&"documentMode"in document&&11>=document.documentMode,Xi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Yi=null,Qi=null,Ji=null,Zi=!1;function eo(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Zi||null==Yi||Yi!==yr(n)?null:("selectionStart"in(n=Yi)&&Sr(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ji&&Ki(Ji,n)?null:(Ji=n,(e=Jr.getPooled(Xi.select,Qi,e,t)).type="select",e.target=Yi,Vr(e),e))}var to={eventTypes:Xi,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=an(i),o=Le.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Nr(t):window,e){case"focus":(vi(i)||"true"===i.contentEditable)&&(Yi=i,Qi=t,Ji=null);break;case"blur":Ji=Qi=Yi=null;break;case"mousedown":Zi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Zi=!1,eo(n,r);case"selectionchange":if(qi)break;case"keydown":case"keyup":return eo(n,r)}return null}},no=Jr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ro=Jr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),io=Li.extend({relatedTarget:null});function oo(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var so={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ao={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lo=Li.extend({key:function(e){if(e.key){var t=so[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=oo(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ao[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Di,charCode:function(e){return"keypress"===e.type?oo(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?oo(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),co=zi.extend({dataTransfer:null}),uo=Li.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Di}),ho=Jr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),fo=zi.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),po={eventTypes:Gn,extractEvents:function(e,t,n,r){var i=Kn.get(e);if(!i)return null;switch(e){case"keypress":if(0===oo(n))return null;case"keydown":case"keyup":e=lo;break;case"blur":case"focus":e=io;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=uo;break;case en:case tn:case nn:e=no;break;case rn:e=ho;break;case"scroll":e=Li;break;case"wheel":e=fo;break;case"copy":case"cut":case"paste":e=ro;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Wi;break;default:e=Jr}return Vr(t=e.getPooled(i,t,n,r)),t}};if(Ee)throw Error(pe(101));Ee=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Re(),Se=Fr,xe=Dr,Ce=Nr,Ie({SimpleEventPlugin:po,EnterLeaveEventPlugin:Hi,ChangeEventPlugin:$i,SelectEventPlugin:to,BeforeInputEventPlugin:gi});var go=[],mo=-1;function vo(e){0>mo||(e.current=go[mo],go[mo]=null,mo--)}function yo(e,t){mo++,go[mo]=e.current,e.current=t}var bo={},wo={current:bo},_o={current:!1},So=bo;function xo(e,t){var n=e.type.contextTypes;if(!n)return bo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Co(e){return null!=(e=e.childContextTypes)}function ko(){vo(_o),vo(wo)}function Eo(e,t,n){if(wo.current!==bo)throw Error(pe(168));yo(wo,t),yo(_o,n)}function Ao(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(pe(108,Ct(t)||"Unknown",i));return E({},n,{},r)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bo,So=wo.current,yo(wo,e),yo(_o,_o.current),!0}function To(e,t,n){var r=e.stateNode;if(!r)throw Error(pe(169));n?(e=Ao(e,t,So),r.__reactInternalMemoizedMergedChildContext=e,vo(_o),vo(wo),yo(wo,e)):vo(_o),yo(_o,n)}var Mo=fe.unstable_runWithPriority,Oo=fe.unstable_scheduleCallback,$o=fe.unstable_cancelCallback,Lo=fe.unstable_requestPaint,Io=fe.unstable_now,Po=fe.unstable_getCurrentPriorityLevel,Do=fe.unstable_ImmediatePriority,No=fe.unstable_UserBlockingPriority,Fo=fe.unstable_NormalPriority,Bo=fe.unstable_LowPriority,Uo=fe.unstable_IdlePriority,zo={},Wo=fe.unstable_shouldYield,jo=void 0!==Lo?Lo:function(){},Ho=null,Vo=null,Go=!1,Ko=Io(),qo=1e4>Ko?Io:function(){return Io()-Ko};function Xo(){switch(Po()){case Do:return 99;case No:return 98;case Fo:return 97;case Bo:return 96;case Uo:return 95;default:throw Error(pe(332))}}function Yo(e){switch(e){case 99:return Do;case 98:return No;case 97:return Fo;case 96:return Bo;case 95:return Uo;default:throw Error(pe(332))}}function Qo(e,t){return e=Yo(e),Mo(e,t)}function Jo(e,t,n){return e=Yo(e),Oo(e,t,n)}function Zo(e){return null===Ho?(Ho=[e],Vo=Oo(Do,ts)):Ho.push(e),zo}function es(){if(null!==Vo){var e=Vo;Vo=null,$o(e)}ts()}function ts(){if(!Go&&null!==Ho){Go=!0;var e=0;try{var t=Ho;Qo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ho=null}catch(t){throw null!==Ho&&(Ho=Ho.slice(e+1)),Oo(Do,es),t}finally{Go=!1}}}function ns(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function rs(e,t){if(e&&e.defaultProps)for(var n in t=E({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var is={current:null},os=null,ss=null,as=null;function ls(){as=ss=os=null}function cs(e){var t=is.current;vo(is),e.type._context._currentValue=t}function us(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function hs(e,t){os=e,as=ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Fa=!0),e.firstContext=null)}function ds(e,t){if(as!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(as=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ss){if(null===os)throw Error(pe(308));ss=t,os.dependencies={expirationTime:0,firstContext:t,responders:null}}else ss=ss.next=t;return e._currentValue}var fs=!1;function ps(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function gs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ms(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function vs(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ys(e,t){var n=e.alternate;null!==n&&gs(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function bs(e,t,n,r){var i=e.updateQueue;fs=!1;var o=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}o=s,i.shared.pending=null,null!==(a=e.alternate)&&(null!==(a=a.updateQueue)&&(a.baseQueue=s))}if(null!==o){a=o.next;var l=i.baseState,c=0,u=null,h=null,d=null;if(null!==a)for(var f=a;;){if((s=f.expirationTime)<r){var p={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===d?(h=d=p,u=l):d=d.next=p,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),fc(s,f.suspenseConfig);e:{var g=e,m=f;switch(s=t,p=n,m.tag){case 1:if("function"==typeof(g=m.payload)){l=g.call(p,l,s);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=m.payload)?g.call(p,l,s):g))break e;l=E({},l,s);break e;case 2:fs=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=i.effects)?i.effects=[f]:s.push(f))}if(null===(f=f.next)||f===a){if(null===(s=i.shared.pending))break;f=o.next=s.next,s.next=a,i.baseQueue=o=s,i.shared.pending=null}}null===d?u=l:d.next=h,i.baseState=u,i.baseQueue=d,pc(c),e.expirationTime=c,e.memoizedState=l}}function ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(pe(191,r));r.call(i)}}}var _s=it.ReactCurrentBatchConfig,Ss=(new ue.Component).refs;function xs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:E({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Cs={isMounted:function(e){return!!(e=e._reactInternalFiber)&&ln(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ec(),i=_s.suspense;(i=ms(r=tc(r,e,i),i)).payload=t,null!=n&&(i.callback=n),vs(e,i),nc(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ec(),i=_s.suspense;(i=ms(r=tc(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),vs(e,i),nc(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ec(),r=_s.suspense;(r=ms(n=tc(n,e,r),r)).tag=2,null!=t&&(r.callback=t),vs(e,r),nc(e,n)}};function ks(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Ki(n,r)||!Ki(i,o))}function Es(e,t,n){var r=!1,i=bo,o=t.contextType;return"object"==typeof o&&null!==o?o=ds(o):(i=Co(t)?So:wo.current,o=(r=null!=(r=t.contextTypes))?xo(e,i):bo),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Cs,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function As(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cs.enqueueReplaceState(t,t.state,null)}function Rs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ss,ps(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ds(o):(o=Co(t)?So:wo.current,i.context=xo(e,o)),bs(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(xs(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Cs.enqueueReplaceState(i,i.state,null),bs(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Ts=Array.isArray;function Ms(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Ss&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(pe(284));if(!n._owner)throw Error(pe(290,e))}return e}function Os(e,t){if("textarea"!==e.type)throw Error(pe(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function $s(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ms(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ms(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case lt:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ms(e,null,t),n.return=e,n;case ct:return(t=Fc(t,e.mode,n)).return=e,t}if(Ts(t)||xt(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Os(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case lt:return n.key===i?n.type===ut?u(e,t,n.props.children,r,i):l(e,t,n,r):null;case ct:return n.key===i?c(e,t,n,r):null}if(Ts(n)||xt(n))return null!==i?null:u(e,t,n,r,null);Os(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case lt:return e=e.get(null===r.key?n:r.key)||null,r.type===ut?u(t,e,r.props.children,i,r.key):l(t,e,r,i);case ct:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ts(r)||xt(r))return u(t,e=e.get(n)||null,r,i,null);Os(t,r)}return null}function p(i,s,a,l){for(var c=null,u=null,p=s,g=s=0,m=null;null!==p&&g<a.length;g++){p.index>g?(m=p,p=null):m=p.sibling;var v=d(i,p,a[g],l);if(null===v){null===p&&(p=m);break}e&&p&&null===v.alternate&&t(i,p),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,p=m}if(g===a.length)return n(i,p),c;if(null===p){for(;g<a.length;g++)null!==(p=h(i,a[g],l))&&(s=o(p,s,g),null===u?c=p:u.sibling=p,u=p);return c}for(p=r(i,p);g<a.length;g++)null!==(m=f(p,i,g,a[g],l))&&(e&&null!==m.alternate&&p.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&p.forEach((function(e){return t(i,e)})),c}function g(i,s,a,l){var c=xt(a);if("function"!=typeof c)throw Error(pe(150));if(null==(a=c.call(a)))throw Error(pe(151));for(var u=c=null,p=s,g=s=0,m=null,v=a.next();null!==p&&!v.done;g++,v=a.next()){p.index>g?(m=p,p=null):m=p.sibling;var y=d(i,p,v.value,l);if(null===y){null===p&&(p=m);break}e&&p&&null===y.alternate&&t(i,p),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y,p=m}if(v.done)return n(i,p),c;if(null===p){for(;!v.done;g++,v=a.next())null!==(v=h(i,v.value,l))&&(s=o(v,s,g),null===u?c=v:u.sibling=v,u=v);return c}for(p=r(i,p);!v.done;g++,v=a.next())null!==(v=f(p,i,g,v.value,l))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v);return e&&p.forEach((function(e){return t(i,e)})),c}return function(e,r,o,a){var l="object"==typeof o&&null!==o&&o.type===ut&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case lt:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===ut){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Ms(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===ut?((r=Dc(o.props.children,e.mode,a,o.key)).return=e,e=r):((a=Pc(o.type,o.key,o.props,null,e.mode,a)).ref=Ms(e,r,o),a.return=e,e=a)}return s(e);case ct:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Fc(o,e.mode,a)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Nc(o,e.mode,a)).return=e,e=r),s(e);if(Ts(o))return p(e,r,o,a);if(xt(o))return g(e,r,o,a);if(c&&Os(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(pe(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ls=$s(!0),Is=$s(!1),Ps={},Ds={current:Ps},Ns={current:Ps},Fs={current:Ps};function Bs(e){if(e===Ps)throw Error(pe(174));return e}function Us(e,t){switch(yo(Fs,t),yo(Ns,e),yo(Ds,Ps),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vt(null,"");break;default:t=Vt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}vo(Ds),yo(Ds,t)}function zs(){vo(Ds),vo(Ns),vo(Fs)}function Ws(e){Bs(Fs.current);var t=Bs(Ds.current),n=Vt(t,e.type);t!==n&&(yo(Ns,e),yo(Ds,n))}function js(e){Ns.current===e&&(vo(Ds),vo(Ns))}var Hs={current:0};function Vs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Gs(e,t){return{responder:e,props:t}}var Ks=it.ReactCurrentDispatcher,qs=it.ReactCurrentBatchConfig,Xs=0,Ys=null,Qs=null,Js=null,Zs=!1;function ea(){throw Error(pe(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vi(e[n],t[n]))return!1;return!0}function na(e,t,n,r,i,o){if(Xs=o,Ys=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ks.current=null===e||null===e.memoizedState?ka:Ea,e=n(r,i),t.expirationTime===Xs){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(pe(301));o+=1,Js=Qs=null,t.updateQueue=null,Ks.current=Aa,e=n(r,i)}while(t.expirationTime===Xs)}if(Ks.current=Ca,t=null!==Qs&&null!==Qs.next,Xs=0,Js=Qs=Ys=null,Zs=!1,t)throw Error(pe(300));return e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Js?Ys.memoizedState=Js=e:Js=Js.next=e,Js}function ia(){if(null===Qs){var e=Ys.alternate;e=null!==e?e.memoizedState:null}else e=Qs.next;var t=null===Js?Ys.memoizedState:Js.next;if(null!==t)Js=t,Qs=e;else{if(null===e)throw Error(pe(310));e={memoizedState:(Qs=e).memoizedState,baseState:Qs.baseState,baseQueue:Qs.baseQueue,queue:Qs.queue,next:null},null===Js?Ys.memoizedState=Js=e:Js=Js.next=e}return Js}function oa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=ia(),n=t.queue;if(null===n)throw Error(pe(311));n.lastRenderedReducer=e;var r=Qs,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var a=s=o=null,l=i;do{var c=l.expirationTime;if(c<Xs){var u={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===a?(s=a=u,o=r):a=a.next=u,c>Ys.expirationTime&&(Ys.expirationTime=c,pc(c))}else null!==a&&(a=a.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),fc(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===a?o=r:a.next=s,Vi(r,t.memoizedState)||(Fa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function aa(e){var t=ia(),n=t.queue;if(null===n)throw Error(pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Vi(o,t.memoizedState)||(Fa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function la(e){var t=ra();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e}).dispatch=xa.bind(null,Ys,e),[t.memoizedState,e]}function ca(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ys.updateQueue)?(t={lastEffect:null},Ys.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ua(){return ia().memoizedState}function ha(e,t,n,r){var i=ra();Ys.effectTag|=e,i.memoizedState=ca(1|t,n,void 0,void 0===r?null:r)}function da(e,t,n,r){var i=ia();r=void 0===r?null:r;var o=void 0;if(null!==Qs){var s=Qs.memoizedState;if(o=s.destroy,null!==r&&ta(r,s.deps))return void ca(t,n,o,r)}Ys.effectTag|=e,i.memoizedState=ca(1|t,n,o,r)}function fa(e,t){return ha(516,4,e,t)}function pa(e,t){return da(516,4,e,t)}function ga(e,t){return da(4,2,e,t)}function ma(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function va(e,t,n){return n=null!=n?n.concat([e]):null,da(4,2,ma.bind(null,t,e),n)}function ya(){}function ba(e,t){return ra().memoizedState=[e,void 0===t?null:t],e}function wa(e,t){var n=ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _a(e,t){var n=ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sa(e,t,n){var r=Xo();Qo(98>r?98:r,(function(){e(!0)})),Qo(97<r?97:r,(function(){var r=qs.suspense;qs.suspense=void 0===t?null:t;try{e(!1),n()}finally{qs.suspense=r}}))}function xa(e,t,n){var r=ec(),i=_s.suspense;i={expirationTime:r=tc(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Ys||null!==o&&o===Ys)Zs=!0,i.expirationTime=Xs,Ys.expirationTime=Xs;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.eagerReducer=o,i.eagerState=a,Vi(a,s))return}catch(e){}nc(e,r)}}var Ca={readContext:ds,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useResponder:ea,useDeferredValue:ea,useTransition:ea},ka={readContext:ds,useCallback:ba,useContext:ds,useEffect:fa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ha(4,2,ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ha(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ra();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,Ys,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ra().memoizedState=e},useState:la,useDebugValue:ya,useResponder:Gs,useDeferredValue:function(e,t){var n=la(e),r=n[0],i=n[1];return fa((function(){var n=qs.suspense;qs.suspense=void 0===t?null:t;try{i(e)}finally{qs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=la(!1),n=t[0];return t=t[1],[ba(Sa.bind(null,t,e),[t,e]),n]}},Ea={readContext:ds,useCallback:wa,useContext:ds,useEffect:pa,useImperativeHandle:va,useLayoutEffect:ga,useMemo:_a,useReducer:sa,useRef:ua,useState:function(){return sa(oa)},useDebugValue:ya,useResponder:Gs,useDeferredValue:function(e,t){var n=sa(oa),r=n[0],i=n[1];return pa((function(){var n=qs.suspense;qs.suspense=void 0===t?null:t;try{i(e)}finally{qs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=sa(oa),n=t[0];return t=t[1],[wa(Sa.bind(null,t,e),[t,e]),n]}},Aa={readContext:ds,useCallback:wa,useContext:ds,useEffect:pa,useImperativeHandle:va,useLayoutEffect:ga,useMemo:_a,useReducer:aa,useRef:ua,useState:function(){return aa(oa)},useDebugValue:ya,useResponder:Gs,useDeferredValue:function(e,t){var n=aa(oa),r=n[0],i=n[1];return pa((function(){var n=qs.suspense;qs.suspense=void 0===t?null:t;try{i(e)}finally{qs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=aa(oa),n=t[0];return t=t[1],[wa(Sa.bind(null,t,e),[t,e]),n]}},Ra=null,Ta=null,Ma=!1;function Oa(e,t){var n=$c(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $a(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function La(e){if(Ma){var t=Ta;if(t){var n=t;if(!$a(e,t)){if(!(t=Tr(n.nextSibling))||!$a(e,t))return e.effectTag=-1025&e.effectTag|2,Ma=!1,void(Ra=e);Oa(Ra,n)}Ra=e,Ta=Tr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ma=!1,Ra=e}}function Ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ra=e}function Pa(e){if(e!==Ra)return!1;if(!Ma)return Ia(e),Ma=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Er(t,e.memoizedProps))for(t=Ta;t;)Oa(e,t),t=Tr(t.nextSibling);if(Ia(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ta=Tr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ta=null}}else Ta=Ra?Tr(e.stateNode.nextSibling):null;return!0}function Da(){Ta=Ra=null,Ma=!1}var Na=it.ReactCurrentOwner,Fa=!1;function Ba(e,t,n,r){t.child=null===e?Is(t,null,n,r):Ls(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return hs(t,i),r=na(e,t,n,r,o,i),null===e||Fa?(t.effectTag|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),nl(e,t,i))}function za(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Wa(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:Ki)(i,r)&&e.ref===t.ref)?nl(e,t,o):(t.effectTag|=1,(e=Ic(s,r)).ref=t.ref,e.return=t,t.child=e)}function Wa(e,t,n,r,i,o){return null!==e&&Ki(e.memoizedProps,r)&&e.ref===t.ref&&(Fa=!1,i<o)?(t.expirationTime=e.expirationTime,nl(e,t,o)):Ha(e,t,n,r,o)}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ha(e,t,n,r,i){var o=Co(n)?So:wo.current;return o=xo(t,o),hs(t,i),n=na(e,t,n,r,o,i),null===e||Fa?(t.effectTag|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),nl(e,t,i))}function Va(e,t,n,r,i){if(Co(n)){var o=!0;Ro(t)}else o=!1;if(hs(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Es(t,n,r),Rs(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=ds(c):c=xo(t,c=Co(n)?So:wo.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&As(t,s,r,c),fs=!1;var d=t.memoizedState;s.state=d,bs(t,r,s,i),l=t.memoizedState,a!==r||d!==l||_o.current||fs?("function"==typeof u&&(xs(t,n,u,r),l=t.memoizedState),(a=fs||ks(t,n,a,r,d,l,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,gs(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:rs(t.type,a),l=s.context,"object"==typeof(c=n.contextType)&&null!==c?c=ds(c):c=xo(t,c=Co(n)?So:wo.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&As(t,s,r,c),fs=!1,l=t.memoizedState,s.state=l,bs(t,r,s,i),d=t.memoizedState,a!==r||l!==d||_o.current||fs?("function"==typeof u&&(xs(t,n,u,r),d=t.memoizedState),(u=fs||ks(t,n,a,r,l,d,c))?(h||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=c,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Ga(e,t,n,r,o,i)}function Ga(e,t,n,r,i,o){ja(e,t);var s=0!=(64&t.effectTag);if(!r&&!s)return i&&To(t,n,!1),nl(e,t,o);r=t.stateNode,Na.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Ls(t,e.child,null,o),t.child=Ls(t,null,a,o)):Ba(e,t,a,o),t.memoizedState=r.state,i&&To(t,n,!0),t.child}function Ka(e){var t=e.stateNode;t.pendingContext?Eo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Eo(0,t.context,!1),Us(e,t.containerInfo)}var qa,Xa,Ya,Qa={dehydrated:null,retryTime:0};function Ja(e,t,n){var r,i=t.mode,o=t.pendingProps,s=Hs.current,a=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&s)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),yo(Hs,1&s),null===e){if(void 0!==o.fallback&&La(t),a){if(a=o.fallback,(o=Dc(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Dc(a,i,n,null)).return=t,o.sibling=n,t.memoizedState=Qa,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Is(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(o=o.fallback,(n=Ic(e,e.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=Ic(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Qa,t.child=n,i}return n=Ls(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Dc(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Dc(a,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Qa,t.child=o,n}return t.memoizedState=null,t.child=Ls(t,e,o.children,n)}function Za(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),us(e.return,t)}function el(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function tl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ba(e,t,r.children,n),0!=(2&(r=Hs.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n);else if(19===e.tag)Za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(yo(Hs,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Vs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),el(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Vs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}el(t,!0,n,null,o,t.lastEffect);break;case"together":el(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nl(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&pc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(pe(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function rl(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Co(t.type)&&ko(),null;case 3:return zs(),vo(_o),vo(wo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Pa(t)||(t.effectTag|=4),null;case 5:js(t),n=Bs(Fs.current);var i=t.type;if(null!==e&&null!=t.stateNode)Xa(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(pe(166));return null}if(e=Bs(Ds.current),Pa(t)){r=t.stateNode,i=t.type;var o=t.memoizedProps;switch(r[$r]=t,r[Lr]=o,i){case"iframe":case"object":case"embed":nr("load",r);break;case"video":case"audio":for(e=0;e<on.length;e++)nr(on[e],r);break;case"source":nr("error",r);break;case"img":case"image":case"link":nr("error",r),nr("load",r);break;case"form":nr("reset",r),nr("submit",r);break;case"details":nr("toggle",r);break;case"input":Ot(r,o),nr("invalid",r),mr(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nr("invalid",r),mr(n,"onChange");break;case"textarea":Bt(r,o),nr("invalid",r),mr(n,"onChange")}for(var s in fr(i,o),e=null,o)if(o.hasOwnProperty(s)){var a=o[s];"children"===s?"string"==typeof a?r.textContent!==a&&(e=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(e=["children",""+a]):$e.hasOwnProperty(s)&&null!=a&&mr(n,s)}switch(i){case"input":Rt(r),It(r,o,!0);break;case"textarea":Rt(r),zt(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=vr)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===gr&&(e=Ht(i)),e===gr?"script"===i?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(i,{is:r.is}):(e=s.createElement(i),"select"===i&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,i),e[$r]=t,e[Lr]=r,qa(e,t),t.stateNode=e,s=pr(i,r),i){case"iframe":case"object":case"embed":nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<on.length;a++)nr(on[a],e);a=r;break;case"source":nr("error",e),a=r;break;case"img":case"image":case"link":nr("error",e),nr("load",e),a=r;break;case"form":nr("reset",e),nr("submit",e),a=r;break;case"details":nr("toggle",e),a=r;break;case"input":Ot(e,r),a=Mt(e,r),nr("invalid",e),mr(n,"onChange");break;case"option":a=Dt(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=E({},r,{value:void 0}),nr("invalid",e),mr(n,"onChange");break;case"textarea":Bt(e,r),a=Ft(e,r),nr("invalid",e),mr(n,"onChange");break;default:a=r}fr(i,a);var l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?hr(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&Kt(e,c):"children"===o?"string"==typeof c?("textarea"!==i||""!==c)&&qt(e,c):"number"==typeof c&&qt(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&($e.hasOwnProperty(o)?null!=c&&mr(n,o):null!=c&&ot(e,o,c,s))}switch(i){case"input":Rt(e),It(e,r,!1);break;case"textarea":Rt(e),zt(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Et(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Nt(e,!!r.multiple,n,!1):null!=r.defaultValue&&Nt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=vr)}kr(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(pe(166));n=Bs(Fs.current),Bs(Ds.current),Pa(t)?(n=t.stateNode,r=t.memoizedProps,n[$r]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=n)}return null;case 13:return vo(Hs),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Pa(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=i,i.nextEffect=o):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Hs.current)?Pl===Rl&&(Pl=Tl):(Pl!==Rl&&Pl!==Tl||(Pl=Ml),0!==Ul&&null!==$l&&(zc($l,Il),Wc($l,Ul)))),(n||r)&&(t.effectTag|=4),null);case 4:return zs(),null;case 10:return cs(t),null;case 17:return Co(t.type)&&ko(),null;case 19:if(vo(Hs),null===(r=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(o=r.rendering)){if(i)rl(r,!1);else if(Pl!==Rl||null!==e&&0!=(64&e.effectTag))for(o=t.child;null!==o;){if(null!==(e=Vs(o))){for(t.effectTag|=64,rl(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)o=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return yo(Hs,1&Hs.current|2),t.child}o=o.sibling}}else{if(!i)if(null!==(e=Vs(o))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),rl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qo()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,rl(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=qo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qo(),n.sibling=null,t=Hs.current,yo(Hs,i?1&t|2:1&t),n):null}throw Error(pe(156,t.tag))}function ol(e){switch(e.tag){case 1:Co(e.type)&&ko();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(zs(),vo(_o),vo(wo),0!=(64&(t=e.effectTag)))throw Error(pe(285));return e.effectTag=-4097&t|64,e;case 5:return js(e),null;case 13:return vo(Hs),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return vo(Hs),null;case 4:return zs(),null;case 10:return cs(e),null;default:return null}}function sl(e,t){return{value:e,source:t,stack:kt(t)}}qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xa=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var s,a,l=t.stateNode;switch(Bs(Ds.current),e=null,n){case"input":o=Mt(l,o),r=Mt(l,r),e=[];break;case"option":o=Dt(l,o),r=Dt(l,r),e=[];break;case"select":o=E({},o,{value:void 0}),r=E({},r,{value:void 0}),e=[];break;case"textarea":o=Ft(l,o),r=Ft(l,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(l.onclick=vr)}for(s in fr(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(a in l=o[s])l.hasOwnProperty(a)&&(n||(n={}),n[a]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&($e.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(s,c)):"children"===s?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&($e.hasOwnProperty(s)?(null!=c&&mr(i,s),e||l===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Ya=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var al="function"==typeof WeakSet?WeakSet:Set;function ll(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=kt(n)),null!==n&&Ct(n.type),t=t.value,null!==e&&1===e.tag&&Ct(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function cl(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ec(e,t)}else t.current=null}function ul(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:rs(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(pe(163))}function hl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function dl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void dl(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:rs(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ws(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ws(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&kr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Vn(n)))));case 19:case 17:case 20:case 21:return}throw Error(pe(163))}function pl(e,t,n){switch("function"==typeof Mc&&Mc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qo(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){Ec(i,e)}}e=e.next}while(e!==r)}))}break;case 1:cl(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ec(e,t)}}(t,n);break;case 5:cl(t);break;case 4:yl(e,t,n)}}function gl(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&gl(t)}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function vl(e){e:{for(var t=e.return;null!==t;){if(ml(t)){var n=t;break e}t=t.return}throw Error(pe(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(pe(161))}16&n.effectTag&&(qt(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ml(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=vr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function yl(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(pe(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var a=e,l=o,c=n,u=l;;)if(pl(a,u,c),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i?(a=r,l=o.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(pl(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function bl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void hl(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Lr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&$t(n,r),pr(e,i),t=pr(e,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];"style"===s?hr(n,a):"dangerouslySetInnerHTML"===s?Kt(n,a):"children"===s?qt(n,a):ot(n,s,a,t)}switch(e){case"input":Lt(n,r);break;case"textarea":Ut(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Nt(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Nt(n,!!r.multiple,r.defaultValue,!0):Nt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(pe(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Vn(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Wl=qo()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=ur("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void wl(t);case 19:return void wl(t);case 17:return}throw Error(pe(163))}function wl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new al),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var _l="function"==typeof WeakMap?WeakMap:Map;function Sl(e,t,n){(n=ms(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),ll(e,t)},n}function xl(e,t,n){(n=ms(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ll(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this),ll(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Cl,kl=Math.ceil,El=it.ReactCurrentDispatcher,Al=it.ReactCurrentOwner,Rl=0,Tl=3,Ml=4,Ol=0,$l=null,Ll=null,Il=0,Pl=Rl,Dl=null,Nl=1073741823,Fl=1073741823,Bl=null,Ul=0,zl=!1,Wl=0,jl=null,Hl=!1,Vl=null,Gl=null,Kl=!1,ql=null,Xl=90,Yl=null,Ql=0,Jl=null,Zl=0;function ec(){return 0!=(48&Ol)?1073741821-(qo()/10|0):0!==Zl?Zl:Zl=1073741821-(qo()/10|0)}function tc(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Xo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Ol))return Il;if(null!==n)e=ns(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=ns(e,150,100);break;case 97:case 96:e=ns(e,5e3,250);break;case 95:e=2;break;default:throw Error(pe(326))}return null!==$l&&e===Il&&--e,e}function nc(e,t){if(50<Ql)throw Ql=0,Jl=null,Error(pe(185));if(null!==(e=rc(e,t))){var n=Xo();1073741823===t?0!=(8&Ol)&&0==(48&Ol)?ac(e):(oc(e),0===Ol&&es()):oc(e),0==(4&Ol)||98!==n&&99!==n||(null===Yl?Yl=new Map([[e,t]]):(void 0===(n=Yl.get(e))||n>t)&&Yl.set(e,t))}}function rc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&($l===i&&(pc(t),Pl===Ml&&zc(i,Il)),Wc(i,t)),i}function ic(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Uc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function oc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Zo(ac.bind(null,e));else{var t=ic(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ec();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==zo&&$o(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Zo(ac.bind(null,e)):Jo(r,sc.bind(null,e),{timeout:10*(1073741821-t)-qo()}),e.callbackNode=t}}}function sc(e,t){if(Zl=0,t)return jc(e,t=ec()),oc(e),null;var n=ic(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ol))throw Error(pe(327));if(xc(),e===$l&&n===Il||uc(e,n),null!==Ll){var r=Ol;Ol|=16;for(var i=dc();;)try{mc();break}catch(t){hc(e,t)}if(ls(),Ol=r,El.current=i,1===Pl)throw t=Dl,uc(e,n),zc(e,n),oc(e),t;if(null===Ll)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Pl,$l=null,r){case Rl:case 1:throw Error(pe(345));case 2:jc(e,2<n?2:n);break;case Tl:if(zc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bc(i)),1073741823===Nl&&10<(i=Wl+500-qo())){if(zl){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,uc(e,n);break}}if(0!==(o=ic(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Ar(wc.bind(null,e),i);break}wc(e);break;case Ml:if(zc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bc(i)),zl&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,uc(e,n);break}if(0!==(i=ic(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Fl?r=10*(1073741821-Fl)-qo():1073741823===Nl?r=0:(r=10*(1073741821-Nl)-5e3,0>(r=(i=qo())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Ar(wc.bind(null,e),r);break}wc(e);break;case 5:if(1073741823!==Nl&&null!==Bl){o=Nl;var s=Bl;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=qo()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){zc(e,n),e.timeoutHandle=Ar(wc.bind(null,e),r);break}}wc(e);break;default:throw Error(pe(329))}if(oc(e),e.callbackNode===t)return sc.bind(null,e)}}return null}function ac(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ol))throw Error(pe(327));if(xc(),e===$l&&t===Il||uc(e,t),null!==Ll){var n=Ol;Ol|=16;for(var r=dc();;)try{gc();break}catch(t){hc(e,t)}if(ls(),Ol=n,El.current=r,1===Pl)throw n=Dl,uc(e,t),zc(e,t),oc(e),n;if(null!==Ll)throw Error(pe(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,$l=null,wc(e),oc(e)}return null}function lc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&es()}}function cc(e,t){var n=Ol;Ol&=-2,Ol|=8;try{return e(t)}finally{0===(Ol=n)&&es()}}function uc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Rr(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ko();break;case 3:zs(),vo(_o),vo(wo);break;case 5:js(r);break;case 4:zs();break;case 13:case 19:vo(Hs);break;case 10:cs(r)}n=n.return}$l=e,Ll=Ic(e.current,null),Il=t,Pl=Rl,Dl=null,Fl=Nl=1073741823,Bl=null,Ul=0,zl=!1}function hc(e,t){for(;;){try{if(ls(),Ks.current=Ca,Zs)for(var n=Ys.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Xs=0,Js=Qs=Ys=null,Zs=!1,null===Ll||null===Ll.return)return Pl=1,Dl=t,Ll=null;e:{var i=e,o=Ll.return,s=Ll,a=t;if(t=Il,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var l=a;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.expirationTime=c.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var u=0!=(1&Hs.current),h=o;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(d){var g=h.updateQueue;if(null===g){var m=new Set;m.add(l),h.updateQueue=m}else g.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=ms(1073741823,null);v.tag=2,vs(s,v)}s.expirationTime=1073741823;break e}a=void 0,s=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new _l,a=new Set,y.set(l,a)):void 0===(a=y.get(l))&&(a=new Set,y.set(l,a)),!a.has(s)){a.add(s);var b=Ac.bind(null,i,l,s);l.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);a=Error((Ct(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+kt(s))}5!==Pl&&(Pl=2),a=sl(a,s),h=o;do{switch(h.tag){case 3:l=a,h.effectTag|=4096,h.expirationTime=t,ys(h,Sl(h,l,t));break e;case 1:l=a;var w=h.type,_=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Gl||!Gl.has(_)))){h.effectTag|=4096,h.expirationTime=t,ys(h,xl(h,l,t));break e}}h=h.return}while(null!==h)}Ll=yc(Ll)}catch(e){t=e;continue}break}}function dc(){var e=El.current;return El.current=Ca,null===e?Ca:e}function fc(e,t){e<Nl&&2<e&&(Nl=e),null!==t&&e<Fl&&2<e&&(Fl=e,Bl=t)}function pc(e){e>Ul&&(Ul=e)}function gc(){for(;null!==Ll;)Ll=vc(Ll)}function mc(){for(;null!==Ll&&!Wo();)Ll=vc(Ll)}function vc(e){var t=Cl(e.alternate,e,Il);return e.memoizedProps=e.pendingProps,null===t&&(t=yc(e)),Al.current=null,t}function yc(e){Ll=e;do{var t=Ll.alternate;if(e=Ll.return,0==(2048&Ll.effectTag)){if(t=il(t,Ll,Il),1===Il||1!==Ll.childExpirationTime){for(var n=0,r=Ll.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ll.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ll.firstEffect),null!==Ll.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ll.firstEffect),e.lastEffect=Ll.lastEffect),1<Ll.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ll:e.firstEffect=Ll,e.lastEffect=Ll))}else{if(null!==(t=ol(Ll)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ll.sibling))return t;Ll=e}while(null!==Ll);return Pl===Rl&&(Pl=5),null}function bc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function wc(e){var t=Xo();return Qo(99,_c.bind(null,e,t)),null}function _c(e,t){do{xc()}while(null!==ql);if(0!=(48&Ol))throw Error(pe(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=bc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===$l&&(Ll=$l=null,Il=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ol;Ol|=32,Al.current=null,xr=tr;var s=_r();if(Sr(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(a=(a=s.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(l&&0!==l.rangeCount){a=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{a.nodeType,u.nodeType}catch(e){a=null;break e}var h=0,d=-1,f=-1,p=0,g=0,m=s,v=null;t:for(;;){for(var y;m!==a||0!==c&&3!==m.nodeType||(d=h+c),m!==u||0!==l&&3!==m.nodeType||(f=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===s)break t;if(v===a&&++p===c&&(d=h),v===u&&++g===l&&(f=h),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}a=-1===d||-1===f?null:{start:d,end:f}}else a=null}a=a||{start:0,end:0}}else a=null;Cr={activeElementDetached:null,focusedElem:s,selectionRange:a},tr=!1,jl=i;do{try{Sc()}catch(e){if(null===jl)throw Error(pe(330));Ec(jl,e),jl=jl.nextEffect}}while(null!==jl);jl=i;do{try{for(s=e,a=t;null!==jl;){var b=jl.effectTag;if(16&b&&qt(jl.stateNode,""),128&b){var w=jl.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:vl(jl),jl.effectTag&=-3;break;case 6:vl(jl),jl.effectTag&=-3,bl(jl.alternate,jl);break;case 1024:jl.effectTag&=-1025;break;case 1028:jl.effectTag&=-1025,bl(jl.alternate,jl);break;case 4:bl(jl.alternate,jl);break;case 8:yl(s,c=jl,a),gl(c)}jl=jl.nextEffect}}catch(e){if(null===jl)throw Error(pe(330));Ec(jl,e),jl=jl.nextEffect}}while(null!==jl);if(_=Cr,w=_r(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==a&&Sr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),c=b.textContent.length,s=Math.min(a.start,c),a=void 0===a.end?s:Math.min(a.end,c),!_.extend&&s>a&&(c=a,a=s,s=c),c=wr(b,s),u=wr(b,a),c&&u&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==u.node||_.focusOffset!==u.offset)&&((w=w.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),s>a?(_.addRange(w),_.extend(u.node,u.offset)):(w.setEnd(u.node,u.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}tr=!!xr,Cr=xr=null,e.current=n,jl=i;do{try{for(b=e;null!==jl;){var S=jl.effectTag;if(36&S&&fl(b,jl.alternate,jl),128&S){w=void 0;var x=jl.ref;if(null!==x){var C=jl.stateNode;switch(jl.tag){case 5:w=C;break;default:w=C}"function"==typeof x?x(w):x.current=w}}jl=jl.nextEffect}}catch(e){if(null===jl)throw Error(pe(330));Ec(jl,e),jl=jl.nextEffect}}while(null!==jl);jl=null,jo(),Ol=o}else e.current=n;if(Kl)Kl=!1,ql=e,Xl=t;else for(jl=i;null!==jl;)t=jl.nextEffect,jl.nextEffect=null,jl=t;if(0===(t=e.firstPendingTime)&&(Gl=null),1073741823===t?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,"function"==typeof Tc&&Tc(n.stateNode,r),oc(e),Hl)throw Hl=!1,e=Vl,Vl=null,e;return 0!=(8&Ol)||es(),null}function Sc(){for(;null!==jl;){var e=jl.effectTag;0!=(256&e)&&ul(jl.alternate,jl),0==(512&e)||Kl||(Kl=!0,Jo(97,(function(){return xc(),null}))),jl=jl.nextEffect}}function xc(){if(90!==Xl){var e=97<Xl?97:Xl;return Xl=90,Qo(e,Cc)}}function Cc(){if(null===ql)return!1;var e=ql;if(ql=null,0!=(48&Ol))throw Error(pe(331));var t=Ol;for(Ol|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:hl(5,n),dl(5,n)}}catch(t){if(null===e)throw Error(pe(330));Ec(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ol=t,es(),!0}function kc(e,t,n){vs(e,t=Sl(e,t=sl(n,t),1073741823)),null!==(e=rc(e,1073741823))&&oc(e)}function Ec(e,t){if(3===e.tag)kc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){kc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){vs(n,e=xl(n,e=sl(t,e),1073741823)),null!==(n=rc(n,1073741823))&&oc(n);break}}n=n.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),$l===e&&Il===n?Pl===Ml||Pl===Tl&&1073741823===Nl&&qo()-Wl<500?uc(e,Il):zl=!0:Uc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,oc(e)))}function Rc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=tc(t=ec(),e,null)),null!==(e=rc(e,t))&&oc(e)}Cl=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||_o.current)Fa=!0;else{if(r<n){switch(Fa=!1,t.tag){case 3:Ka(t),Da();break;case 5:if(Ws(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Co(t.type)&&Ro(t);break;case 4:Us(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,yo(is,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ja(e,t,n):(yo(Hs,1&Hs.current),null!==(t=nl(e,t,n))?t.sibling:null);yo(Hs,1&Hs.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return tl(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),yo(Hs,Hs.current),!r)return null}return nl(e,t,n)}Fa=!1}}else Fa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=xo(t,wo.current),hs(t,n),i=na(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Co(r)){var o=!0;Ro(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ps(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&xs(t,r,s,e),i.updater=Cs,t.stateNode=i,i._reactInternalFiber=t,Rs(t,r,e,n),t=Ga(null,t,r,!0,o,n)}else t.tag=0,Ba(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Lc(e)?1:0;if(null!=e){if((e=e.$$typeof)===mt)return 11;if(e===bt)return 14}return 2}(i),e=rs(i,e),o){case 0:t=Ha(null,t,i,e,n);break e;case 1:t=Va(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=za(null,t,i,rs(i.type,e),r,n);break e}throw Error(pe(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:rs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:rs(r,i),n);case 3:if(Ka(t),r=t.updateQueue,null===e||null===r)throw Error(pe(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,gs(e,t),bs(t,r,null,n),(r=t.memoizedState.element)===i)Da(),t=nl(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ta=Tr(t.stateNode.containerInfo.firstChild),Ra=t,i=Ma=!0),i)for(n=Is(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ba(e,t,r,n),Da();t=t.child}return t;case 5:return Ws(t),null===e&&La(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Er(r,i)?s=null:null!==o&&Er(r,o)&&(t.effectTag|=16),ja(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ba(e,t,s,n),t=t.child),t;case 6:return null===e&&La(t),null;case 13:return Ja(e,t,n);case 4:return Us(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ls(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:rs(r,i),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var a=t.type._context;if(yo(is,a._currentValue),a._currentValue=o,null!==s)if(a=s.value,0===(o=Vi(a,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(a,o):1073741823))){if(s.children===i.children&&!_o.current){t=nl(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===a.tag&&((c=ms(n,null)).tag=2,vs(a,c)),a.expirationTime<n&&(a.expirationTime=n),null!==(c=a.alternate)&&c.expirationTime<n&&(c.expirationTime=n),us(a.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===a.tag&&a.type===t.type?null:a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,hs(t,n),r=r(i=ds(i,o.unstable_observedBits)),t.effectTag|=1,Ba(e,t,r,n),t.child;case 14:return o=rs(i=t.type,t.pendingProps),za(e,t,i,o=rs(i.type,o),r,n);case 15:return Wa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rs(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Co(r)?(e=!0,Ro(t)):e=!1,hs(t,n),Es(t,r,i),Rs(t,r,i,n),Ga(null,t,r,!0,e,n);case 19:return tl(e,t,n)}throw Error(pe(156,t.tag))};var Tc=null,Mc=null;function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $c(e,t,n,r){return new Oc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=$c(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Lc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ut:return Dc(n.children,i,o,t);case gt:s=8,i|=7;break;case ht:s=8,i|=1;break;case dt:return(e=$c(12,n,t,8|i)).elementType=dt,e.type=dt,e.expirationTime=o,e;case vt:return(e=$c(13,n,t,i)).type=vt,e.elementType=vt,e.expirationTime=o,e;case yt:return(e=$c(19,n,t,i)).elementType=yt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ft:s=10;break e;case pt:s=9;break e;case mt:s=11;break e;case bt:s=14;break e;case wt:s=16,r=null;break e;case _t:s=22;break e}throw Error(pe(130,null==e?e:typeof e,""))}return(t=$c(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Dc(e,t,n,r){return(e=$c(7,e,r,t)).expirationTime=n,e}function Nc(e,t,n){return(e=$c(6,e,null,t)).expirationTime=n,e}function Fc(e,t,n){return(t=$c(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Uc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function zc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Wc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function jc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Hc(e,t,n,r){var i=t.current,o=ec(),s=_s.suspense;o=tc(o,i,s);e:if(n){t:{if(ln(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(pe(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Co(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);throw Error(pe(171))}if(1===n.tag){var l=n.type;if(Co(l)){n=Ao(n,l,a);break e}}n=a}else n=bo;return null===t.context?t.context=n:t.pendingContext=n,(t=ms(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vs(i,t),nc(i,o),o}function Vc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Gc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}function qc(e,t,n){var r=new Bc(e,t,n=null!=n&&!0===n.hydrate),i=$c(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ps(i),e[Ir]=r.current,n&&0!==t&&function(e,t){var n=an(t);Pn.forEach((function(e){xn(e,t,n)})),Dn.forEach((function(e){xn(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Vc(s);a.call(e)}}Hc(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new qc(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Vc(s);l.call(e)}}cc((function(){Hc(t,s,e,i)}))}return Vc(s)}function Qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ct,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Jc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(pe(200));return Qc(e,t,null,n)}qc.prototype.render=function(e){Hc(e,this._internalRoot,null,null)},qc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Hc(null,e,null,(function(){t[Ir]=null}))},Cn=function(e){if(13===e.tag){var t=ns(ec(),150,100);nc(e,t),Kc(e,t)}},kn=function(e){13===e.tag&&(nc(e,3),Kc(e,3))},En=function(e){if(13===e.tag){var t=ec();nc(e,t=tc(t,e,null)),Kc(e,t)}},De=function(e,t,n){switch(t){case"input":if(Lt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fr(r);if(!i)throw Error(pe(90));Tt(r),Lt(r,i)}}}break;case"textarea":Ut(e,n);break;case"select":null!=(t=n.value)&&Nt(e,!!n.multiple,t,!1)}},We=lc,je=function(e,t,n,r,i){var o=Ol;Ol|=4;try{return Qo(98,e.bind(null,t,n,r,i))}finally{0===(Ol=o)&&es()}},He=function(){0==(49&Ol)&&(function(){if(null!==Yl){var e=Yl;Yl=null,e.forEach((function(e,t){jc(t,e),oc(t)})),es()}}(),xc())},Ve=function(e,t){var n=Ol;Ol|=2;try{return e(t)}finally{0===(Ol=n)&&es()}};var Zc,eu,tu={Events:[Dr,Nr,Fr,Ie,Oe,Vr,function(e){fn(e,Hr)},Ue,ze,sr,mn,xc,{current:!1}]};eu=(Zc={findFiberByHostInstance:Pr,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Tc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Mc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(E({},Zc,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:it.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=hn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return eu?eu(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var nu={__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:tu,createPortal:Jc,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(pe(188));throw Error(pe(268,Object.keys(e)))}return e=null===(e=hn(t))?null:e.stateNode},flushSync:function(e,t){if(0!=(48&Ol))throw Error(pe(187));var n=Ol;Ol|=1;try{return Qo(99,e.bind(null,t))}finally{Ol=n,es()}},hydrate:function(e,t,n){if(!Xc(t))throw Error(pe(200));return Yc(null,e,t,!0,n)},render:function(e,t,n){if(!Xc(t))throw Error(pe(200));return Yc(null,e,t,!1,n)},unmountComponentAtNode:function(e){if(!Xc(e))throw Error(pe(40));return!!e._reactRootContainer&&(cc((function(){Yc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Ir]=null}))})),!0)},unstable_batchedUpdates:lc,unstable_createPortal:function(e,t){return Jc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!Xc(n))throw Error(pe(200));if(null==e||void 0===e._reactInternalFiber)throw Error(pe(38));return Yc(e,t,n,!1,r)},version:"16.13.1"},ru=_((function(e){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=nu})),iu="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function ou(){throw new Error("setTimeout has not been defined")}function su(){throw new Error("clearTimeout has not been defined")}var au=ou,lu=su;function cu(e){if(au===setTimeout)return setTimeout(e,0);if((au===ou||!au)&&setTimeout)return au=setTimeout,setTimeout(e,0);try{return au(e,0)}catch(t){try{return au.call(null,e,0)}catch(t){return au.call(this,e,0)}}}"function"==typeof iu.setTimeout&&(au=setTimeout),"function"==typeof iu.clearTimeout&&(lu=clearTimeout);var uu,hu=[],du=!1,fu=-1;function pu(){du&&uu&&(du=!1,uu.length?hu=uu.concat(hu):fu=-1,hu.length&&gu())}function gu(){if(!du){var e=cu(pu);du=!0;for(var t=hu.length;t;){for(uu=hu,hu=[];++fu<t;)uu&&uu[fu].run();fu=-1,t=hu.length}uu=null,du=!1,function(e){if(lu===clearTimeout)return clearTimeout(e);if((lu===su||!lu)&&clearTimeout)return lu=clearTimeout,clearTimeout(e);try{lu(e)}catch(t){try{return lu.call(null,e)}catch(t){return lu.call(this,e)}}}(e)}}function mu(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];hu.push(new vu(e,t)),1!==hu.length||du||cu(gu)}function vu(e,t){this.fun=e,this.array=t}vu.prototype.run=function(){this.fun.apply(null,this.array)};function yu(){}var bu=yu,wu=yu,_u=yu,Su=yu,xu=yu,Cu=yu,ku=yu;var Eu=iu.performance||{},Au=Eu.now||Eu.mozNow||Eu.msNow||Eu.oNow||Eu.webkitNow||function(){return(new Date).getTime()};var Ru=new Date;var Tu={nextTick:mu,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:bu,addListener:wu,once:_u,off:Su,removeListener:xu,removeAllListeners:Cu,emit:ku,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Au.call(Eu),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Ru)/1e3}},Mu=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[];Object.freeze(n);var r={};function i(){return++Le.mobxGuid}function o(e){throw s(!1,e),"X"}function s(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}function a(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(r);var l=function(){};function c(e){return null!==e&&"object"==typeof e}function u(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function h(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function d(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return c(e)&&!0===e[n]}}function f(e){return e instanceof Map}function p(e){return e instanceof Set}function g(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function m(e){return e&&e.toString?e.toString():new String(e).toString()}function v(e){return null===e?null:"object"==typeof e?""+e:e}var y="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,w=Symbol("mobx administration"),_=function(){function e(e){void 0===e&&(e="Atom@"+i()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=t.IDerivationState.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return Be(this)},e.prototype.reportChanged=function(){Ne(),function(e){e.lowestObserverState!==t.IDerivationState.STALE&&(e.lowestObserverState=t.IDerivationState.STALE,e.observers.forEach((function(n){n.dependenciesState===t.IDerivationState.UP_TO_DATE&&(n.isTracing!==J.NONE&&Ue(n,e),n.onBecomeStale()),n.dependenciesState=t.IDerivationState.STALE})))}(this),Fe()},e.prototype.toString=function(){return this.name},e}(),S=d("Atom",_);function x(e,t,n){void 0===t&&(t=l),void 0===n&&(n=l);var r=new _(e);return t!==l&&tt(r,t),n!==l&&nt(r,n),r}var C={identity:function(e,t){return e===t},structural:function(e,t){return ln(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return ln(e,t,1)}},k=function(e,t){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */function A(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function R(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function T(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R(arguments[t]));return e}var M=Symbol("mobx did run lazy initializers"),O=Symbol("mobx pending decorators"),$={},L={};function I(e,t){var n=t?$:L;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return P(this),this[e]},set:function(t){P(this),this[e]=t}})}function P(e){var t,n;if(!0!==e[M]){var r=e[O];if(r){h(e,M,!0);var i=T(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=A(i),s=o.next();!s.done;s=o.next()){var a=r[s.value];a.propertyCreator(e,a.prop,a.descriptor,a.decoratorTarget,a.decoratorArguments)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}}function D(e,t){return function(){var r,i=function(n,i,o,s){if(!0===s)return t(n,i,o,n,r),null;if(!Object.prototype.hasOwnProperty.call(n,O)){var a=n[O];h(n,O,E({},a))}return n[O][i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:n,decoratorArguments:r},I(i,e)};return N(arguments)?(r=n,i.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),i)}}function N(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function F(e,t,n){return gt(e)?e:Array.isArray(e)?X.array(e,{name:n}):u(e)?X.object(e,void 0,{name:n}):f(e)?X.map(e,{name:n}):p(e)?X.set(e,{name:n}):e}function B(e){return e}function U(e){s(e);var t=D(!0,(function(t,n,r,i,o){var s=r?r.initializer?r.initializer.call(t):r.value:void 0;Qt(t).addObservableProp(n,s,e)}));return t.enhancer=e,t}var z={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function W(e){return null==e?z:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(z);var j=U(F),H=U((function(e,t,n){return null==e||nn(e)||Wt(e)||Gt(e)||Xt(e)?e:Array.isArray(e)?X.array(e,{name:n,deep:!1}):u(e)?X.object(e,void 0,{name:n,deep:!1}):f(e)?X.map(e,{name:n,deep:!1}):p(e)?X.set(e,{name:n,deep:!1}):o(!1)})),V=U(B),G=U((function(e,t,n){return ln(e,t)?t:e}));function K(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?B:F}var q={box:function(e,t){arguments.length>2&&Y("box");var n=W(t);return new xe(e,K(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&Y("array");var n=W(t);return Nt(e,K(n),n.name)},map:function(e,t){arguments.length>2&&Y("map");var n=W(t);return new Vt(e,K(n),n.name)},set:function(e,t){arguments.length>2&&Y("set");var n=W(t);return new qt(e,K(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&Y("object");var r=W(n);if(!1===r.proxy)return it({},e,t,r);var i=ot(r),o=it({},void 0,void 0,r),s=Tt(o);return st(s,e,t,i),s},ref:V,shallow:H,deep:j,struct:G},X=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return j.apply(null,arguments);if(gt(e))return e;var r=u(e)?X.object(e,t,n):Array.isArray(e)?X.array(e,t):f(e)?X.map(e,t):p(e)?X.set(e,t):e;if(r!==e)return r;o(!1)};function Y(e){o("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(q).forEach((function(e){return X[e]=q[e]}));var Q,J,Z=D(!1,(function(e,t,n,r,i){var o=n.get,s=n.set,a=i[0]||{};Qt(e).addComputedProp(e,t,E({get:o,set:s,context:e},a))})),ee=Z({equals:C.structural}),te=function(e,t,n){if("string"==typeof t)return Z.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return Z.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new ke(r)};te.struct=ee,(Q=t.IDerivationState||(t.IDerivationState={}))[Q.NOT_TRACKING=-1]="NOT_TRACKING",Q[Q.UP_TO_DATE=0]="UP_TO_DATE",Q[Q.POSSIBLY_STALE=1]="POSSIBLY_STALE",Q[Q.STALE=2]="STALE",function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(J||(J={}));var ne=function(e){this.cause=e};function re(e){return e instanceof ne}function ie(e){switch(e.dependenciesState){case t.IDerivationState.UP_TO_DATE:return!1;case t.IDerivationState.NOT_TRACKING:case t.IDerivationState.STALE:return!0;case t.IDerivationState.POSSIBLY_STALE:for(var n=he(!0),r=ce(),i=e.observing,o=i.length,s=0;s<o;s++){var a=i[s];if(Ee(a)){if(Le.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return ue(r),de(n),!0}if(e.dependenciesState===t.IDerivationState.STALE)return ue(r),de(n),!0}}return fe(e),ue(r),de(n),!1}}function oe(e){var t=e.observers.size>0;Le.computationDepth>0&&t&&o(!1),Le.allowStateChanges||!t&&"strict"!==Le.enforceActions||o(!1)}function se(e,n,r){var i=he(!0);fe(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Le.runId;var o,s=Le.trackingDerivation;if(Le.trackingDerivation=e,!0===Le.disableErrorBoundaries)o=n.call(r);else try{o=n.call(r)}catch(e){o=new ne(e)}return Le.trackingDerivation=s,function(e){for(var n=e.observing,r=e.observing=e.newObserving,i=t.IDerivationState.UP_TO_DATE,o=0,s=e.unboundDepsCount,a=0;a<s;a++)0===(l=r[a]).diffValue&&(l.diffValue=1,o!==a&&(r[o]=l),o++),l.dependenciesState>i&&(i=l.dependenciesState);for(r.length=o,e.newObserving=null,s=n.length;s--;)0===(l=n[s]).diffValue&&Pe(l,e),l.diffValue=0;for(;o--;){var l;1===(l=r[o]).diffValue&&(l.diffValue=0,Ie(l,e))}i!==t.IDerivationState.UP_TO_DATE&&(e.dependenciesState=i,e.onBecomeStale())}(e),de(i),o}function ae(e){var n=e.observing;e.observing=[];for(var r=n.length;r--;)Pe(n[r],e);e.dependenciesState=t.IDerivationState.NOT_TRACKING}function le(e){var t=ce();try{return e()}finally{ue(t)}}function ce(){var e=Le.trackingDerivation;return Le.trackingDerivation=null,e}function ue(e){Le.trackingDerivation=e}function he(e){var t=Le.allowStateReads;return Le.allowStateReads=e,t}function de(e){Le.allowStateReads=e}function fe(e){if(e.dependenciesState!==t.IDerivationState.UP_TO_DATE){e.dependenciesState=t.IDerivationState.UP_TO_DATE;for(var n=e.observing,r=n.length;r--;)n[r].lowestObserverState=t.IDerivationState.UP_TO_DATE}}var pe=0,ge=1,me=Object.getOwnPropertyDescriptor((function(){}),"name");function ve(e,t,n){var r=function(){return ye(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function ye(e,t,n,r){var i=be();try{return t.apply(n,r)}catch(e){throw i.error=e,e}finally{we(i)}}function be(e,t,n){var r=ce();Ne();var i={prevDerivation:r,prevAllowStateChanges:_e(!0),prevAllowStateReads:he(!0),notifySpy:!1,startTime:0,actionId:ge++,parentActionId:pe};return pe=i.actionId,i}function we(e){pe!==e.actionId&&o("invalid action stack. did you forget to finish an action?"),pe=e.parentActionId,void 0!==e.error&&(Le.suppressReactionErrors=!0),Se(e.prevAllowStateChanges),de(e.prevAllowStateReads),Fe(),ue(e.prevDerivation),e.notifySpy,Le.suppressReactionErrors=!1}function _e(e){var t=Le.allowStateChanges;return Le.allowStateChanges=e,t}function Se(e){Le.allowStateChanges=e}me&&me.configurable;var xe=function(e){function t(t,n,r,o,s){void 0===r&&(r="ObservableValue@"+i()),void 0===s&&(s=C.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=s,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),a}return function(e,t){function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value,(e=this.prepareNewValue(e))!==Le.UNCHANGED&&this.setNewValue(e)},t.prototype.prepareNewValue=function(e){if(oe(this),Mt(this)){var t=$t(this,{object:this,type:"update",newValue:e});if(!t)return Le.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Le.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Lt(this)&&Pt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Ot(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),It(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return v(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(_),Ce=d("ObservableValue",xe),ke=function(){function e(e){this.dependenciesState=t.IDerivationState.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=t.IDerivationState.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+i(),this.value=new ne(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=J.NONE,s(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+i(),e.set&&(this.setter=ve(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?C.structural:C.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){e.lowestObserverState===t.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=t.IDerivationState.POSSIBLY_STALE,e.observers.forEach((function(n){n.dependenciesState===t.IDerivationState.UP_TO_DATE&&(n.dependenciesState=t.IDerivationState.POSSIBLY_STALE,n.isTracing!==J.NONE&&Ue(n,e),n.onBecomeStale())})))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&o("Cycle detected in computation "+this.name+": "+this.derivation),0!==Le.inBatch||0!==this.observers.size||this.keepAlive?(Be(this),ie(this)&&this.trackAndCompute()&&function(e){e.lowestObserverState!==t.IDerivationState.STALE&&(e.lowestObserverState=t.IDerivationState.STALE,e.observers.forEach((function(n){n.dependenciesState===t.IDerivationState.POSSIBLY_STALE?n.dependenciesState=t.IDerivationState.STALE:n.dependenciesState===t.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=t.IDerivationState.UP_TO_DATE)})))}(this)):ie(this)&&(this.warnAboutUntrackedRead(),Ne(),this.value=this.computeValue(!1),Fe());var e=this.value;if(re(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(re(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){s(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else s(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,n=this.dependenciesState===t.IDerivationState.NOT_TRACKING,r=this.computeValue(!0),i=n||re(e)||re(r)||!this.equals(e,r);return i&&(this.value=r),i},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Le.computationDepth++,e)t=se(this,this.derivation,this.scope);else if(!0===Le.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new ne(e)}return Le.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ae(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return Je((function(){var o=n.get();if(!r||t){var s=ce();e({type:"update",object:n,newValue:o,oldValue:i}),ue(s)}r=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return v(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Ee=d("ComputedValue",ke),Ae=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Re=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Te={};function Me(){return"undefined"!=typeof window?window:void 0!==b?b:"undefined"!=typeof self?self:Te}var Oe=!0,$e=!1,Le=function(){var e=Me();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Oe=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Re).version&&(Oe=!1),Oe?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Re):(setTimeout((function(){$e||o("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Re)}();function Ie(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Pe(e,t){e.observers.delete(t),0===e.observers.size&&De(e)}function De(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Le.pendingUnobservations.push(e))}function Ne(){Le.inBatch++}function Fe(){if(0==--Le.inBatch){je();for(var e=Le.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof ke&&n.suspend())}Le.pendingUnobservations=[]}}function Be(e){var t=Le.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Le.inBatch>0&&De(e),!1)}function Ue(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===J.BREAK){var n=[];!function e(t,n,r){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)})))}(at(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof ke?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var ze=function(){function e(e,n,r,o){void 0===e&&(e="Reaction@"+i()),void 0===o&&(o=!1),this.name=e,this.onInvalidate=n,this.errorHandler=r,this.requiresObservable=o,this.observing=[],this.newObserving=[],this.dependenciesState=t.IDerivationState.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+i(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=J.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Le.pendingReactions.push(this),je())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Ne(),this._isScheduled=!1,ie(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Fe()}},e.prototype.track=function(e){if(!this.isDisposed){Ne(),this._isRunning=!0;var t=se(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ae(this),re(t)&&this.reportExceptionInDerivation(t.cause),Fe()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Le.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Le.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),Le.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ne(),ae(this),Fe()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[w]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),_t(this,e)},e}(),We=function(e){return e()};function je(){Le.inBatch>0||Le.isRunningReactions||We(He)}function He(){Le.isRunningReactions=!0;for(var e=Le.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}Le.isRunningReactions=!1}var Ve=d("Reaction",ze);function Ge(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Ke(){o(!1)}function qe(e){return function(t,n,r){if(r){if(r.value)return{value:ve(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ve(e,i.call(this))}}}return Xe(e).apply(this,arguments)}}function Xe(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){h(this,n,Ye(e,t))}})}}var Ye=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?ve(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?ve(e,t):1===arguments.length&&"string"==typeof e?qe(e):!0!==r?qe(t).apply(null,arguments):void h(e,t,ve(e.name||t,n.value,this))};function Qe(e,t,n){h(e,t,ve(t,n.bind(e)))}function Je(e,t){void 0===t&&(t=r);var n,o=t&&t.name||e.name||"Autorun@"+i();if(t.scheduler||t.delay){var s=et(t),a=!1;n=new ze(o,(function(){a||(a=!0,s((function(){a=!1,n.isDisposed||n.track(l)})))}),t.onError,t.requiresObservable)}else n=new ze(o,(function(){this.track(l)}),t.onError,t.requiresObservable);function l(){e(n)}return n.schedule(),n.getDisposer()}Ye.bound=function(e,t,n,r){return!0===r?(Qe(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Qe(this,t,n.value||n.initializer.call(this)),this[t]},set:Ke}:{enumerable:!1,configurable:!0,set:function(e){Qe(this,t,e)},get:function(){}}};var Ze=function(e){return e()};function et(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ze}function tt(e,t,n){return rt("onBecomeObserved",e,t,n)}function nt(e,t,n){return rt("onBecomeUnobserved",e,t,n)}function rt(e,t,n,r){var i="function"==typeof r?rn(t,n):rn(t),s="function"==typeof r?r:n,a=e+"Listeners";return i[a]?i[a].add(s):i[a]=new Set([s]),"function"!=typeof i[e]?o(!1):function(){var e=i[a];e&&(e.delete(s),0===e.size&&delete i[a])}}function it(e,t,n,r){var i=ot(r=W(r));return P(e),Qt(e,r.name,i.enhancer),t&&st(e,t,n,i),e}function ot(e){return e.defaultDecorator||(!1===e.deep?V:j)}function st(e,t,n,r){var i,o;Ne();try{var s=y(t);try{for(var a=A(s),l=a.next();!l.done;l=a.next()){var c=l.value,u=Object.getOwnPropertyDescriptor(t,c),h=(n&&c in n?n[c]:u.get?Z:r)(e,c,u,!0);h&&Object.defineProperty(e,c,h)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}finally{Fe()}}function at(e,t){return lt(rn(e,t))}function lt(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(lt)),r}function ct(e){var t={name:e.name};return function(e){return e.observers&&e.observers.size>0}(e)&&(t.observers=Array.from(function(e){return e.observers}(e)).map(ct)),t}var ut=0;function ht(){this.message="FLOW_CANCELLED"}function dt(e){"function"==typeof e.cancel&&e.cancel()}function ft(e,t){if(null==e)return!1;if(void 0!==t){if(!1===nn(e))return!1;if(!e[w].values.has(t))return!1;var n=rn(e,t);return Ee(n)}return Ee(e)}function pt(e,t){return null!=e&&(void 0!==t?!!nn(e)&&e[w].values.has(t):nn(e)||!!e[w]||S(e)||Ve(e)||Ee(e))}function gt(e){return 1!==arguments.length&&o(!1),pt(e)}function mt(e){return nn(e)?e[w].getKeys():Gt(e)||Xt(e)?Array.from(e.keys()):Wt(e)?e.map((function(e,t){return t})):o(!1)}function vt(e,t,n){if(2!==arguments.length||Xt(e))if(nn(e)){var r=e[w],i=r.values.get(t);i?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(Gt(e))e.set(t,n);else if(Xt(e))e.add(t);else{if(!Wt(e))return o(!1);"number"!=typeof t&&(t=parseInt(t,10)),s(t>=0,"Not a valid index: '"+t+"'"),Ne(),t>=e.length&&(e.length=t+1),e[t]=n,Fe()}else{Ne();var a=t;try{for(var l in a)vt(e,l,a[l])}finally{Fe()}}}function yt(e,t){return nn(e)?on(e).has(t):Gt(e)||Xt(e)?e.has(t):Wt(e)?t>=0&&t<e.length:o(!1)}ht.prototype=Object.create(Error.prototype);var bt={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function wt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function _t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=St(e);if(!r)return o(!1);r.isTracing===J.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?J.BREAK:J.LOG}function St(e){switch(e.length){case 0:return Le.trackingDerivation;case 1:return rn(e[0]);case 2:return rn(e[0],e[1])}}function xt(e,t){void 0===t&&(t=void 0),Ne();try{return e.apply(t)}finally{Fe()}}function Ct(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!s[w].isDisposed){s();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+i();var o=ve(n.name+"-effect",t),s=Je((function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())}),n);return s}function kt(e,t){var n,r=new Promise((function(r,i){var o=Ct(e,r,E(E({},t),{onError:i}));n=function(){o(),i("WHEN_CANCELLED")}}));return r.cancel=n,r}function Et(e){return e[w]}function At(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var Rt={has:function(e,t){if(t===w||"constructor"===t||t===M)return!0;var n=Et(e);return At(t)?n.has(t):t in e},get:function(e,t){if(t===w||"constructor"===t||t===M)return e[t];var n=Et(e),r=n.values.get(t);if(r instanceof _){var i=r.get();return void 0===i&&n.has(t),i}return At(t)&&n.has(t),e[t]},set:function(e,t,n){return!!At(t)&&(vt(e,t,n),!0)},deleteProperty:function(e,t){return!!At(t)&&(Et(e).remove(t),!0)},ownKeys:function(e){return Et(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return o("Dynamic observable objects cannot be frozen"),!1}};function Tt(e){var t=new Proxy(e,Rt);return e[w].proxy=t,t}function Mt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Ot(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),a((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function $t(e,t){var n=ce();try{for(var r=T(e.interceptors||[]),i=0,o=r.length;i<o&&(s(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{ue(n)}}function Lt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function It(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),a((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Pt(e,t){var n=ce(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);ue(n)}}var Dt={get:function(e,t){return t===w?e[w]:"length"===t?e[w].getArrayLength():"number"==typeof t?Bt.get.call(e,t):"string"!=typeof t||isNaN(t)?Bt.hasOwnProperty(t)?Bt[t]:e[t]:Bt.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[w].setArrayLength(n),"number"==typeof t&&Bt.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:Bt.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return o("Observable arrays cannot be frozen"),!1}};function Nt(e,t,n,r){void 0===n&&(n="ObservableArray@"+i()),void 0===r&&(r=!1);var o,s,a,l=new Ft(n,t,r);o=l.values,s=w,a=l,Object.defineProperty(o,s,{enumerable:!1,writable:!1,configurable:!0,value:a});var c=new Proxy(l.values,Dt);if(l.proxy=c,e&&e.length){var u=_e(!0);l.spliceWithArray(0,0,e),Se(u)}return c}var Ft=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new _(e||"ObservableArray@"+i()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Ot(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),It(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,r){var i=this;oe(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===r&&(r=n),Mt(this)){var s=$t(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:r});if(!s)return n;t=s.removedCount,r=s.added}r=0===r.length?r:r.map((function(e){return i.enhancer(e,void 0)}));var a=this.spliceItemsIntoValues(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice(e,r,a),this.dehanceValues(a)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,T([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,i=Lt(this),o=i||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),i&&Pt(this,o)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,i=Lt(this),o=i||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),i&&Pt(this,o)},e}(),Bt={intercept:function(e){return this[w].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[w].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[w];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[w];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[w].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[w];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[w].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[w];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[w],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[w];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[w],r=n.values;if(e<r.length){oe(n.atom);var i=r[e];if(Mt(n)){var o=$t(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Bt[e]=function(){var t=this[w];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Bt[e]=function(t,n){var r=this,i=this[w];return i.atom.reportObserved(),i.dehanceValues(i.values)[e]((function(e,i){return t.call(n,e,i,r)}),n)})})),["reduce","reduceRight"].forEach((function(e){Bt[e]=function(){var t=this,n=this[w];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,i,o){return i=n.dehanceValue(i),r(e,i,o,t)},n.values[e].apply(n.values,arguments)}}));var Ut,zt=d("ObservableArrayAdministration",Ft);function Wt(e){return c(e)&&zt(e[w])}var jt,Ht={},Vt=function(){function e(e,t,n){if(void 0===t&&(t=F),void 0===n&&(n="ObservableMap@"+i()),this.enhancer=t,this.name=n,this[Ut]=Ht,this._keysAtom=x(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Le.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new xe(this._has(e),B,this.name+"."+m(e)+"?",!1);this._hasMap.set(e,r),nt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Mt(this)){var r=$t(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(oe(this._keysAtom),Mt(this)&&!(r=$t(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Lt(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return xt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),n&&Pt(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Le.UNCHANGED){var r=Lt(this),i=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;n.setNewValue(t),r&&Pt(this,i)}},e.prototype._addValue=function(e,t){var n=this;oe(this._keysAtom),xt((function(){var r=new xe(t,n.enhancer,n.name+"."+m(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=Lt(this);r&&Pt(this,r?{type:"add",object:this,name:e,newValue:t}:null)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return hn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return hn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},e.prototype[(Ut=w,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var i=A(this),o=i.next();!o.done;o=i.next()){var s=R(o.value,2),a=s[0],l=s[1];e.call(t,l,a,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return Gt(e)&&(e=e.toJS()),xt((function(){var n=_e(!0);try{u(e)?g(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=R(e,2),r=n[0],i=n[1];return t.set(r,i)})):f(e)?(e.constructor!==Map&&o("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&o("Cannot initialize map from "+e)}finally{Se(n)}})),this},e.prototype.clear=function(){var e=this;xt((function(){le((function(){var t,n;try{for(var r=A(e.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return xt((function(){var n,r,i,s,a=function(e){if(f(e)||Gt(e))return e;if(Array.isArray(e))return new Map(e);if(u(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return o("Cannot convert to map from '"+e+"'")}(e),l=new Map,c=!1;try{for(var h=A(t._data.keys()),d=h.next();!d.done;d=h.next()){var p=d.value;if(!a.has(p))if(t.delete(p))c=!0;else{var g=t._data.get(p);l.set(p,g)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var m=A(a.entries()),v=m.next();!v.done;v=m.next()){var y=R(v.value,2),b=(p=y[0],g=y[1],t._data.has(p));if(t.set(p,g),t._data.has(p)){var w=t._data.get(p);l.set(p,w),b||(c=!0)}}}catch(e){i={error:e}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}if(!c)if(t._data.size!==l.size)t._keysAtom.reportChanged();else for(var _=t._data.keys(),S=l.keys(),x=_.next(),C=S.next();!x.done;){if(x.value!==C.value){t._keysAtom.reportChanged();break}x=_.next(),C=S.next()}t._data=l})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=A(this),i=r.next();!i.done;i=r.next()){var o=R(i.value,2),s=o[0],a=o[1];n["symbol"==typeof s?s:m(s)]=a}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return m(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return It(this,e)},e.prototype.intercept=function(e){return Ot(this,e)},e}(),Gt=d("ObservableMap",Vt),Kt={},qt=function(){function e(e,t,n){if(void 0===t&&(t=F),void 0===n&&(n="ObservableSet@"+i()),this.name=n,this[jt]=Kt,this._data=new Set,this._atom=x(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;xt((function(){le((function(){var t,n;try{for(var r=A(e._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var i=A(this),o=i.next();!o.done;o=i.next()){var s=o.value;e.call(t,s,s,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(oe(this._atom),Mt(this)&&!(r=$t(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){xt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=Lt(this),r=n?{type:"add",object:this,newValue:e}:null;n&&Pt(this,r)}return this},e.prototype.delete=function(e){var t=this;if(Mt(this)&&!(r=$t(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=Lt(this),r=n?{type:"delete",object:this,oldValue:e}:null;return xt((function(){t._atom.reportChanged(),t._data.delete(e)})),n&&Pt(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return hn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return hn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Xt(e)&&(e=e.toJS()),xt((function(){var n=_e(!0);try{Array.isArray(e)||p(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&o("Cannot initialize set from "+e)}finally{Se(n)}})),this},e.prototype.observe=function(e,t){return It(this,e)},e.prototype.intercept=function(e){return Ot(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(jt=w,Symbol.iterator)]=function(){return this.values()},e}(),Xt=d("ObservableSet",qt),Yt=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new _(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof ke)r.set(t);else{if(Mt(this)){if(!(o=$t(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=o.newValue}if((t=r.prepareNewValue(t))!==Le.UNCHANGED){var i=Lt(this),o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;r.setNewValue(t),i&&Pt(this,o)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new xe(r,B,this.name+"."+m(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Mt(this)){var i=$t(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}var o=new xe(t,n,this.name+"."+m(e),!1);this.values.set(e,o),t=o.value,Object.defineProperty(r,e,function(e){return Jt[e]||(Jt[e]={configurable:!0,enumerable:!0,get:function(){return this[w].read(e)},set:function(t){this[w].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r,i,o,s=this.target;n.name=n.name||this.name+"."+m(t),this.values.set(t,new ke(n)),(e===s||(r=e,i=t,!(o=Object.getOwnPropertyDescriptor(r,i))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(e,t,function(e){return Zt[e]||(Zt[e]={configurable:Le.computedConfigurable,enumerable:!1,get:function(){return en(this).read(e)},set:function(t){en(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(Mt(this)&&!(s=$t(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Ne();var n=Lt(this),r=this.values.get(e),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!1)}delete this.target[e];var s=n?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;n&&Pt(this,s)}finally{Fe()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return It(this,e)},e.prototype.intercept=function(e){return Ot(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=Lt(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&Pt(this,r),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=A(this.values),i=r.next();!i.done;i=r.next()){var o=R(i.value,2),s=o[0];o[1]instanceof xe&&n.push(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function Qt(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=F),Object.prototype.hasOwnProperty.call(e,w))return e[w];u(e)||(t=(e.constructor.name||"ObservableObject")+"@"+i()),t||(t="ObservableObject@"+i());var r=new Yt(e,new Map,m(t),n);return h(e,w,r),r}var Jt=Object.create(null),Zt=Object.create(null);function en(e){return e[w]||(P(e),e[w])}var tn=d("ObservableObjectAdministration",Yt);function nn(e){return!!c(e)&&(P(e),tn(e[w]))}function rn(e,t){if("object"==typeof e&&null!==e){if(Wt(e))return void 0!==t&&o(!1),e[w].atom;if(Xt(e))return e[w];if(Gt(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||o(!1),r)}var r;if(P(e),t&&!e[w]&&e[t],nn(e))return t?((r=e[w].values.get(t))||o(!1),r):o(!1);if(S(e)||Ee(e)||Ve(e))return e}else if("function"==typeof e&&Ve(e[w]))return e[w];return o(!1)}function on(e,t){return e||o("Expecting some object"),void 0!==t?on(rn(e,t)):S(e)||Ee(e)||Ve(e)||Gt(e)||Xt(e)?e:(P(e),e[w]?e[w]:void o(!1))}function sn(e,t){return(void 0!==t?rn(e,t):nn(e)||Gt(e)||Xt(e)?on(e):rn(e)).name}var an=Object.prototype.toString;function ln(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var s=typeof t;if("function"!==s&&"object"!==s&&"object"!=typeof n)return!1;var a=an.call(t);if(a!==an.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=cn(t),n=cn(n);var l="[object Array]"===a;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,u=n.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),o=o||[];for(var h=(i=i||[]).length;h--;)if(i[h]===t)return o[h]===n;if(i.push(t),o.push(n),l){if((h=t.length)!==n.length)return!1;for(;h--;)if(!e(t[h],n[h],r-1,i,o))return!1}else{var d=Object.keys(t),f=void 0;if(h=d.length,Object.keys(n).length!==h)return!1;for(;h--;)if(!un(n,f=d[h])||!e(t[f],n[f],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function cn(e){return Wt(e)?e.slice():f(e)||Gt(e)||p(e)||Xt(e)?Array.from(e.entries()):e}function un(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hn(e){return e[Symbol.iterator]=dn,e}function dn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ge,extras:{getDebugName:sn},$mobx:w}),t.$mobx=w,t.FlowCancellationError=ht,t.ObservableMap=Vt,t.ObservableSet=qt,t.Reaction=ze,t._allowStateChanges=function(e,t){var n,r=_e(e);try{n=t()}finally{Se(r)}return n},t._allowStateChangesInsideComputed=function(e){var t,n=Le.computationDepth;Le.computationDepth=0;try{t=e()}finally{Le.computationDepth=n}return t},t._allowStateReadsEnd=de,t._allowStateReadsStart=he,t._endAction=we,t._getAdministration=on,t._getGlobalState=function(){return Le},t._interceptReads=function(e,t,n){var r;if(Gt(e)||Wt(e)||Ce(e))r=on(e);else{if(!nn(e))return o(!1);if("string"!=typeof t)return o(!1);r=on(e,t)}return void 0!==r.dehancer?o(!1):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})},t._isComputingDerivation=function(){return null!==Le.trackingDerivation},t._resetGlobalState=function(){var e=new Re;for(var t in e)-1===Ae.indexOf(t)&&(Le[t]=e[t]);Le.allowStateChanges=!Le.enforceActions},t._startAction=be,t.action=Ye,t.autorun=Je,t.comparer=C,t.computed=te,t.configure=function(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,i=e.disableErrorBoundaries,s=e.reactionScheduler,a=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Le.pendingReactions.length||Le.inBatch||Le.isRunningReactions)&&o("isolateGlobalState should be called before MobX is running any reactions"),$e=!0,Oe&&(0==--Me().__mobxInstanceCount&&(Me().__mobxGlobals=void 0),Le=new Re)),void 0!==t){var c=void 0;switch(t){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:o("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Le.enforceActions=c,Le.allowStateChanges=!0!==c&&"strict"!==c}void 0!==n&&(Le.computedRequiresReaction=!!n),void 0!==a&&(Le.reactionRequiresObservable=!!a),void 0!==l&&(Le.observableRequiresReaction=!!l,Le.allowStateReads=!Le.observableRequiresReaction),void 0!==r&&(Le.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Le.disableErrorBoundaries=!!i),s&&function(e){var t=We;We=function(n){return e((function(){return t(n)}))}}(s)},t.createAtom=x,t.decorate=function(e,t){var n="function"==typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]);var i=Object.getOwnPropertyDescriptor(n,e),o=r.reduce((function(t,r){return r(n,e,t)}),i);o&&Object.defineProperty(n,e,o)};for(var i in t)r(i);return e},t.entries=function(e){return nn(e)?mt(e).map((function(t){return[t,e[t]]})):Gt(e)?mt(e).map((function(t){return[t,e.get(t)]})):Xt(e)?Array.from(e.entries()):Wt(e)?e.map((function(e,t){return[t,e]})):o(!1)},t.extendObservable=it,t.flow=function(e){1!==arguments.length&&o("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,i=arguments,o=++ut,s=Ye(t+" - runid: "+o+" - init",e).apply(r,i),a=void 0,c=new Promise((function(e,r){var i=0;function l(e){var n;a=void 0;try{n=Ye(t+" - runid: "+o+" - yield "+i++,s.next).call(s,e)}catch(e){return r(e)}u(n)}function c(e){var n;a=void 0;try{n=Ye(t+" - runid: "+o+" - yield "+i++,s.throw).call(s,e)}catch(e){return r(e)}u(n)}function u(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(a=Promise.resolve(t.value)).then(l,c);t.then(u,r)}n=r,l(void 0)}));return c.cancel=Ye(t+" - runid: "+o+" - cancel",(function(){try{a&&dt(a);var e=s.return(void 0),t=Promise.resolve(e.value);t.then(l,l),dt(t),n(new ht)}catch(e){n(e)}})),c}},t.get=function(e,t){if(yt(e,t))return nn(e)?e[t]:Gt(e)?e.get(t):Wt(e)?e[t]:o(!1)},t.getAtom=rn,t.getDebugName=sn,t.getDependencyTree=at,t.getObserverTree=function(e,t){return ct(rn(e,t))},t.has=yt,t.intercept=function(e,t,n){return"function"==typeof n?function(e,t,n){return on(e,t).intercept(n)}(e,t,n):function(e,t){return on(e).intercept(t)}(e,t)},t.isAction=function(e){return"function"==typeof e&&!0===e.isMobxAction},t.isArrayLike=function(e){return Array.isArray(e)||Wt(e)},t.isBoxedObservable=Ce,t.isComputed=function(e){return arguments.length>1?o(!1):ft(e)},t.isComputedProp=function(e,t){return"string"!=typeof t?o(!1):ft(e,t)},t.isFlowCancellationError=function(e){return e instanceof ht},t.isObservable=gt,t.isObservableArray=Wt,t.isObservableMap=Gt,t.isObservableObject=nn,t.isObservableProp=function(e,t){return"string"!=typeof t?o(!1):pt(e,t)},t.isObservableSet=Xt,t.keys=mt,t.observable=X,t.observe=function(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return on(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return on(e).observe(t,n)}(e,t,n)},t.onBecomeObserved=tt,t.onBecomeUnobserved=nt,t.onReactionError=function(e){return Le.globalReactionErrorHandlers.push(e),function(){var t=Le.globalReactionErrorHandlers.indexOf(e);t>=0&&Le.globalReactionErrorHandlers.splice(t,1)}},t.reaction=function(e,t,n){void 0===n&&(n=r);var o,s,a,l=n.name||"Reaction@"+i(),c=Ye(l,n.onError?(o=n.onError,s=t,function(){try{return s.apply(this,arguments)}catch(e){o.call(this,e)}}):t),u=!n.scheduler&&!n.delay,h=et(n),d=!0,f=!1,p=n.compareStructural?C.structural:n.equals||C.default,g=new ze(l,(function(){d||u?m():f||(f=!0,h(m))}),n.onError,n.requiresObservable);function m(){if(f=!1,!g.isDisposed){var t=!1;g.track((function(){var n=e(g);t=d||!p(a,n),a=n})),d&&n.fireImmediately&&c(a,g),d||!0!==t||c(a,g),d&&(d=!1)}}return g.schedule(),g.getDisposer()},t.remove=function(e,t){if(nn(e))e[w].remove(t);else if(Gt(e))e.delete(t);else if(Xt(e))e.delete(t);else{if(!Wt(e))return o(!1);"number"!=typeof t&&(t=parseInt(t,10)),s(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}},t.runInAction=function(e,t){return"string"==typeof e||e.name,ye(0,"function"==typeof e?e:t,this,void 0)},t.set=vt,t.spy=Ge,t.toJS=function(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=bt),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!gt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Ce(t))return e(t.get(),n,r);if(gt(t)&&mt(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(Wt(t)||Array.isArray(t)){var i=wt(r,t,[],n),o=t.map((function(t){return e(t,n,r)}));i.length=o.length;for(var s=0,a=o.length;s<a;s++)i[s]=o[s];return i}if(Xt(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var l=wt(r,t,new Set,n);return t.forEach((function(t){l.add(e(t,n,r))})),l}var c=wt(r,t,[],n);return t.forEach((function(t){c.push(e(t,n,r))})),c}if(Gt(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var u=wt(r,t,new Map,n);return t.forEach((function(t,i){u.set(i,e(t,n,r))})),u}var h=wt(r,t,{},n);return t.forEach((function(t,i){h[i]=e(t,n,r)})),h}var d=wt(r,t,{},n);return g(t).forEach((function(i){d[i]=e(t[i],n,r)})),d}(e,t,n)},t.trace=_t,t.transaction=xt,t.untracked=le,t.values=function(e){return nn(e)?mt(e).map((function(t){return e[t]})):Gt(e)?mt(e).map((function(t){return e.get(t)})):Xt(e)?Array.from(e.values()):Wt(e)?e.slice():o(!1)},t.when=function(e,t,n){return 1===arguments.length||t&&"object"==typeof t?kt(e,t):Ct(e,t,n||{})}}));w(Mu);Mu.IDerivationState,Mu.$mobx,Mu.FlowCancellationError,Mu.ObservableMap,Mu.ObservableSet,Mu.Reaction,Mu._allowStateChanges,Mu._allowStateChangesInsideComputed,Mu._allowStateReadsEnd,Mu._allowStateReadsStart,Mu._endAction,Mu._getAdministration,Mu._getGlobalState,Mu._interceptReads,Mu._isComputingDerivation,Mu._resetGlobalState,Mu._startAction,Mu.action,Mu.autorun,Mu.comparer,Mu.computed,Mu.configure,Mu.createAtom,Mu.decorate,Mu.entries,Mu.extendObservable,Mu.flow,Mu.get,Mu.getAtom,Mu.getDebugName,Mu.getDependencyTree,Mu.getObserverTree,Mu.has,Mu.intercept,Mu.isAction,Mu.isArrayLike,Mu.isBoxedObservable,Mu.isComputed,Mu.isComputedProp,Mu.isFlowCancellationError,Mu.isObservable,Mu.isObservableArray,Mu.isObservableMap,Mu.isObservableObject,Mu.isObservableProp,Mu.isObservableSet,Mu.keys,Mu.observable,Mu.observe,Mu.onBecomeObserved,Mu.onBecomeUnobserved,Mu.onReactionError,Mu.reaction,Mu.remove,Mu.runInAction,Mu.set,Mu.spy,Mu.toJS,Mu.trace,Mu.transaction,Mu.untracked,Mu.values,Mu.when;var Ou=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[];Object.freeze(n);var r={};function i(){return++Ne.mobxGuid}function o(e){throw s(!1,e),"X"}function s(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(r);var a=[];function l(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var c=function(){};function u(e){return null!==e&&"object"==typeof e}function h(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function d(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function f(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function p(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return u(e)&&!0===e[n]}}function g(e){return e instanceof Map}function m(e){return e instanceof Set}function v(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function y(e){return e&&e.toString?e.toString():new String(e).toString()}function w(e){return null===e?null:"object"==typeof e?""+e:e}var _="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,S=Symbol("mobx administration"),x=function(){function e(e){void 0===e&&(e="Atom@"+i()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=t.IDerivationState.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return je(this)},e.prototype.reportChanged=function(){ze(),function(e){if(e.lowestObserverState===t.IDerivationState.STALE)return;e.lowestObserverState=t.IDerivationState.STALE,e.observers.forEach((function(n){n.dependenciesState===t.IDerivationState.UP_TO_DATE&&(n.isTracing!==te.NONE&&He(n,e),n.onBecomeStale()),n.dependenciesState=t.IDerivationState.STALE}))}(this),We()},e.prototype.toString=function(){return this.name},e}(),C=p("Atom",x);function k(e,t,n){void 0===t&&(t=c),void 0===n&&(n=c);var r=new x(e);return t!==c&&dt(r,t),n!==c&&ft(r,n),r}var E={identity:function(e,t){return e===t},structural:function(e,t){return wn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return wn(e,t,1)}},A=function(e,t){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function T(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function M(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function O(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(M(arguments[t]));return e}var $=Symbol("mobx did run lazy initializers"),L=Symbol("mobx pending decorators"),I={},P={};function D(e,t){var n=t?I:P;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return N(this),this[e]},set:function(t){N(this),this[e]=t}})}function N(e){var t,n;if(!0!==e[$]){var r=e[L];if(r){d(e,$,!0);var i=O(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=T(i),s=o.next();!s.done;s=o.next()){var a=r[s.value];a.propertyCreator(e,a.prop,a.descriptor,a.decoratorTarget,a.decoratorArguments)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}}function F(e,t){return function(){var r,i=function(n,i,s,a){if(!0===a)return t(n,i,s,n,r),null;if(B(arguments)||o("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(n,L)){var l=n[L];d(n,L,R({},l))}return n[L][i]={prop:i,propertyCreator:t,descriptor:s,decoratorTarget:n,decoratorArguments:r},D(i,e)};return B(arguments)?(r=n,i.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),i)}}function B(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function U(e,t,n){return At(e)?e:Array.isArray(e)?J.array(e,{name:n}):h(e)?J.object(e,void 0,{name:n}):g(e)?J.map(e,{name:n}):m(e)?J.set(e,{name:n}):e}function z(e){return e}function W(e){s(e);var t=F(!0,(function(t,n,r,i,o){s(!r||!r.get,'@observable cannot be used on getter (property "'+y(n)+'"), use @computed instead.');var a=r?r.initializer?r.initializer.call(t):r.value:void 0;un(t).addObservableProp(n,a,e)})),n=void 0!==Tu&&Tu.env?function(){return arguments.length<2?o("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):t.apply(null,arguments)}:t;return n.enhancer=e,n}var j={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function H(e){/^(deep|name|equals|defaultDecorator|proxy)$/.test(e)||o("invalid option for (extend)observable: "+e)}function V(e){return null==e?j:"string"==typeof e?{name:e,deep:!0,proxy:!0}:"object"!=typeof e?o("expected options object"):(Object.keys(e).forEach(H),e)}Object.freeze(j);var G=W(U),K=W((function(e,t,n){return null==e||gn(e)||en(e)||on(e)||ln(e)?e:Array.isArray(e)?J.array(e,{name:n,deep:!1}):h(e)?J.object(e,void 0,{name:n,deep:!1}):g(e)?J.map(e,{name:n,deep:!1}):m(e)?J.set(e,{name:n,deep:!1}):o("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")})),q=W(z),X=W((function(e,t,n){if(At(e))throw"observable.struct should not be used with observable values";return wn(e,t)?t:e}));function Y(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?z:U}var Q={box:function(e,t){arguments.length>2&&Z("box");var n=V(t);return new Ae(e,Y(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&Z("array");var n=V(t);return Xt(e,Y(n),n.name)},map:function(e,t){arguments.length>2&&Z("map");var n=V(t);return new rn(e,Y(n),n.name)},set:function(e,t){arguments.length>2&&Z("set");var n=V(t);return new an(e,Y(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&Z("object");var r=V(n);if(!1===r.proxy)return gt({},e,t,r);var i=mt(r),o=gt({},void 0,void 0,r),s=zt(o);return vt(s,e,t,i),s},ref:q,shallow:K,deep:G,struct:X},J=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return G.apply(null,arguments);if(At(e))return e;var r=h(e)?J.object(e,t,n):Array.isArray(e)?J.array(e,t):g(e)?J.map(e,t):m(e)?J.set(e,t):e;if(r!==e)return r;o("The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function Z(e){o("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(Q).forEach((function(e){return J[e]=Q[e]}));var ee,te,ne=F(!1,(function(e,t,n,r,i){s(n&&n.get,"Trying to declare a computed value for unspecified getter '"+y(t)+"'");var o=n.get,a=n.set,l=i[0]||{};un(e).addComputedProp(e,t,R({get:o,set:a,context:e},l))})),re=ne({equals:E.structural}),ie=function(e,t,n){if("string"==typeof t)return ne.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ne.apply(null,arguments);s("function"==typeof e,"First argument to `computed` should be an expression."),s(arguments.length<3,"Computed takes one or two arguments if used as function");var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Te(r)};ie.struct=re,(ee=t.IDerivationState||(t.IDerivationState={}))[ee.NOT_TRACKING=-1]="NOT_TRACKING",ee[ee.UP_TO_DATE=0]="UP_TO_DATE",ee[ee.POSSIBLY_STALE=1]="POSSIBLY_STALE",ee[ee.STALE=2]="STALE",function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(te||(te={}));var oe=function(e){this.cause=e};function se(e){return e instanceof oe}function ae(e){switch(e.dependenciesState){case t.IDerivationState.UP_TO_DATE:return!1;case t.IDerivationState.NOT_TRACKING:case t.IDerivationState.STALE:return!0;case t.IDerivationState.POSSIBLY_STALE:for(var n=pe(!0),r=de(),i=e.observing,o=i.length,s=0;s<o;s++){var a=i[s];if(Me(a)){if(Ne.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return fe(r),ge(n),!0}if(e.dependenciesState===t.IDerivationState.STALE)return fe(r),ge(n),!0}}return me(e),fe(r),ge(n),!1}}function le(e){var t=e.observers.size>0;Ne.computationDepth>0&&t&&o("Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),Ne.allowStateChanges||!t&&"strict"!==Ne.enforceActions||o((Ne.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function ce(e,n,r){var i=pe(!0);me(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Ne.runId;var o,s=Ne.trackingDerivation;if(Ne.trackingDerivation=e,!0===Ne.disableErrorBoundaries)o=n.call(r);else try{o=n.call(r)}catch(e){o=new oe(e)}return Ne.trackingDerivation=s,function(e){for(var n=e.observing,r=e.observing=e.newObserving,i=t.IDerivationState.UP_TO_DATE,o=0,s=e.unboundDepsCount,a=0;a<s;a++){0===(l=r[a]).diffValue&&(l.diffValue=1,o!==a&&(r[o]=l),o++),l.dependenciesState>i&&(i=l.dependenciesState)}r.length=o,e.newObserving=null,s=n.length;for(;s--;){0===(l=n[s]).diffValue&&Be(l,e),l.diffValue=0}for(;o--;){var l;1===(l=r[o]).diffValue&&(l.diffValue=0,Fe(l,e))}i!==t.IDerivationState.UP_TO_DATE&&(e.dependenciesState=i,e.onBecomeStale())}(e),function(e){if(0!==e.observing.length)return;(Ne.reactionRequiresObservable||e.requiresObservable)&&console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}(e),ge(i),o}function ue(e){var n=e.observing;e.observing=[];for(var r=n.length;r--;)Be(n[r],e);e.dependenciesState=t.IDerivationState.NOT_TRACKING}function he(e){var t=de();try{return e()}finally{fe(t)}}function de(){var e=Ne.trackingDerivation;return Ne.trackingDerivation=null,e}function fe(e){Ne.trackingDerivation=e}function pe(e){var t=Ne.allowStateReads;return Ne.allowStateReads=e,t}function ge(e){Ne.allowStateReads=e}function me(e){if(e.dependenciesState!==t.IDerivationState.UP_TO_DATE){e.dependenciesState=t.IDerivationState.UP_TO_DATE;for(var n=e.observing,r=n.length;r--;)n[r].lowestObserverState=t.IDerivationState.UP_TO_DATE}}var ve=0,ye=1,be=Object.getOwnPropertyDescriptor((function(){}),"name"),we=be&&be.configurable;function _e(e,t,n){s("function"==typeof t,"`action` can only be invoked on functions"),"string"==typeof e&&e||o("actions should have valid names, got: '"+e+"'");var r=function(){return Se(e,t,n||this,arguments)};return r.isMobxAction=!0,we&&Object.defineProperty(r,"name",{value:e}),r}function Se(e,t,n,r){var i=xe(e,n,r);try{return t.apply(n,r)}catch(e){throw i.error=e,e}finally{Ce(i)}}function xe(e,t,n){var r=Qe()&&!!e,i=0;if(r){i=Date.now();var o=n&&n.length||0,s=new Array(o);if(o>0)for(var a=0;a<o;a++)s[a]=n[a];Ze({type:"action",name:e,object:t,arguments:s})}var l=de();ze();var c={prevDerivation:l,prevAllowStateChanges:ke(!0),prevAllowStateReads:pe(!0),notifySpy:r,startTime:i,actionId:ye++,parentActionId:ve};return ve=c.actionId,c}function Ce(e){ve!==e.actionId&&o("invalid action stack. did you forget to finish an action?"),ve=e.parentActionId,void 0!==e.error&&(Ne.suppressReactionErrors=!0),Ee(e.prevAllowStateChanges),ge(e.prevAllowStateReads),We(),fe(e.prevDerivation),e.notifySpy&&tt({time:Date.now()-e.startTime}),Ne.suppressReactionErrors=!1}function ke(e){var t=Ne.allowStateChanges;return Ne.allowStateChanges=e,t}function Ee(e){Ne.allowStateChanges=e}var Ae=function(e){function t(t,n,r,o,s){void 0===r&&(r="ObservableValue@"+i()),void 0===o&&(o=!0),void 0===s&&(s=E.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=s,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),o&&Qe()&&Je({type:"create",name:a.name,newValue:""+a.value}),a}return function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Ne.UNCHANGED){var n=Qe();n&&Ze({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&tt()}},t.prototype.prepareNewValue=function(e){if(le(this),Wt(this)){var t=Ht(this,{object:this,type:"update",newValue:e});if(!t)return Ne.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Ne.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Vt(this)&&Kt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return jt(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Gt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return w(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(x),Re=p("ObservableValue",Ae),Te=function(){function e(e){this.dependenciesState=t.IDerivationState.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=t.IDerivationState.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+i(),this.value=new oe(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=te.NONE,s(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+i(),e.set&&(this.setter=_e(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?E.structural:E.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==t.IDerivationState.UP_TO_DATE)return;e.lowestObserverState=t.IDerivationState.POSSIBLY_STALE,e.observers.forEach((function(n){n.dependenciesState===t.IDerivationState.UP_TO_DATE&&(n.dependenciesState=t.IDerivationState.POSSIBLY_STALE,n.isTracing!==te.NONE&&He(n,e),n.onBecomeStale())}))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&o("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ne.inBatch||0!==this.observers.size||this.keepAlive?(je(this),ae(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===t.IDerivationState.STALE)return;e.lowestObserverState=t.IDerivationState.STALE,e.observers.forEach((function(n){n.dependenciesState===t.IDerivationState.POSSIBLY_STALE?n.dependenciesState=t.IDerivationState.STALE:n.dependenciesState===t.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=t.IDerivationState.UP_TO_DATE)}))}(this)):ae(this)&&(this.warnAboutUntrackedRead(),ze(),this.value=this.computeValue(!1),We());var e=this.value;if(se(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(se(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){s(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else s(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){Qe()&&Je({object:this.scope,type:"compute",name:this.name});var e=this.value,n=this.dependenciesState===t.IDerivationState.NOT_TRACKING,r=this.computeValue(!0),i=n||se(e)||se(r)||!this.equals(e,r);return i&&(this.value=r),i},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Ne.computationDepth++,e)t=ce(this,this.derivation,this.scope);else if(!0===Ne.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new oe(e)}return Ne.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ue(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return ct((function(){var o=n.get();if(!r||t){var s=de();e({type:"update",object:n,newValue:o,oldValue:i}),fe(s)}r=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){!0===this.requiresReaction&&o("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==te.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),Ne.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute")},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return w(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Me=p("ComputedValue",Te),Oe=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],$e=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Le={};function Ie(){return"undefined"!=typeof window?window:void 0!==b?b:"undefined"!=typeof self?self:Le}var Pe=!0,De=!1,Ne=function(){var e=Ie();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Pe=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new $e).version&&(Pe=!1),Pe?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new $e):(setTimeout((function(){De||o("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new $e)}();function Fe(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Be(e,t){e.observers.delete(t),0===e.observers.size&&Ue(e)}function Ue(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ne.pendingUnobservations.push(e))}function ze(){Ne.inBatch++}function We(){if(0==--Ne.inBatch){Ke();for(var e=Ne.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Te&&n.suspend())}Ne.pendingUnobservations=[]}}function je(e){!function(e){!Ne.allowStateReads&&Ne.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name+" being read outside a reactive context")}(e);var t=Ne.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Ne.inBatch>0&&Ue(e),!1)}function He(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===te.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)}))}(yt(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Te?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Ve=function(){function e(e,n,r,o){void 0===e&&(e="Reaction@"+i()),void 0===o&&(o=!1),this.name=e,this.onInvalidate=n,this.errorHandler=r,this.requiresObservable=o,this.observing=[],this.newObserving=[],this.dependenciesState=t.IDerivationState.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+i(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=te.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ne.pendingReactions.push(this),Ke())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(ze(),this._isScheduled=!1,ae(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Qe()&&Je({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}We()}},e.prototype.track=function(e){if(!this.isDisposed){ze();var t,n=Qe();n&&(t=Date.now(),Ze({name:this.name,type:"reaction"})),this._isRunning=!0;var r=ce(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ue(this),se(r)&&this.reportExceptionInDerivation(r.cause),n&&tt({time:Date.now()-t}),We()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Ne.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ne.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),Qe()&&Je({type:"error",name:this.name,message:n,error:""+e}),Ne.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ze(),ue(this),We()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[S]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),Lt(this,e)},e}();var Ge=function(e){return e()};function Ke(){Ne.inBatch>0||Ne.isRunningReactions||Ge(qe)}function qe(){Ne.isRunningReactions=!0;for(var e=Ne.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}Ne.isRunningReactions=!1}var Xe=p("Reaction",Ve);function Ye(e){var t=Ge;Ge=function(n){return e((function(){return t(n)}))}}function Qe(){return!!Ne.spyListeners.length}function Je(e){if(Ne.spyListeners.length)for(var t=Ne.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function Ze(e){Je(R(R({},e),{spyReportStart:!0}))}var et={spyReportEnd:!0};function tt(e){Je(e?R(R({},e),{spyReportEnd:!0}):et)}function nt(e){return Ne.spyListeners.push(e),l((function(){Ne.spyListeners=Ne.spyListeners.filter((function(t){return t!==e}))}))}function rt(){o("@action fields are not reassignable")}function it(e){return function(t,n,r){if(r){if(void 0!==r.get)return o("@action cannot be used with getters");if(r.value)return{value:_e(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return _e(e,i.call(this))}}}return ot(e).apply(this,arguments)}}function ot(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){d(this,n,st(e,t))}})}}var st=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?_e(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?_e(e,t):1===arguments.length&&"string"==typeof e?it(e):!0!==r?it(t).apply(null,arguments):void d(e,t,_e(e.name||t,n.value,this))};function at(e){return"function"==typeof e&&!0===e.isMobxAction}function lt(e,t,n){d(e,t,_e(t,n.bind(e)))}function ct(e,t){void 0===t&&(t=r),s("function"==typeof e,"Autorun expects a function as first argument"),s(!1===at(e),"Autorun does not accept actions since actions are untrackable");var n,o=t&&t.name||e.name||"Autorun@"+i();if(!t.scheduler&&!t.delay)n=new Ve(o,(function(){this.track(c)}),t.onError,t.requiresObservable);else{var a=ht(t),l=!1;n=new Ve(o,(function(){l||(l=!0,a((function(){l=!1,n.isDisposed||n.track(c)})))}),t.onError,t.requiresObservable)}function c(){e(n)}return n.schedule(),n.getDisposer()}st.bound=function(e,t,n,r){return!0===r?(lt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return lt(this,t,n.value||n.initializer.call(this)),this[t]},set:rt}:{enumerable:!1,configurable:!0,set:function(e){lt(this,t,e)},get:function(){}}};var ut=function(e){return e()};function ht(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ut}function dt(e,t,n){return pt("onBecomeObserved",e,t,n)}function ft(e,t,n){return pt("onBecomeUnobserved",e,t,n)}function pt(e,t,n,r){var i="function"==typeof r?mn(t,n):mn(t),s="function"==typeof r?r:n,a=e+"Listeners";return i[a]?i[a].add(s):i[a]=new Set([s]),"function"!=typeof i[e]?o("Not an atom that can be (un)observed"):function(){var e=i[a];e&&(e.delete(s),0===e.size&&delete i[a])}}function gt(e,t,n,r){s(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),s("object"==typeof e,"'extendObservable' expects an object as first argument"),s(!on(e),"'extendObservable' should not be used on maps, use map.merge instead");var i=mt(r=V(r));return N(e),un(e,r.name,i.enhancer),t&&vt(e,t,n,i),e}function mt(e){return e.defaultDecorator||(!1===e.deep?q:G)}function vt(e,t,n,r){var i,a,l,c;if(s(!At(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n){var u=v(n);try{for(var d=T(u),f=d.next();!f.done;f=d.next()){(m=f.value)in t||o("Trying to declare a decorator for unspecified property '"+y(m)+"'")}}catch(e){i={error:e}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}ze();try{u=_(t);try{for(var p=T(u),g=p.next();!g.done;g=p.next()){var m=g.value,b=Object.getOwnPropertyDescriptor(t,m);h(t)||o("'extendObservable' only accepts plain objects as second argument"),kt(b.value)&&o("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead");var w=n&&m in n?n[m]:b.get?ne:r;"function"!=typeof w&&o("Not a valid decorator for '"+y(m)+"', got: "+w);var S=w(e,m,b,!0);S&&Object.defineProperty(e,m,S)}}catch(e){l={error:e}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}}finally{We()}}function yt(e,t){return bt(mn(e,t))}function bt(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(bt)),r}function wt(e){var t={name:e.name};return function(e){return e.observers&&e.observers.size>0}(e)&&(t.observers=Array.from(function(e){return e.observers}(e)).map(wt)),t}var _t=0;function St(){this.message="FLOW_CANCELLED"}function xt(e){"function"==typeof e.cancel&&e.cancel()}function Ct(e,t){if(null==e)return!1;if(void 0!==t){if(!1===gn(e))return!1;if(!e[S].values.has(t))return!1;var n=mn(e,t);return Me(n)}return Me(e)}function kt(e){return arguments.length>1?o("isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):Ct(e)}function Et(e,t){return null!=e&&(void 0!==t?on(e)||en(e)?o("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!gn(e)&&e[S].values.has(t):gn(e)||!!e[S]||C(e)||Xe(e)||Me(e))}function At(e){return 1!==arguments.length&&o("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Et(e)}function Rt(e){return gn(e)?e[S].getKeys():on(e)||ln(e)?Array.from(e.keys()):en(e)?e.map((function(e,t){return t})):o("'keys()' can only be used on observable objects, arrays, sets and maps")}function Tt(e,t,n){if(2!==arguments.length||ln(e))if(gn(e)){var r=e[S],i=r.values.get(t);i?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(on(e))e.set(t,n);else if(ln(e))e.add(t);else{if(!en(e))return o("'set()' can only be used on observable objects, arrays and maps");"number"!=typeof t&&(t=parseInt(t,10)),s(t>=0,"Not a valid index: '"+t+"'"),ze(),t>=e.length&&(e.length=t+1),e[t]=n,We()}else{ze();var a=t;try{for(var l in a)Tt(e,l,a[l])}finally{We()}}}function Mt(e,t){return gn(e)?vn(e).has(t):on(e)||ln(e)?e.has(t):en(e)?t>=0&&t<e.length:o("'has()' can only be used on observable objects, arrays and maps")}St.prototype=Object.create(Error.prototype);var Ot={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function $t(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=It(e);if(!r)return o("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===te.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?te.BREAK:te.LOG}function It(e){switch(e.length){case 0:return Ne.trackingDerivation;case 1:return mn(e[0]);case 2:return mn(e[0],e[1])}}function Pt(e,t){void 0===t&&(t=void 0),ze();try{return e.apply(t)}finally{We()}}function Dt(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!s[S].isDisposed){s();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+i();var o=_e(n.name+"-effect",t),s=ct((function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())}),n);return s}function Nt(e,t){if(t&&t.onError)return o("the options 'onError' and 'promise' cannot be combined");var n,r=new Promise((function(r,i){var o=Dt(e,r,R(R({},t),{onError:i}));n=function(){o(),i("WHEN_CANCELLED")}}));return r.cancel=n,r}function Ft(e){return e[S]}function Bt(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var Ut={has:function(e,t){if(t===S||"constructor"===t||t===$)return!0;var n=Ft(e);return Bt(t)?n.has(t):t in e},get:function(e,t){if(t===S||"constructor"===t||t===$)return e[t];var n=Ft(e),r=n.values.get(t);if(r instanceof x){var i=r.get();return void 0===i&&n.has(t),i}return Bt(t)&&n.has(t),e[t]},set:function(e,t,n){return!!Bt(t)&&(Tt(e,t,n),!0)},deleteProperty:function(e,t){return!!Bt(t)&&(Ft(e).remove(t),!0)},ownKeys:function(e){return Ft(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return o("Dynamic observable objects cannot be frozen"),!1}};function zt(e){var t=new Proxy(e,Ut);return e[S].proxy=t,t}function Wt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function jt(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),l((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ht(e,t){var n=de();try{for(var r=O(e.interceptors||[]),i=0,o=r.length;i<o&&(s(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{fe(n)}}function Vt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Gt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),l((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Kt(e,t){var n=de(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);fe(n)}}var qt={get:function(e,t){return t===S?e[S]:"length"===t?e[S].getArrayLength():"number"==typeof t?Qt.get.call(e,t):"string"!=typeof t||isNaN(t)?Qt.hasOwnProperty(t)?Qt[t]:e[t]:Qt.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[S].setArrayLength(n),"number"==typeof t&&Qt.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:Qt.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return o("Observable arrays cannot be frozen"),!1}};function Xt(e,t,n,r){void 0===n&&(n="ObservableArray@"+i()),void 0===r&&(r=!1);var o=new Yt(n,t,r);!function(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}(o.values,S,o);var s=new Proxy(o.values,qt);if(o.proxy=s,e&&e.length){var a=ke(!0);o.spliceWithArray(0,0,e),Ee(a)}return s}var Yt=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new x(e||"ObservableArray@"+i()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return jt(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Gt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,r){var i=this;le(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===r&&(r=n),Wt(this)){var s=Ht(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:r});if(!s)return n;t=s.removedCount,r=s.added}var a=(r=0===r.length?r:r.map((function(e){return i.enhancer(e,void 0)}))).length-t;this.updateArrayLength(o,a);var l=this.spliceItemsIntoValues(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice(e,r,l),this.dehanceValues(l)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,O([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&Qe(),i=Vt(this),o=i||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;r&&Ze(R(R({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&Kt(this,o),r&&tt()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&Qe(),i=Vt(this),o=i||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&Ze(R(R({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&Kt(this,o),r&&tt()},e}(),Qt={intercept:function(e){return this[S].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[S].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[S];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[S];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[S].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[S];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[S].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[S];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){console.warn("[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place");var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){console.warn("[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place");var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[S],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[S];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[S],r=n.values;if(e<r.length){le(n.atom);var i=r[e];if(Wt(n)){var o=Ht(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Qt[e]=function(){var t=this[S];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Qt[e]=function(t,n){var r=this,i=this[S];return i.atom.reportObserved(),i.dehanceValues(i.values)[e]((function(e,i){return t.call(n,e,i,r)}),n)})})),["reduce","reduceRight"].forEach((function(e){Qt[e]=function(){var t=this,n=this[S];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,i,o){return i=n.dehanceValue(i),r(e,i,o,t)},n.values[e].apply(n.values,arguments)}}));var Jt,Zt=p("ObservableArrayAdministration",Yt);function en(e){return u(e)&&Zt(e[S])}var tn,nn={},rn=function(){function e(e,t,n){if(void 0===t&&(t=U),void 0===n&&(n="ObservableMap@"+i()),this.enhancer=t,this.name=n,this[Jt]=nn,this._keysAtom=k(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Ne.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Ae(this._has(e),z,this.name+"."+y(e)+"?",!1);this._hasMap.set(e,r),ft(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Wt(this)){var r=Ht(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if((le(this._keysAtom),Wt(this))&&!(i=Ht(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Qe(),r=Vt(this),i=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&Ze(R(R({},i),{name:this.name,key:e})),Pt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&Kt(this,i),n&&tt(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Ne.UNCHANGED){var r=Qe(),i=Vt(this),o=i||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&Ze(R(R({},o),{name:this.name,key:e})),n.setNewValue(t),i&&Kt(this,o),r&&tt()}},e.prototype._addValue=function(e,t){var n=this;le(this._keysAtom),Pt((function(){var r=new Ae(t,n.enhancer,n.name+"."+y(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=Qe(),i=Vt(this),o=i||r?{type:"add",object:this,name:e,newValue:t}:null;r&&Ze(R(R({},o),{name:this.name,key:e})),i&&Kt(this,o),r&&tt()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return xn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return xn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},e.prototype[(Jt=S,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var i=T(this),o=i.next();!o.done;o=i.next()){var s=M(o.value,2),a=s[0],l=s[1];e.call(t,l,a,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return on(e)&&(e=e.toJS()),Pt((function(){var n=ke(!0);try{h(e)?v(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=M(e,2),r=n[0],i=n[1];return t.set(r,i)})):g(e)?(e.constructor!==Map&&o("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&o("Cannot initialize map from "+e)}finally{Ee(n)}})),this},e.prototype.clear=function(){var e=this;Pt((function(){he((function(){var t,n;try{for(var r=T(e.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return Pt((function(){var n,r,i,s,a=function(e){if(g(e)||on(e))return e;if(Array.isArray(e))return new Map(e);if(h(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return o("Cannot convert to map from '"+e+"'")}(e),l=new Map,c=!1;try{for(var u=T(t._data.keys()),d=u.next();!d.done;d=u.next()){var f=d.value;if(!a.has(f))if(t.delete(f))c=!0;else{var p=t._data.get(f);l.set(f,p)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var m=T(a.entries()),v=m.next();!v.done;v=m.next()){var y=M(v.value,2),b=(f=y[0],p=y[1],t._data.has(f));if(t.set(f,p),t._data.has(f)){var w=t._data.get(f);l.set(f,w),b||(c=!0)}}}catch(e){i={error:e}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}if(!c)if(t._data.size!==l.size)t._keysAtom.reportChanged();else for(var _=t._data.keys(),S=l.keys(),x=_.next(),C=S.next();!x.done;){if(x.value!==C.value){t._keysAtom.reportChanged();break}x=_.next(),C=S.next()}t._data=l})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=T(this),i=r.next();!i.done;i=r.next()){var o=M(i.value,2),s=o[0],a=o[1];n["symbol"==typeof s?s:y(s)]=a}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return y(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return s(!0!==t,"`observe` doesn't support fireImmediately=true in combination with maps."),Gt(this,e)},e.prototype.intercept=function(e){return jt(this,e)},e}(),on=p("ObservableMap",rn),sn={},an=function(){function e(e,t,n){if(void 0===t&&(t=U),void 0===n&&(n="ObservableSet@"+i()),this.name=n,this[tn]=sn,this._data=new Set,this._atom=k(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Pt((function(){he((function(){var t,n;try{for(var r=T(e._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var i=T(this),o=i.next();!o.done;o=i.next()){var s=o.value;e.call(t,s,s,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((le(this._atom),Wt(this))&&!(i=Ht(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Pt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=Qe(),r=Vt(this),i=r||n?{type:"add",object:this,newValue:e}:null;n&&Ze(i),r&&Kt(this,i),n&&tt()}return this},e.prototype.delete=function(e){var t=this;if(Wt(this)&&!(i=Ht(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=Qe(),r=Vt(this),i=r||n?{type:"delete",object:this,oldValue:e}:null;return n&&Ze(R(R({},i),{name:this.name})),Pt((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&Kt(this,i),n&&tt(),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return xn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return xn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return ln(e)&&(e=e.toJS()),Pt((function(){var n=ke(!0);try{Array.isArray(e)||m(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&o("Cannot initialize set from "+e)}finally{Ee(n)}})),this},e.prototype.observe=function(e,t){return s(!0!==t,"`observe` doesn't support fireImmediately=true in combination with sets."),Gt(this,e)},e.prototype.intercept=function(e){return jt(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(tn=S,Symbol.iterator)]=function(){return this.values()},e}(),ln=p("ObservableSet",an),cn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new x(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof Te)r.set(t);else{if(Wt(this)){if(!(s=Ht(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=s.newValue}if((t=r.prepareNewValue(t))!==Ne.UNCHANGED){var i=Vt(this),o=Qe(),s=i||o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;o&&Ze(R(R({},s),{name:this.name,key:e})),r.setNewValue(t),i&&Kt(this,s),o&&tt()}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new Ae(r,z,this.name+"."+y(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(function(e,t){f(e,t)||o("Cannot make property '"+t.toString()+"' observable, it is not configurable and writable in the target object")}(r,e),Wt(this)){var i=Ht(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}var s=new Ae(t,n,this.name+"."+y(e),!1);this.values.set(e,s),t=s.value,Object.defineProperty(r,e,function(e){return hn[e]||(hn[e]={configurable:!0,enumerable:!0,get:function(){return this[S].read(e)},set:function(t){this[S].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+y(t),this.values.set(t,new Te(n)),(e===r||f(e,t))&&Object.defineProperty(e,t,function(e){return dn[e]||(dn[e]={configurable:Ne.computedConfigurable,enumerable:!1,get:function(){return fn(this).read(e)},set:function(t){fn(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(Wt(this))if(!(a=Ht(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{ze();var n=Vt(this),r=Qe(),i=this.values.get(e),o=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var s=this.pendingKeys.get(e);s&&s.set(!1)}delete this.target[e];var a=n||r?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;r&&Ze(R(R({},a),{name:this.name,key:e})),n&&Kt(this,a),r&&tt()}finally{We()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return s(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),Gt(this,e)},e.prototype.intercept=function(e){return jt(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=Vt(this),r=Qe(),i=n||r?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&Ze(R(R({},i),{name:this.name,key:e})),n&&Kt(this,i),r&&tt(),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=T(this.values),i=r.next();!i.done;i=r.next()){var o=M(i.value,2),s=o[0];o[1]instanceof Ae&&n.push(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function un(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=U),Object.prototype.hasOwnProperty.call(e,S))return e[S];s(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),h(e)||(t=(e.constructor.name||"ObservableObject")+"@"+i()),t||(t="ObservableObject@"+i());var r=new cn(e,new Map,y(t),n);return d(e,S,r),r}var hn=Object.create(null),dn=Object.create(null);function fn(e){var t=e[S];return t||(N(e),e[S])}var pn=p("ObservableObjectAdministration",cn);function gn(e){return!!u(e)&&(N(e),pn(e[S]))}function mn(e,t){if("object"==typeof e&&null!==e){if(en(e))return void 0!==t&&o("It is not possible to get index atoms from arrays"),e[S].atom;if(ln(e))return e[S];if(on(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||o("the entry '"+t+"' does not exist in the observable map '"+yn(e)+"'"),r)}var r;if(N(e),t&&!e[S]&&e[t],gn(e))return t?((r=e[S].values.get(t))||o("no observable property '"+t+"' found on the observable object '"+yn(e)+"'"),r):o("please specify a property");if(C(e)||Me(e)||Xe(e))return e}else if("function"==typeof e&&Xe(e[S]))return e[S];return o("Cannot obtain atom from "+e)}function vn(e,t){return e||o("Expecting some object"),void 0!==t?vn(mn(e,t)):C(e)||Me(e)||Xe(e)||on(e)||ln(e)?e:(N(e),e[S]?e[S]:void o("Cannot obtain administration from "+e))}function yn(e,t){return(void 0!==t?mn(e,t):gn(e)||on(e)||ln(e)?vn(e):mn(e)).name}var bn=Object.prototype.toString;function wn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var s=typeof t;if("function"!==s&&"object"!==s&&"object"!=typeof n)return!1;var a=bn.call(t);if(a!==bn.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=_n(t),n=_n(n);var l="[object Array]"===a;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,u=n.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];var h=(i=i||[]).length;for(;h--;)if(i[h]===t)return o[h]===n;if(i.push(t),o.push(n),l){if((h=t.length)!==n.length)return!1;for(;h--;)if(!e(t[h],n[h],r-1,i,o))return!1}else{var d=Object.keys(t),f=void 0;if(h=d.length,Object.keys(n).length!==h)return!1;for(;h--;)if(f=d[h],!Sn(n,f)||!e(t[f],n[f],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function _n(e){return en(e)?e.slice():g(e)||on(e)||m(e)||ln(e)?Array.from(e.entries()):e}function Sn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xn(e){return e[Symbol.iterator]=Cn,e}function Cn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");!function(){if("testCodeMinification"!==function(){}.name&&void 0!==Tu&&"true"!==Tu.env.IGNORE_MOBX_MINIFY_WARNING){var e=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+e+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}}(),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:nt,extras:{getDebugName:yn},$mobx:S}),t.$mobx=S,t.FlowCancellationError=St,t.ObservableMap=rn,t.ObservableSet=an,t.Reaction=Ve,t._allowStateChanges=function(e,t){var n,r=ke(e);try{n=t()}finally{Ee(r)}return n},t._allowStateChangesInsideComputed=function(e){var t,n=Ne.computationDepth;Ne.computationDepth=0;try{t=e()}finally{Ne.computationDepth=n}return t},t._allowStateReadsEnd=ge,t._allowStateReadsStart=pe,t._endAction=Ce,t._getAdministration=vn,t._getGlobalState=function(){return Ne},t._interceptReads=function(e,t,n){var r;if(on(e)||en(e)||Re(e))r=vn(e);else{if(!gn(e))return o("Expected observable map, object or array as first array");if("string"!=typeof t)return o("InterceptReads can only be used with a specific property, not with an object in general");r=vn(e,t)}return void 0!==r.dehancer?o("An intercept reader was already established"):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})},t._isComputingDerivation=function(){return null!==Ne.trackingDerivation},t._resetGlobalState=function(){var e=new $e;for(var t in e)-1===Oe.indexOf(t)&&(Ne[t]=e[t]);Ne.allowStateChanges=!Ne.enforceActions},t._startAction=xe,t.action=st,t.autorun=ct,t.comparer=E,t.computed=ie,t.configure=function(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,i=e.disableErrorBoundaries,s=e.reactionScheduler,l=e.reactionRequiresObservable,c=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Ne.pendingReactions.length||Ne.inBatch||Ne.isRunningReactions)&&o("isolateGlobalState should be called before MobX is running any reactions"),De=!0,Pe&&(0==--Ie().__mobxInstanceCount&&(Ie().__mobxGlobals=void 0),Ne=new $e)),void 0!==t){"boolean"!=typeof t&&"strict"!==t||function e(t,n){return n?e("'"+t+"', use '"+n+"' instead."):-1===a.indexOf(t)&&(a.push(t),console.error("[mobx] Deprecated: "+t),!0)}("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var u=void 0;switch(t){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:o("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Ne.enforceActions=u,Ne.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(Ne.computedRequiresReaction=!!n),void 0!==l&&(Ne.reactionRequiresObservable=!!l),void 0!==c&&(Ne.observableRequiresReaction=!!c,Ne.allowStateReads=!Ne.observableRequiresReaction),void 0!==r&&(Ne.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ne.disableErrorBoundaries=!!i),s&&Ye(s)},t.createAtom=k,t.decorate=function(e,t){s(h(t),"Decorators should be a key value map");var n="function"==typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]),s(r.every((function(e){return"function"==typeof e})),"Decorate: expected a decorator function or array of decorator functions for '"+e+"'");var i=Object.getOwnPropertyDescriptor(n,e),o=r.reduce((function(t,r){return r(n,e,t)}),i);o&&Object.defineProperty(n,e,o)};for(var i in t)r(i);return e},t.entries=function(e){return gn(e)?Rt(e).map((function(t){return[t,e[t]]})):on(e)?Rt(e).map((function(t){return[t,e.get(t)]})):ln(e)?Array.from(e.entries()):en(e)?e.map((function(e,t){return[t,e]})):o("'entries()' can only be used on observable objects, arrays and maps")},t.extendObservable=gt,t.flow=function(e){1!==arguments.length&&o("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,i=arguments,o=++_t,s=st(t+" - runid: "+o+" - init",e).apply(r,i),a=void 0,l=new Promise((function(e,r){var i=0;function l(e){var n;a=void 0;try{n=st(t+" - runid: "+o+" - yield "+i++,s.next).call(s,e)}catch(e){return r(e)}u(n)}function c(e){var n;a=void 0;try{n=st(t+" - runid: "+o+" - yield "+i++,s.throw).call(s,e)}catch(e){return r(e)}u(n)}function u(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(a=Promise.resolve(t.value)).then(l,c);t.then(u,r)}n=r,l(void 0)}));return l.cancel=st(t+" - runid: "+o+" - cancel",(function(){try{a&&xt(a);var e=s.return(void 0),t=Promise.resolve(e.value);t.then(c,c),xt(t),n(new St)}catch(e){n(e)}})),l}},t.get=function(e,t){if(Mt(e,t))return gn(e)?e[t]:on(e)?e.get(t):en(e)?e[t]:o("'get()' can only be used on observable objects, arrays and maps")},t.getAtom=mn,t.getDebugName=yn,t.getDependencyTree=yt,t.getObserverTree=function(e,t){return wt(mn(e,t))},t.has=Mt,t.intercept=function(e,t,n){return"function"==typeof n?function(e,t,n){return vn(e,t).intercept(n)}(e,t,n):function(e,t){return vn(e).intercept(t)}(e,t)},t.isAction=at,t.isArrayLike=function(e){return Array.isArray(e)||en(e)},t.isBoxedObservable=Re,t.isComputed=kt,t.isComputedProp=function(e,t){return"string"!=typeof t?o("isComputed expected a property name as second argument"):Ct(e,t)},t.isFlowCancellationError=function(e){return e instanceof St},t.isObservable=At,t.isObservableArray=en,t.isObservableMap=on,t.isObservableObject=gn,t.isObservableProp=function(e,t){return"string"!=typeof t?o("expected a property name as second argument"):Et(e,t)},t.isObservableSet=ln,t.keys=Rt,t.observable=J,t.observe=function(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return vn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return vn(e).observe(t,n)}(e,t,n)},t.onBecomeObserved=dt,t.onBecomeUnobserved=ft,t.onReactionError=function(e){return Ne.globalReactionErrorHandlers.push(e),function(){var t=Ne.globalReactionErrorHandlers.indexOf(e);t>=0&&Ne.globalReactionErrorHandlers.splice(t,1)}},t.reaction=function(e,t,n){void 0===n&&(n=r),s("function"==typeof e,"First argument to reaction should be a function"),s("object"==typeof n,"Third argument of reactions should be an object");var o,a,l,c=n.name||"Reaction@"+i(),u=st(c,n.onError?(o=n.onError,a=t,function(){try{return a.apply(this,arguments)}catch(e){o.call(this,e)}}):t),h=!n.scheduler&&!n.delay,d=ht(n),f=!0,p=!1,g=n.compareStructural?E.structural:n.equals||E.default,m=new Ve(c,(function(){f||h?v():p||(p=!0,d(v))}),n.onError,n.requiresObservable);function v(){if(p=!1,!m.isDisposed){var t=!1;m.track((function(){var n=e(m);t=f||!g(l,n),l=n})),f&&n.fireImmediately&&u(l,m),f||!0!==t||u(l,m),f&&(f=!1)}}return m.schedule(),m.getDisposer()},t.remove=function(e,t){if(gn(e))e[S].remove(t);else if(on(e))e.delete(t);else if(ln(e))e.delete(t);else{if(!en(e))return o("'remove()' can only be used on observable objects, arrays and maps");"number"!=typeof t&&(t=parseInt(t,10)),s(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}},t.runInAction=function(e,t){var n="string"==typeof e?e:e.name||"<unnamed action>",r="function"==typeof e?e:t;return s("function"==typeof r&&0===r.length,"`runInAction` expects a function without arguments"),"string"==typeof n&&n||o("actions should have valid names, got: '"+n+"'"),Se(n,r,this,void 0)},t.set=Tt,t.spy=nt,t.toJS=function(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Ot),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!At(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Re(t))return e(t.get(),n,r);if(At(t)&&Rt(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(en(t)||Array.isArray(t)){var i=$t(r,t,[],n),o=t.map((function(t){return e(t,n,r)}));i.length=o.length;for(var s=0,a=o.length;s<a;s++)i[s]=o[s];return i}if(ln(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var l=$t(r,t,new Set,n);return t.forEach((function(t){l.add(e(t,n,r))})),l}var c=$t(r,t,[],n);return t.forEach((function(t){c.push(e(t,n,r))})),c}if(on(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var u=$t(r,t,new Map,n);return t.forEach((function(t,i){u.set(i,e(t,n,r))})),u}var h=$t(r,t,{},n);return t.forEach((function(t,i){h[i]=e(t,n,r)})),h}var d=$t(r,t,{},n);return v(t).forEach((function(i){d[i]=e(t[i],n,r)})),d}(e,t,n)},t.trace=Lt,t.transaction=Pt,t.untracked=he,t.values=function(e){return gn(e)?Rt(e).map((function(t){return e[t]})):on(e)?Rt(e).map((function(t){return e.get(t)})):ln(e)?Array.from(e.values()):en(e)?e.slice():o("'values()' can only be used on observable objects, arrays, sets and maps")},t.when=function(e,t,n){return 1===arguments.length||t&&"object"==typeof t?Nt(e,t):Dt(e,t,n||{})}}));w(Ou);Ou.IDerivationState,Ou.$mobx,Ou.FlowCancellationError,Ou.ObservableMap,Ou.ObservableSet,Ou.Reaction,Ou._allowStateChanges,Ou._allowStateChangesInsideComputed,Ou._allowStateReadsEnd,Ou._allowStateReadsStart,Ou._endAction,Ou._getAdministration,Ou._getGlobalState,Ou._interceptReads,Ou._isComputingDerivation,Ou._resetGlobalState,Ou._startAction,Ou.action,Ou.autorun,Ou.comparer,Ou.computed,Ou.configure,Ou.createAtom,Ou.decorate,Ou.entries,Ou.extendObservable,Ou.flow,Ou.get,Ou.getAtom,Ou.getDebugName,Ou.getDependencyTree,Ou.getObserverTree,Ou.has,Ou.intercept,Ou.isAction,Ou.isArrayLike,Ou.isBoxedObservable,Ou.isComputed,Ou.isComputedProp,Ou.isFlowCancellationError,Ou.isObservable,Ou.isObservableArray,Ou.isObservableMap,Ou.isObservableObject,Ou.isObservableProp,Ou.isObservableSet,Ou.keys,Ou.observable,Ou.observe,Ou.onBecomeObserved,Ou.onBecomeUnobserved,Ou.onReactionError,Ou.reaction,Ou.remove,Ou.runInAction,Ou.set,Ou.spy,Ou.toJS,Ou.trace,Ou.transaction,Ou.untracked,Ou.values,Ou.when;var $u=_((function(e){e.exports=void 0!==Tu?Mu:Ou})),Lu=$u.observable,Iu=$u.action,Pu=$u.configure,Du=$u.toJS,Nu=$u.spy,Fu=$u.autorun,Bu=_((function(e,t){!function(e,t,n){var r="default"in n?n.default:n;if(!n.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!t.spy)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var i=function(){},o=!1;function s(){return o}
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation. All rights reserved.
      Licensed under the Apache License, Version 2.0 (the "License"); you may not use
      this file except in compliance with the License. You may obtain a copy of the
      License at http://www.apache.org/licenses/LICENSE-2.0

      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
      WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
      MERCHANTABLITY OR NON-INFRINGEMENT.

      See the Apache Version 2.0 License for specific language governing permissions
      and limitations under the License.
      ***************************************************************************** */var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(e){return e.current?t.getDependencyTree(e.current):"<unknown>"}var u=[];function h(){var e=l(n.useState(0),2)[1];return n.useCallback((function(){e((function(e){return e+1}))}),[])}var d={};function f(e,r,i){if(void 0===r&&(r="observed"),void 0===i&&(i=d),s())return e();var o=(i.useForceUpdate||h)(),a=n.useRef(null);a.current||(a.current=new t.Reaction("observer("+r+")",(function(){o()})));var l,f,p=function(){a.current&&!a.current.isDisposed&&(a.current.dispose(),a.current=null)};if(n.useDebugValue(a,c),function(e){n.useEffect((function(){return e}),u)}((function(){p()})),a.current.track((function(){try{l=e()}catch(e){f=e}})),f)throw p(),f;return l}var p={$$typeof:!0,render:!0,compare:!0,type:!0};function g(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:f(r)}function m(e,t,n,r,i){var o="children"===t?"render":"children",s="function"==typeof e[t],a="function"==typeof e[o];return s&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):s||a?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}function v(e,n){if(!n||void 0!==e){var i=l(r.useState((function(){return t.observable(e,{},{deep:!1})})),1)[0];return t.runInAction((function(){Object.assign(i,e)})),i}}g.propTypes={children:m,render:m},g.displayName="Observer",e.Observer=g,e.isUsingStaticRendering=s,e.observer=function(e,t){if(s())return e;var r,i,o,l=a({forwardRef:!1},t),c=e.displayName||e.name,u=function(t,n){return f((function(){return e(t,n)}),c)};return u.displayName=c,r=l.forwardRef?n.memo(n.forwardRef(u)):n.memo(u),i=e,o=r,Object.keys(i).forEach((function(e){i.hasOwnProperty(e)&&!p[e]&&Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})),r.displayName=c,r},e.optimizeScheduler=function(e){"function"==typeof e&&t.configure({reactionScheduler:e})},e.useAsObservableSource=function(e){return v(e,!1)},e.useComputed=function(e,r){return void 0===r&&(r=[]),n.useMemo((function(){return t.computed(e)}),r).get()},e.useDisposable=function(e,t){void 0===t&&(t=[]);var r=n.useRef(null),o=n.useRef(!1);function s(t){if(o.current)return i;if(!r.current){var n=e();if("function"!=typeof n){var s=new Error("generated disposer must be a function");return console.error(s),i}r.current=n}return function(){r.current&&(r.current(),r.current=null),t&&(o.current=!0)}}return n.useEffect((function(){return s(!1)}),t),s(!0)},e.useForceUpdate=h,e.useLocalStore=function(e,n){var i=v(n,!0);return r.useState((function(){var n=t.observable(e(i));return function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(n)&&t.runInAction((function(){Object.keys(n).forEach((function(e){var r=n[e];"function"==typeof r&&(n[e]=function(e,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.transaction((function(){return e.apply(n,r)}))}}(r,n))}))})),n}))[0]},e.useObservable=function(e){var r=n.useRef(null);return r.current||(r.current=t.observable(e)),r.current},e.useObserver=f,e.useStaticRendering=function(e){o=e},Object.defineProperty(e,"__esModule",{value:!0})}(t,$u,ue)}));w(Bu);var Uu=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=$u,i=ue,o=(n=i)&&"object"==typeof n&&"default"in n?n.default:n,s=Bu,a=0,l={};function c(e){return l[e]||(l[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+a+")";return a++,t}(e)),l[e]}function u(e,t){if(h(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!h(e[n[i]],t[n[i]]))return!1;return!0}function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var d={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function f(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var p=c("patchMixins"),g=c("patchedDefinition");function m(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var s;return null!=e&&(s=e.apply(this,i)),s}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function v(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];m.call.apply(m,[this,e,t].concat(r))}}function y(e,t,n){var r=function(e,t){var n=e[p]=e[p]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[g]){var o=function e(t,n,r,i,o){var s,a=v(o,i);return(s={})[g]=!0,s.get=function(){return a},s.set=function(o){if(this===t)a=v(o,i);else{var s=e(this,n,r,i,o);Object.defineProperty(this,n,s)}},s.configurable=!0,s.enumerable=r,s}(e,t,i?i.enumerable:void 0,r,e[t]);Object.defineProperty(e,t,o)}}var b=r.$mobx||"$mobx",w=c("isUnmounted"),_=c("skipRender"),S=c("isForcingUpdate");function x(e){var t=this;if(!0===s.isUsingStaticRendering())return e.call(this);f(this,_,!1),f(this,S,!1);var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=e.bind(this),a=!1,l=new r.Reaction(n+".render()",(function(){if(!a&&(a=!0,!0!==t[w])){var e=!0;try{f(t,S,!0),t[_]||i.Component.prototype.forceUpdate.call(t),e=!1}finally{f(t,S,!1),e&&l.dispose()}}}));function c(){a=!1;var e=void 0,t=void 0;if(l.track((function(){try{t=r._allowStateChanges(!1,o)}catch(t){e=t}})),e)throw e;return t}return l.reactComponent=this,c[b]=l,this.render=c,c.call(this)}function C(e,t){return s.isUsingStaticRendering()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!u(this.props,e)}function k(e,t){var n=c("reactProp_"+t+"_valueHolder"),i=c("reactProp_"+t+"_atomHolder");function o(){return this[i]||f(this,i,r.createAtom("reactive "+t)),this[i]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return r._allowStateReadsStart&&r._allowStateReadsEnd&&(e=r._allowStateReadsStart(!0)),o.call(this).reportObserved(),r._allowStateReadsStart&&r._allowStateReadsEnd&&r._allowStateReadsEnd(e),this[n]},set:function(e){this[S]||u(this[n],e)?f(this,n,e):(f(this,n,e),f(this,_,!0),o.call(this).reportChanged(),f(this,_,!1))}})}var E="function"==typeof Symbol&&Symbol.for,A=E?Symbol.for("react.forward_ref"):"function"==typeof i.forwardRef&&i.forwardRef((function(e){return null})).$$typeof,R=E?Symbol.for("react.memo"):"function"==typeof i.memo&&i.memo((function(e){return null})).$$typeof;function T(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),R&&e.$$typeof===R)throw new Error("Mobx observer: You are trying to use 'observer' on function component wrapped to either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(A&&e.$$typeof===A){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return i.forwardRef((function(){var e=arguments;return i.createElement(s.Observer,null,(function(){return t.apply(void 0,e)}))}))}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(i.Component,e)?function(e){var t=e.prototype;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==i.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==C)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=C;k(t,"props"),k(t,"state");var n=t.render;return t.render=function(){return x.call(this,n)},y(t,"componentWillUnmount",(function(){!0!==s.isUsingStaticRendering()&&(this.render[b]&&this.render[b].dispose(),this[w]=!0)})),e}(e):s.observer(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=o.createContext({});function $(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}(e,["children"]),r=o.useContext(O),i=o.useRef(M({},r,{},n));return o.createElement(O.Provider,{value:i.current},t)}function L(e,t,n,r){var i,s,a,l=o.forwardRef((function(n,r){var i=M({},n),s=o.useContext(O);return Object.assign(i,e(s||{},i)||{}),r&&(i.ref=r),o.createElement(t,i)}));return r&&(l=T(l)),l.isMobxInjector=!0,i=t,s=l,a=Object.getOwnPropertyNames(Object.getPrototypeOf(i)),Object.getOwnPropertyNames(i).forEach((function(e){d[e]||-1!==a.indexOf(e)||Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(i,e))})),l.wrappedComponent=t,l.displayName=function(e,t){var n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t?"inject-with-"+t+"("+n+")":"inject("+n+")"}(t,n),l}function I(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}$.displayName="MobXProvider";var P=c("disposeOnUnmountProto"),D=c("disposeOnUnmountInst");function N(){var e=this;[].concat(this[P]||[],this[D]||[]).forEach((function(t){var n="string"==typeof t?e[t]:t;null!=n&&(Array.isArray(n)?n.map((function(e){return e()})):n())}))}function F(e){function t(t,n,i,o,s,a){for(var l=arguments.length,c=new Array(l>6?l-6:0),u=6;u<l;u++)c[u-6]=arguments[u];return r.untracked((function(){return o=o||"<<anonymous>>",a=a||i,null==n[i]?t?new Error("The "+s+" `"+a+"` is marked as required in `"+o+"`, but its value is `"+(null===n[i]?"null":"undefined")+"`."):null:e.apply(void 0,[n,i,o,s,a].concat(c))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function B(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function U(e,t){return F((function(n,i,o,s,a){return r.untracked((function(){if(e&&B(n[i])===t.toLowerCase())return null;var s;switch(t){case"Array":s=r.isObservableArray;break;case"Object":s=r.isObservableObject;break;case"Map":s=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+t)}var l=n[i];if(!s(l)){var c=function(e){var t=B(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(l),u=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+c+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+u+".")}return null}))}))}function z(e,t){return F((function(n,i,o,s,a){for(var l=arguments.length,c=new Array(l>5?l-5:0),u=5;u<l;u++)c[u-5]=arguments[u];return r.untracked((function(){if("function"!=typeof t)return new Error("Property `"+a+"` of component `"+o+"` has invalid PropType notation.");var r=U(e,"Array")(n,i,o,s,a);if(r instanceof Error)return r;for(var l=n[i],u=0;u<l.length;u++)if((r=t.apply(void 0,[l,u,o,s,a+"["+u+"]"].concat(c)))instanceof Error)return r;return null}))}))}var W={observableArray:U(!1,"Array"),observableArrayOf:z.bind(null,!1),observableMap:U(!1,"Map"),observableObject:U(!1,"Object"),arrayOrObservableArray:U(!0,"Array"),arrayOrObservableArrayOf:z.bind(null,!0),objectOrObservableObject:U(!0,"Object")};if(!i.Component)throw new Error("mobx-react requires React to be available");if(!r.observable)throw new Error("mobx-react requires mobx to be available");"function"==typeof ru.unstable_batchedUpdates&&r.configure({reactionScheduler:ru.unstable_batchedUpdates}),Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return s.Observer}}),Object.defineProperty(t,"isUsingStaticRendering",{enumerable:!0,get:function(){return s.isUsingStaticRendering}}),Object.defineProperty(t,"useAsObservableSource",{enumerable:!0,get:function(){return s.useAsObservableSource}}),Object.defineProperty(t,"useLocalStore",{enumerable:!0,get:function(){return s.useLocalStore}}),Object.defineProperty(t,"useObserver",{enumerable:!0,get:function(){return s.useObserver}}),Object.defineProperty(t,"useStaticRendering",{enumerable:!0,get:function(){return s.useStaticRendering}}),t.MobXProviderContext=O,t.PropTypes=W,t.Provider=$,t.disposeOnUnmount=function e(t,n){if(Array.isArray(n))return n.map((function(n){return e(t,n)}));var r=Object.getPrototypeOf(t).constructor||Object.getPrototypeOf(t.constructor),i=Object.getPrototypeOf(t.constructor);if(r!==o.Component&&r!==o.PureComponent&&i!==o.Component&&i!==o.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!=typeof n&&"function"!=typeof n&&!Array.isArray(n))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var s=!!t[P]||!!t[D];return("string"==typeof n?t[P]||(t[P]=[]):t[D]||(t[D]=[])).push(n),s||y(t,"componentWillUnmount",N),"string"!=typeof n?n:void 0},t.inject=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"==typeof arguments[0]){var r=arguments[0];return function(e){return L(r,e,r.name,!0)}}return function(e){return L(I(t),e,t.join("-"),!1)}},t.observer=T}));w(Uu);Uu.MobXProviderContext,Uu.PropTypes,Uu.Provider,Uu.disposeOnUnmount,Uu.inject,Uu.observer;var zu=_((function(e){e.exports=Uu})).observer;function Wu(){}function ju(){}ju.resetWarningCache=Wu;var Hu=_((function(e){e.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ju,resetWarningCache:Wu};return n.PropTypes=n,n}()})),Vu=_((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(ue),i=n(Hu);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},a={xy:[0,0],swiping:!1,eventData:void 0,start:void 0};function l(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function c(e,t){var n=function(t){t.touches&&t.touches.length>1||e((function(e,n){n.trackMouse&&(document.addEventListener("mousemove",r),document.addEventListener("mouseup",c));var i=t.touches?t.touches[0]:t,s=l([i.clientX,i.clientY],n.rotationAngle);return o({},e,a,{eventData:{initial:[].concat(s),first:!0},xy:s,start:t.timeStamp||0})}))},r=function(t){e((function(e,n){if(!e.xy[0]||!e.xy[1]||t.touches&&t.touches.length>1)return e;var r=t.touches?t.touches[0]:t,i=l([r.clientX,r.clientY],n.rotationAngle),s=i[0],a=i[1],c=e.xy[0]-s,u=e.xy[1]-a,h=Math.abs(c),d=Math.abs(u),f=(t.timeStamp||0)-e.start,p=Math.sqrt(h*h+d*d)/(f||1);if(h<n.delta&&d<n.delta&&!e.swiping)return e;var g=function(e,t,n,r){return e>t?n>0?"Left":"Right":r>0?"Up":"Down"}(h,d,c,u),m=o({},e.eventData,{event:t,absX:h,absY:d,deltaX:c,deltaY:u,velocity:p,dir:g});n.onSwiping&&n.onSwiping(m);var v=!1;return(n.onSwiping||n.onSwiped||n["onSwiped"+g])&&(v=!0),v&&n.preventDefaultTouchmoveEvent&&n.trackTouch&&t.cancelable&&t.preventDefault(),o({},e,{eventData:o({},m,{first:!1}),swiping:!0})}))},i=function(t){e((function(e,n){var r;return e.swiping&&(r=o({},e.eventData,{event:t}),n.onSwiped&&n.onSwiped(r),n["onSwiped"+r.dir]&&n["onSwiped"+r.dir](r)),o({},e,a,{eventData:r})}))},s=function(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",c)},c=function(e){s(),i(e)},u=function(e){if(e&&e.addEventListener){var t=[["touchstart",n],["touchmove",r],["touchend",i]];return t.forEach((function(t){var n=t[0],r=t[1];return e.addEventListener(n,r)})),function(){return t.forEach((function(t){var n=t[0],r=t[1];return e.removeEventListener(n,r)}))}}},h={ref:function(t){null!==t&&e((function(e,n){if(e.el===t)return e;var r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=null),n.trackTouch&&t&&(r.cleanUpTouch=u(t)),o({},e,{el:t},r)}))}};return t.trackMouse&&(h.onMouseDown=n),[h,u]}function u(e,t,n){var r={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),r.cleanUpTouch=null):t.trackTouch&&!e.cleanUpTouch&&e.el&&(r.cleanUpTouch=n(e.el)),o({},e,r)}var h=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this)._set=function(e){n.transientState=e(n.transientState,n.props)},n.transientState=o({},a,{type:"class"}),n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.className,n=e.style,i=e.nodeName,s=void 0===i?"div":i,a=e.innerRef,l=e.children,h=e.trackMouse,d=c(this._set,{trackMouse:h}),f=d[0],p=d[1];this.transientState=u(this.transientState,this.props,p);var g=a?function(e){return a(e),f.ref(e)}:f.ref;return r.createElement(s,o({},f,{className:t,style:n,ref:g}),l)},i}(r.PureComponent);h.propTypes={onSwiped:i.func,onSwiping:i.func,onSwipedUp:i.func,onSwipedRight:i.func,onSwipedDown:i.func,onSwipedLeft:i.func,delta:i.number,preventDefaultTouchmoveEvent:i.bool,nodeName:i.string,trackMouse:i.bool,trackTouch:i.bool,innerRef:i.func,rotationAngle:i.number},h.defaultProps=s,t.DOWN="Down",t.LEFT="Left",t.RIGHT="Right",t.Swipeable=h,t.UP="Up",t.useSwipeable=function(e){var t=e.trackMouse,n=r.useRef(o({},a,{type:"hook"})),i=r.useRef();i.current=o({},s,e);var l=r.useMemo((function(){return c((function(e){return n.current=e(n.current,i.current)}),{trackMouse:t})}),[t]),h=l[0],d=l[1];return n.current=u(n.current,i.current,d),h}}));w(Vu);Vu.DOWN,Vu.LEFT,Vu.RIGHT;var Gu=Vu.Swipeable;Vu.UP,Vu.useSwipeable;function Ku(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var qu="styles_appWrapper__CL4T8",Xu="styles_app__4Dync",Yu="styles_fullScreen__1Dhrt",Qu="styles_userList__3nMcz",Ju="styles_messageColumn__1rU-Z",Zu="styles_userColumn__21iu_",eh="styles_largeQueueLayout__2Kwk7",th="styles_evenLayout__22_jz",nh="styles_oneThirdUserlist__147L2",rh="styles_mask__2QIP8",ih="styles_growToFullHeight__31FhX",oh="styles_noPadding__1Q4Tq",sh="styles_messagePanel__xX1A_",ah="styles_messagePanelContent__1n34v",lh="styles_messageList__3pcsf",ch="styles_visible__1TJ4U";Ku("/* Do some global styling. */\n* {\n\tmargin: 0;\n\tpadding: 0;\n\tbox-sizing: border-box;\n}\n\nhtml,\nbody {\n\theight: 100%;\n\tfont-family: Roboto, sans-serif;\n\tline-height: 1.428571429;\n\tfont-size: 15px;\n\tuser-select: auto;\n}\n\n/* Use :global to avoid CSS module namespacing. */\n.sb-show-main > #root {\n\theight: 100%;\n}\n\n#MathJax_Message {\n\tdisplay: none;\n}\n\n/* App wrapper. */\n.styles_appWrapper__CL4T8 {\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-image: url(https://artofproblemsolving.com/assets/images/top/pattern-online-gray.png);\n\tbackground-repeat: repeat;\n\tbackground-size: 180px;\n\tbackground-color: rgb(239, 239, 239);\n}\n\n/* Main App container */\n.styles_app__4Dync {\n\tdisplay: flex;\n\tposition: relative;\n\tflex-grow: 1;\n\tmargin: 0px auto;\n\twidth: 100%;\n\tmax-width: 1400px;\n\tpadding: 0px 10px;\n\toverflow: hidden;\n\ttransition: width 0.2s, padding 0.2s;\n}\n\n.styles_fullScreen__1Dhrt {\n\tmax-width: none !important;\n}\n\n/* Userlist container */\n.styles_userList__3nMcz {\n\tflex-shrink: 5000;\n\tmargin-bottom: auto;\n}\n\n/* Message column */\n.styles_messageColumn__1rU-Z {\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tflex-basis: 0;\n\tmargin-right: 30px;\n}\n\n/* Userlist and PMs */\n.styles_userColumn__21iu_ {\n\twidth: 270px;\n\tflex-shrink: 0;\n\tflex-grow: 0;\n\tbackground-color: white;\n\ttransition: transform 0.2s;\n}\n\n.styles_largeQueueLayout__2Kwk7 .styles_userColumn__21iu_ {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\tflex-basis: 0;\n}\n\n.styles_evenLayout__22_jz .styles_userColumn__21iu_ {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\tflex-basis: 0;\n}\n\n.styles_oneThirdUserlist__147L2 .styles_userColumn__21iu_ {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\tflex-basis: 0;\n}\n\n.styles_oneThirdUserlist__147L2 .styles_messageColumn__1rU-Z {\n\tflex-grow: 2;\n}\n\n.styles_mask__2QIP8 {\n\tposition: fixed;\n\twidth: 100%;\n\theight: 100%;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\tbottom: 0;\n\tbackground-color: rgba(128, 128, 128, 0.5);\n\tz-index: 10000;\n}\n\n.styles_growToFullHeight__31FhX {\n\theight: 100%;\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tflex-basis: 0;\n}\n\n.styles_noPadding__1Q4Tq {\n\tpadding: 0px !important;\n}\n\n/* This is needed to fix a Safari scrollbar bug with percentage heights. */\n.styles_messagePanel__xX1A_ {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n}\n\n/* We have to change message panels to flex for the MessageList and\nthe InputField to be the correct sizes/positions. */\n.styles_messagePanelContent__1n34v {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tpadding: 0px !important;\n}\n\n/* MessageList needs auto margin so when user extends window taller than\nthe message list, the MessageList will eat the remaining space and push\nInputField to the bottom of the MessagePanel. */\n.styles_messageList__3pcsf {\n\tmargin-bottom: auto;\n}\n\n/* Media query triggers at iPad Mini width. */\n@media only screen and (max-width: 768px) {\n\t.styles_app__4Dync {\n\t\tpadding: 0px;\n\t\tmax-width: 100%;\n\t}\n\n\t.styles_messageColumn__1rU-Z {\n\t\tmargin-right: 0;\n\t}\n\n\t.styles_userColumn__21iu_ {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\theight: 100% !important;\n\t\tz-index: 20;\n\t\ttransform: translateX(100%);\n\t}\n\n\t.styles_userColumn__21iu_.styles_visible__1TJ4U {\n\t\ttransform: translateX(0);\n\t}\n}\n");var uh=ue.createContext(null),hh=uh.Provider,dh=uh.Consumer;function fh(e){return function(t){return ue.createElement(dh,null,(function(n){return ue.createElement(e,i({},t,{appContext:n}))}))}}var ph={menuBarWrapper:"styles_menuBarWrapper__1Ju__",menuBar:"styles_menuBar__Sao69",title:"styles_title__1BF33",roomName:"styles_roomName__3nti0",logo:"styles_logo__33cng",icons:"styles_icons__3GgYy",icon:"styles_icon__3THx_",divider:"styles_divider__2MvAa",hideAvatarIconWrapper:"styles_hideAvatarIconWrapper__qsBoT",avatarIcon:"styles_avatarIcon__9DhXC",hideIcon:"styles_hideIcon__1Oweu",collapseButton:"styles_collapseButton__2XxJW",rotatedIcon:"styles_rotatedIcon__G54X5",collapseRegion:"styles_collapseRegion__MIkVw",menuWrapper:"styles_menuWrapper__3JkDN",menu:"styles_menu__1wfcx",menuHeader:"styles_menuHeader__3C4-T",menuContents:"styles_menuContents__3hZqD",menuButton:"styles_menuButton__2JkkQ",expanding:"styles_expanding__1m0Ik",collapsing:"styles_collapsing__oy0DV",fontOption:"styles_fontOption__15dcA",selectedFont:"styles_selectedFont__jYmzB",smallFont:"styles_smallFont__QaiW-",mediumFont:"styles_mediumFont__3jSfy",largeFont:"styles_largeFont__2H90s",extraLargeFont:"styles_extraLargeFont__3hZUE",avatarWrapper:"styles_avatarWrapper__2QQuE",avatar:"styles_avatar__1b2t4",colorOptionsWrapper:"styles_colorOptionsWrapper__1DuFg",colorOption:"styles_colorOption__1XuH9",colorBorder:"styles_colorBorder__IR93c",colorBlock:"styles_colorBlock__3EAVW"};Ku(".styles_menuBarWrapper__1Ju__ {\n\twidth: 100%;\n\theight: 40px;\n\tbackground: #1b365d;\n}\n\n.styles_menuBar__Sao69 {\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n\tpadding: 7.5px;\n}\n\n.styles_title__1BF33 {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tflex-shrink: 1;\n\tcolor: white;\n\tmargin-left: 5%;\n\tfont-size: 1.2em;\n\tmin-width: 0px;\n\toverflow: hidden;\n}\n\n.styles_roomName__3nti0 {\n\tmargin-left: 15px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.styles_logo__33cng {\n\tflex-shrink: 0;\n\twidth: auto;\n\theight: 100%;\n\tmargin-left: 20px;\n}\n\n.styles_icons__3GgYy {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tmargin-left: auto;\n\tflex-shrink: 0;\n\tuser-select: none;\n}\n\n.styles_icon__3THx_ {\n\tfont-size: 1.25em;\n\tcolor: white;\n\tmargin: 0 7px;\n}\n\n.styles_icon__3THx_:last-of-type {\n\tmargin-right: 0;\n}\n\n.styles_divider__2MvAa {\n\twidth: 2px;\n\theight: 100%;\n\tbackground: #34567c;\n}\n\n.styles_hideAvatarIconWrapper__qsBoT {\n\tposition: relative;\n}\n\n.styles_hideAvatarIconWrapper__qsBoT .styles_avatarIcon__9DhXC {\n}\n\n.styles_hideAvatarIconWrapper__qsBoT .styles_hideIcon__1Oweu {\n\topacity: 0;\n\tcolor: red;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tuser-select: none;\n}\n\n.styles_hideAvatarIconWrapper__qsBoT .styles_hideIcon__1Oweu:hover {\n\topacity: 1;\n}\n\n/* The collapse button on the handle. */\n.styles_collapseButton__2XxJW .aops-font {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-shrink: 0;\n\twidth: 32px;\n\theight: 100%;\n\ttransition: size 0.2s, transform 0.2s;\n\tuser-select: none;\n\tpadding: 5px;\n}\n\n.styles_rotatedIcon__G54X5 .aops-font {\n\ttransform: rotate(90deg);\n}\n\n.styles_collapseButton__2XxJW .aops-font {\n\tcolor: white;\n}\n\n.styles_collapseRegion__MIkVw:hover {\n\tbackground: rgba(255, 255, 255, 0.1);\n\tcursor: pointer;\n}\n\n.styles_collapseRegion__MIkVw:hover .styles_collapseButton__2XxJW .aops-font {\n\tcolor: #c8f0f2;\n\ttransform: scale(1.2);\n\tfilter: brightness(120%);\n\tcursor: pointer;\n}\n\n.styles_collapseRegion__MIkVw:hover .styles_collapseButton__2XxJW .styles_rotatedIcon__G54X5 .aops-font {\n\ttransform: scale(1.2) rotate(90deg);\n}\n\n.styles_menuWrapper__3JkDN {\n\toverflow: hidden;\n}\n\n.styles_menu__1wfcx {\n\tz-index: 350;\n\tbox-sizing: border-box;\n\tposition: absolute;\n\tright: 5px;\n\tpadding: 0px;\n\tmax-height: calc(100% - 35px);\n\toverflow: auto;\n\n\tbackground: #1b375de5;\n\tcolor: white;\n}\n\n.styles_menuHeader__3C4-T {\n}\n\n.styles_menuContents__3hZqD {\n\tpadding: 20px;\n}\n\n.styles_menuContents__3hZqD > * {\n\tmargin-bottom: 5px;\n}\n\n.styles_menuButton__2JkkQ {\n\twidth: fit-content;\n\tmin-width: 100%;\n}\n\n.styles_menuButton__2JkkQ:hover {\n\tcursor: pointer;\n\tfont-weight: bold;\n}\n\n.styles_expanding__1m0Ik {\n\ttransition: height 0.2s;\n\toverflow: hidden;\n}\n\n.styles_collapsing__oy0DV {\n\theight: 0px;\n\ttransition: height 0.2s;\n\toverflow: hidden;\n}\n\n.styles_fontOption__15dcA {\n\tdisplay: inline-block;\n\ttext-align: center;\n\twidth: fit-content;\n\tmargin-right: 3px;\n}\n\n.styles_fontOption__15dcA > * {\n\tpadding: 2px 5px;\n}\n\n.styles_fontOption__15dcA:hover {\n\tcursor: pointer;\n\tfont-weight: bold;\n}\n\n.styles_selectedFont__jYmzB {\n\tborder: 1px solid white;\n\tborder-radius: 4px;\n}\n\n.styles_smallFont__QaiW- {\n\tfont-size: 13px;\n\twidth: 30px;\n}\n\n.styles_mediumFont__3jSfy {\n\tfont-size: 15px;\n\twidth: 32px;\n}\n\n.styles_largeFont__2H90s {\n\tfont-size: 17px;\n\twidth: 34px;\n}\n.styles_extraLargeFont__3hZUE {\n\tfont-size: 19px;\n\twidth: 36px;\n}\n\n.styles_avatarWrapper__2QQuE {\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\twidth: 20px;\n\theight: 20px;\n\tbackground-color: white;\n}\n\n.styles_avatar__1b2t4 {\n\twidth: 20px;\n\theight: 20px;\n\tuser-select: none;\n}\n\n.styles_avatarWrapper__2QQuE:hover {\n\tcursor: pointer;\n}\n\n.styles_colorOptionsWrapper__1DuFg {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-top: 2px;\n}\n\n.styles_colorOption__1XuH9 {\n\tdisplay: flex;\n\tmargin-right: 5px;\n}\n\n.styles_colorOption__1XuH9:hover {\n\tcursor: pointer;\n}\n\n.styles_colorOption__1XuH9:hover .styles_colorBorder__IR93c {\n\tvisibility: visible !important;\n}\n\n.styles_colorBorder__IR93c {\n\tvisibility: hidden;\n\tborder: 1px solid;\n\tborder-radius: 4px;\n}\n\n.styles_colorBlock__3EAVW {\n\tvisibility: visible;\n\theight: 1em;\n\twidth: 1em;\n\tmargin: 3px;\n}\n");var gh={logo:"styles_logo__15AE8",aops:"styles_aops__2f0xn",online:"styles_online__2YeYk"};Ku(".styles_logo__15AE8 {\n\tenable-background: new 0 0 283 64.8;\n}\n\n.styles_aops__2f0xn {\n\tfill: #ffffff;\n}\n\n.styles_online__2YeYk {\n\tfill: #40c2cc;\n}\n");var mh=function(t){a(i,t);var r=f(i);function i(t){return e(this,i),r.call(this,t)}return n(i,[{key:"render",value:function(){return ue.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 283 64.8",className:[gh.logo,this.props.className||""].join(" ")},ue.createElement("g",null,ue.createElement("g",{className:gh.aops},ue.createElement("path",{d:"M26.3,52l-1.8-5.8H12.4L10.5,52H0.4l14.3-39.2h7.4L36.4,52H26.3z M18.7,27.7l-3.5,10.4H22L18.7,27.7z"}),ue.createElement("path",{d:"M59.1,48.5c-5.3,5-13.7,5-19,0c-2.5-2.7-3.2-5.5-3.2-11.3s0.8-8.6,3.2-11.3c5.3-5,13.7-5,19,0 c2.5,2.7,3.2,5.6,3.2,11.3S61.6,45.8,59.1,48.5z M52,31.1c-1.4-1.1-3.4-1.1-4.8,0c-1.2,1.1-1.3,3.2-1.3,6.2s0.2,5,1.3,6.2 c1.4,1.1,3.4,1.1,4.8,0c1.2-1.2,1.3-3.2,1.3-6.2S53.2,32.2,52,31.1L52,31.1z"}),ue.createElement("path",{d:"M82.1,38h-5.9v14h-9.6V12.9h15.5c8.7,0,13.4,6.1,13.4,12.6S90.8,38,82.1,38z M81.6,21.5h-5.4v7.9h5.4 c2.2,0.3,4.2-1.2,4.5-3.4c0.3-2.2-1.2-4.2-3.4-4.5C82.4,21.4,82,21.4,81.6,21.5L81.6,21.5z"}),ue.createElement("path",{d:"M111.5,52.3c-6,0-10.9-1.1-14.9-5.2l6.2-6.2c2,2,5.6,2.8,8.7,2.8c3.8,0,5.6-1.3,5.6-3.5 c0.1-0.8-0.2-1.7-0.8-2.3c-0.7-0.6-1.6-1-2.6-1l-4.7-0.7c-3.5-0.5-6.1-1.7-7.9-3.5s-2.7-4.5-2.7-7.9c0-7.1,5.4-12.4,14.3-12.4 c5.6,0,9.8,1.3,13.2,4.7l-6,6c-2.5-2.5-5.7-2.3-7.4-2.3c-3.4,0-4.7,1.9-4.7,3.6c0,0.7,0.3,1.3,0.8,1.8c0.7,0.7,1.7,1.1,2.7,1.1 l4.7,0.7c3.5,0.5,6,1.6,7.7,3.2c2.1,2,2.9,4.9,2.9,8.6C126.6,48,119.8,52.3,111.5,52.3z"})),ue.createElement("g",{className:gh.online},ue.createElement("path",{d:"M161.2,48.2c-5.7,5.6-14.9,5.6-20.6,0c-3.9-3.8-3.8-8.2-3.8-15.7s-0.1-11.9,3.8-15.7c5.7-5.6,14.9-5.6,20.6,0 c3.9,3.9,3.7,8.2,3.7,15.7S165.1,44.3,161.2,48.2z M156.7,20.3c-3.2-3.2-8.4-3.2-11.6,0c0,0,0,0,0,0c-1.9,2.1-2.3,4.3-2.3,12.1 s0.4,10.1,2.3,12.1c3.2,3.2,8.4,3.2,11.6,0c0,0,0,0,0,0c1.9-2.1,2.3-4.3,2.3-12.2S158.6,22.4,156.7,20.3z"}),ue.createElement("path",{d:"M188.7,52V35c0-4.3-2.5-6.2-5.6-6.2s-5.8,1.9-5.8,6.2v17h-5.6V24.1h5.5v2.8c1.9-2,4.6-3.2,7.4-3.1 c2.5-0.1,5,0.8,6.9,2.5c2.1,2.1,2.8,4.7,2.8,7.9V52H188.7z"}),ue.createElement("path",{d:"M209.1,52c-5.3,0-7.6-3.6-7.6-7.7V12.9h5.6V44c0,2.1,0.8,3.2,3,3.2h2.5V52H209.1z"}),ue.createElement("path",{d:"M217.2,18.6v-5.9h5.9v5.9H217.2z M217.3,52V24.1h5.6V52H217.3z"}),ue.createElement("path",{d:"M247.4,52V35c0-4.3-2.5-6.2-5.6-6.2s-5.8,1.9-5.8,6.2v17h-5.6V24.1h5.5v2.8c1.9-2,4.6-3.2,7.4-3.1 c2.5-0.1,5,0.8,6.9,2.5c2.1,2.1,2.8,4.7,2.8,7.9V52H247.4z"}),ue.createElement("path",{d:"M264.5,39.7c0,4.8,2.5,7.8,7.1,7.8c2.6,0.1,5.1-0.9,6.8-2.9l3.6,3.4c-2.6,3-6.5,4.5-10.5,4.3 c-7,0-12.5-3.7-12.5-14.3c0-9,4.7-14.2,11.8-14.2c7.5,0,11.8,5.5,11.8,13.4v2.5L264.5,39.7z M276.2,32c-0.9-2.2-3.1-3.6-5.5-3.5 c-2.4-0.1-4.6,1.3-5.5,3.5c-0.5,1.2-0.8,2.5-0.7,3.8H277C277,34.5,276.8,33.2,276.2,32z"}))))}}]),i}(ue.Component),vh="styles_pmIconWrapper__1qcKo",yh="styles_pmIcon__1ZcyA",bh="styles_pmNumber__3xM-u",wh="styles_largerText__3X-G4",_h="styles_pmFlashing__bS6Ny";Ku(".styles_pmIconWrapper__1qcKo {\n\tposition: relative;\n}\n\n.styles_pmIcon__1ZcyA {\n\tcolor: white;\n\tuser-select: none;\n}\n\n.styles_pmNumber__3xM-u {\n\tposition: absolute;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\ttop: 0;\n\tleft: 0;\n\tfont-size: 0.6em;\n\twidth: 100%;\n\theight: 84%;\n\tcolor: red;\n\tline-height: 0;\n\tpointer-events: none;\n\tuser-select: none;\n\tfont-weight: bold;\n}\n\n.styles_largerText__3X-G4 {\n\tfont-size: 0.8em;\n}\n\n@keyframes styles_flashing__uizcP {\n\t0% {\n\t\topacity: 0;\n\t}\n\n\t50% {\n\t\topacity: 1;\n\t}\n\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n.styles_pmFlashing__bS6Ny {\n\tanimation-name: styles_flashing__uizcP;\n\tanimation-duration: 1s;\n\tanimation-timing-function: steps(1, start);\n\tanimation-iteration-count: infinite;\n}\n");var Sh="styles_icon__3gMtV";Ku(".styles_icon__3gMtV {\n\tfont-size: 1.2em;\n\tmargin: 0.2em;\n\tcolor: #40c2cc;\n\tuser-select: none;\n}\n");var xh=function(t){a(i,t);var r=f(i);function i(){return e(this,i),r.apply(this,arguments)}return n(i,[{key:"render",value:function(){var e=["aops-font",this.props.className||Sh].join(" ");return ue.createElement("div",{className:e},this.props.children)}}]),i}(ue.Component),Ch=0,kh=zu(function(t){a(i,t);var r=f(i);function i(t){var n;return e(this,i),(n=r.call(this,t)).getNumberClasses=n.getNumberClasses.bind(h(n)),n}return n(i,[{key:"render",value:function(){return void 0!==this.props.amount?Ch=this.props.amount:this.props.roomId&&(Ch=this.props.client.messageUtils.getUnreadMessageCount(this.props.roomId)),ue.createElement("span",{className:vh},ue.createElement(xh,{className:yh},"x"),ue.createElement("span",{className:this.getNumberClasses()},Ch>9?"9+":Ch||""))}},{key:"getNumberClasses",value:function(){var e=[bh];return(!this.props.client||this.props.client.userUtils.getNotificationFlashing())&&e.push(_h),this.props.isInPanelHandle&&e.push(wh),e.join(" ")}}]),i}(ue.Component)),Eh={switch:"styles_switch__1zzzV",slider:"styles_slider__3ofuX",wrapper:"styles_wrapper__1x1pz",disabledToggle:"styles_disabledToggle__1Djxh",disabledText:"styles_disabledText__1-1m0",sliderTransition:"styles_sliderTransition__3xG1K"};Ku('/* The switch - the box around the slider */\n.styles_switch__1zzzV {\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: 2em;\n\theight: 1em;\n}\n\n/* Hide default HTML checkbox */\n.styles_switch__1zzzV input {\n\topacity: 0;\n\twidth: 0;\n\theight: 0;\n}\n\n/* The slider */\n.styles_slider__3ofuX {\n\tposition: absolute;\n\tcursor: pointer;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: #ccc;\n\tborder-radius: 34px;\n\ttransform: translateY(0.2em);\n}\n\n.styles_wrapper__1x1pz {\n\tmargin-top: 7px;\n\tdisplay: block;\n\tcursor: pointer;\n}\n\n.styles_wrapper__1x1pz:hover {\n\tfont-weight: bold;\n}\n\n.styles_wrapper__1x1pz.styles_disabledToggle__1Djxh:hover {\n\tfont-weight: normal;\n}\n\n.styles_disabledText__1-1m0 {\n\tcolor: rgb(210, 210, 210);\n}\n\n.styles_disabledToggle__1Djxh > *:hover {\n\tcursor: not-allowed !important;\n}\n\n.styles_sliderTransition__3xG1K {\n\ttransition: 0.4s;\n}\n\n.styles_sliderTransition__3xG1K:before {\n\ttransition: 0.4s;\n}\n\n.styles_slider__3ofuX:before {\n\tposition: absolute;\n\tcontent: "";\n\theight: 0.8em;\n\twidth: 0.8em;\n\tleft: 0.1em;\n\tbottom: 0.1em;\n\n\tbackground-color: white;\n\tborder-radius: 50%;\n}\n\ninput:checked + .styles_slider__3ofuX {\n\tbackground-color: #40c2cc;\n}\n\ninput:focus + .styles_slider__3ofuX {\n\tbox-shadow: 0 0 1px #40c2cc;\n}\n\ninput:checked + .styles_slider__3ofuX:before {\n\ttransform: translateX(1em);\n}\n');var Ah=zu(function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"sliderRef",he()),n.onChange=n.onChange.bind(h(n)),n}return n(o,[{key:"render",value:function(){return ue.createElement("label",{className:[Eh.wrapper,this.props.disabled?Eh.disabledToggle:""].join(" "),title:this.props.wrapperHoverText},ue.createElement("span",{className:this.props.disabled?Eh.disabledText:"",title:this.props.labelHoverText},this.props.label),ue.createElement("div",{className:[Eh.switch,this.props.disabled?Eh.disabledToggle:""].join(" ")},ue.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:this.onChange,disabled:this.props.disabled}),ue.createElement("span",{ref:this.sliderRef,className:Eh.slider})))}},{key:"onChange",value:function(){var e=this;this.props.onChange(),this.sliderRef.current&&(this.sliderRef.current.classList.add(Eh.sliderTransition),setTimeout((function(){e.sliderRef.current&&e.sliderRef.current.classList.remove(Eh.sliderTransition)}),400))}}]),o}(ue.Component)),Rh=zu(function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"avatarSliderRef",he()),r(h(n),"fullScreenSliderRef",he()),r(h(n),"menuRef",he()),n.state={selectedFontSize:0},n.buildMenu=n.buildMenu.bind(h(n)),n.onMouseDownPreventFocus=n.onMouseDownPreventFocus.bind(h(n)),n.onClickMenuBar=n.onClickMenuBar.bind(h(n)),n.onClickMenuBody=n.onClickMenuBody.bind(h(n)),n.onClickPM=n.onClickPM.bind(h(n)),n.changeFontSize=n.changeFontSize.bind(h(n)),n.buildFontSelector=n.buildFontSelector.bind(h(n)),n.buildAvatarToggle=n.buildAvatarToggle.bind(h(n)),n.onAvatarToggle=n.onAvatarToggle.bind(h(n)),n.buildNotificationFlashToggle=n.buildNotificationFlashToggle.bind(h(n)),n.buildQueueFlashToggle=n.buildQueueFlashToggle.bind(h(n)),n.buildCompactSpacingToggle=n.buildCompactSpacingToggle.bind(h(n)),n.buildColorSelector=n.buildColorSelector.bind(h(n)),n.getClassId=n.getClassId.bind(h(n)),n.toggleFullScreen=n.toggleFullScreen.bind(h(n)),n.toggleNotificationFlashing=n.toggleNotificationFlashing.bind(h(n)),n}return n(o,[{key:"render",value:function(){this.state.selectedFontSize!==this.props.client.userUtils.getFontSize()&&this.changeFontSize(this.props.client.userUtils.getFontSize());var e=this.props.client.userUtils.getActiveUser();if(e){var t=this.props.client.roomUtils.getRoom("main"),n="",r="";return t&&(n=t.name,r=this.getClassId(t)),ue.createElement("div",{className:ph.menuBarWrapper,onMouseDown:this.onMouseDownPreventFocus},ue.createElement("div",{className:[ph.menuBar,ph.collapseRegion].join(" "),onClick:this.onClickMenuBar},ue.createElement(mh,{className:ph.logo}),ue.createElement("div",{className:ph.title},ue.createElement("div",null,r),ue.createElement("div",{className:ph.roomName},n)),ue.createElement("div",{className:ph.icons},this.props.mobileView&&ue.createElement("div",{className:ph.icon,onClick:this.onClickPM},ue.createElement(kh,{client:this.props.client,amount:this.props.getTotalUnreadMessageCount()})),this.props.mobileView&&ue.createElement("div",{className:ph.divider}),!this.props.mobileView&&ue.createElement("div",{key:"user-avatar-".concat(e.id),className:ph.avatarWrapper},ue.createElement("img",{src:"".concat(e.avatar?e.avatar:"https://avatar.artofproblemsolving.com/avatar.jpg"),className:ph.avatar})),ue.createElement("div",{className:ph.menuWrapper},ue.createElement("div",{className:[ph.collapseButton,!this.props.mobileView&&this.props.showingMenu?ph.rotatedIcon:""].join(" ")},ue.createElement("span",{className:"aops-font"},this.props.mobileView?"Q":"7"))))),this.props.showingMenu&&this.buildMenu())}}},{key:"componentDidUpdate",value:function(e,t){if(e.showingMenu!==this.props.showingMenu){if(this.menuRef.current){var n=this.menuRef.current,r=getComputedStyle(n).height;n.style.height="1px",n.offsetHeight,n.style.height=r,n.classList.add(ph.expanding),setTimeout((function(){n.style.height="auto",n.classList.remove(ph.expanding)}),200)}this.setState({selectedFontSize:this.props.client.userUtils.getFontSize()})}}},{key:"buildMenu",value:function(){var e=null;if(this.props.onShowSpyPanel){var t=!1,n=this.props.client.roomUtils.getRoom("main");if(n)this.props.client.roomUtils.getRoom("SPY-"+n.id)&&(t=!0);t||(e=ue.createElement("div",{className:ph.menuButton,onClick:this.props.onShowSpyPanel},"Reopen Spy Panel"))}var r=null;this.props.onCryptOpen&&(r=ue.createElement("div",{className:ph.menuButton,onClick:this.props.onCryptOpen},"Open Crypt"));var i=null;this.props.onRefreshQueue&&(i=ue.createElement("div",{className:ph.menuButton,onClick:this.props.onRefreshQueue},"Refresh My Queue"));var o=null;if(this.props.onSetModeratedStatus){var s=this.props.client.roomUtils.getRoom("main"),a=!1;s&&(a=s.isModerated),o=ue.createElement("div",{className:ph.menuButton,onClick:this.props.onSetModeratedStatus},a?"Unmoderate Classroom":"Moderate Classroom")}var l=null;this.props.onSwapQueueLocation&&(l=ue.createElement("div",{className:ph.menuButton,onClick:this.props.onSwapQueueLocation},"Swap Queue and Classroom"));var c=null;this.props.onOpenPanicModal&&(c=ue.createElement("div",{className:ph.menuButton,onClick:this.props.onOpenPanicModal},"HQ Alert"));var u=null;this.props.onOpenSmileySettingsModal&&(u=ue.createElement("div",{className:ph.menuButton,onClick:this.props.onOpenSmileySettingsModal},"Change Smiley Settings"));var h=null;return this.props.onOpenScreenLayoutModal&&(h=ue.createElement("div",{className:ph.menuButton,onClick:this.props.onOpenScreenLayoutModal},"Change Column Widths")),ue.createElement("div",{ref:this.menuRef,className:ph.menu,onClick:this.onClickMenuBody},ue.createElement("div",{className:ph.menuContents},o,ue.createElement("div",{className:ph.menuButton,onClick:this.props.onClearMessages},"Clear My Classroom"),i,r,e,this.buildFontSelector(),this.buildTimestampToggle(),this.buildColorSelector(),this.buildAvatarToggle(),this.buildNotificationFlashToggle(),this.buildFullScreenToggle(),this.buildQueueFlashToggle(),this.buildCompactSpacingToggle(),l,u,h,c))}},{key:"onMouseDownPreventFocus",value:function(e){e.preventDefault()}},{key:"onClickMenuBar",value:function(e){var t=this.props.client;e.target instanceof Element&&this.menuRef.current&&this.menuRef.current.contains(e.target)||(this.props.showingMenu?setTimeout((function(){t.userUtils.setIsMenuBarOpen(!1)}),200):t.userUtils.setIsMenuBarOpen(!0),e.stopPropagation())}},{key:"onClickMenuBody",value:function(e){e.stopPropagation()}},{key:"onClickPM",value:function(e){this.props.onClickPM&&(e.stopPropagation(),this.props.onClickPM())}},{key:"changeFontSize",value:function(e){var t=this;return function(){t.setState({selectedFontSize:e}),t.props.onFontSizeChange(e)}}},{key:"onAvatarToggle",value:function(){this.props.onRenderAvatars&&this.props.onRenderAvatars()}},{key:"buildFontSelector",value:function(){var e=this,t=this.props.client,n=[{value:t.FONT_SIZE_SMALL,className:ph.smallFont},{value:t.FONT_SIZE_MEDIUM,className:ph.mediumFont},{value:t.FONT_SIZE_LARGE,className:ph.largeFont},{value:t.FONT_SIZE_EXTRA_LARGE,className:ph.extraLargeFont}];return ue.createElement("div",null,ue.createElement("span",null,"Text Size: "),n.map((function(t){return ue.createElement("div",{key:"font-size-".concat(t.value),className:[ph.fontOption,t.className,e.state.selectedFontSize===t.value?ph.selectedFont:""].join(" ")},ue.createElement("span",{onClick:e.changeFontSize(t.value)},"Aa"))})))}},{key:"buildColorSelector",value:function(){var e=this.props.client,t=e.userUtils.getPreferredColor(),n=[{value:"green",color:"#EDF5D7"},{value:"orange",color:"#FDE8CD"},{value:"pink",color:"#FAE0E3"},{value:"purple",color:"#EDE3F0"},{value:"blue",color:"#DBF1FA"}];return ue.createElement(ue.Fragment,null,ue.createElement("span",null,"My Message Color: "),ue.createElement("div",{className:ph.colorOptionsWrapper},n.map((function(n){return ue.createElement("div",{key:"set-color-".concat(n.value),className:ph.colorOption,onClick:function(){e.userUtils.setPreferredColor(n.value)}},ue.createElement("div",{className:ph.colorBorder,style:{borderColor:n.color,visibility:t===n.value?"visible":"hidden"}},ue.createElement("div",{className:ph.colorBlock,style:{backgroundColor:n.color}})))}))))}},{key:"buildAvatarToggle",value:function(){var e=this.props.client,t=e.roomUtils.getRenderAvatars(),n=!e.getCanToggleAvatarRendering(),r=this.props.client.userUtils.getActiveUser(),i=ue.createElement(ue.Fragment,null,r&&r.isInstructor?ue.createElement("strong",null,"(Global) "):"","Show Avatars:"," ");return ue.createElement(Ah,{wrapperHoverText:n?"Instructor has disabled avatars":"",labelHoverText:r&&r.isInstructor?"This will impact all users in the classroom.":"",label:i,disabled:n,checked:t,onChange:this.onAvatarToggle})}},{key:"buildFullScreenToggle",value:function(){var e=this.props.client,t=e.userUtils.getFullScreen(),n=e.userUtils.getActiveUser();return n&&n.isAssistant||window.innerWidth<1500?ue.createElement(ue.Fragment,null):ue.createElement(Ah,{label:"Full Screen: ",onChange:this.toggleFullScreen,checked:t})}},{key:"toggleFullScreen",value:function(){this.props.client.userUtils.toggleFullScreen(),this.props.restoreFocus()}},{key:"buildNotificationFlashToggle",value:function(){var e=this.props.client.userUtils.getNotificationFlashing();return ue.createElement(Ah,{label:"Flashing Notifications: ",onChange:this.toggleNotificationFlashing,checked:e})}},{key:"toggleNotificationFlashing",value:function(){this.props.client.userUtils.toggleNotificationFlashing(),this.props.restoreFocus()}},{key:"buildQueueFlashToggle",value:function(){if(this.props.onToggleQueueFlashing&&void 0!==this.props.queueFlashing)return ue.createElement(Ah,{label:"Flashing Queue: ",onChange:this.props.onToggleQueueFlashing,checked:this.props.queueFlashing})}},{key:"buildCompactSpacingToggle",value:function(){if(this.props.onToggleWhitespaceOption&&void 0!==this.props.whitespaceOption)return ue.createElement(Ah,{label:"Use Compact Spacing: ",onChange:this.props.onToggleWhitespaceOption,checked:"compact"===this.props.whitespaceOption})}},{key:"getClassId",value:function(e){var t="";if(e.classId){if(e.classId<10){var n=this.props.client.userUtils.getActiveUser();if(n&&!n.isAssistant)return""}t=e.classId.toString(),e.section&&(t+=e.section)}return t}},{key:"buildTimestampToggle",value:function(){if(this.props.onToggleTimestamps&&void 0!==this.props.showTimestamps)return ue.createElement(Ah,{label:"Show Timestamps: ",onChange:this.props.onToggleTimestamps,checked:this.props.showTimestamps})}}]),o}(ue.Component)),Th={modalWrapper:"styles_modalWrapper__2dSN_",modalBody:"styles_modalBody__GHbpA"};Ku(".styles_modalWrapper__2dSN_ {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 10000;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: rgba(0, 0, 0, 0.4);\n}\n\n.styles_modalBody__GHbpA {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 10000;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n");var Mh=zu(function(t){a(i,t);var r=f(i);function i(t){var n;return e(this,i),(n=r.call(this,t)).onMount=n.onMount.bind(h(n)),n.onClick=n.onClick.bind(h(n)),n.onMouseDown=n.onMouseDown.bind(h(n)),n}return n(i,[{key:"onMount",value:function(){this.props.onMount&&this.props.onMount(this.props.modal)}},{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(this.props.modal,e)}},{key:"onMouseDown",value:function(e){this.props.onMouseDown&&this.props.onMouseDown(this.props.modal,e)}},{key:"render",value:function(){return ue.createElement("div",{className:[Th.modalWrapper,"isModalWrapper"].join(" "),onClick:this.onClick,onMouseDown:this.onMouseDown},this.props.modal.node)}},{key:"componentDidMount",value:function(){document&&document.activeElement&&document.activeElement.blur();this.onMount()}}]),i}(ue.Component)),Oh="styles_modalTextWrapper__7oZu9",$h="styles_modalText__1z4w5",Lh="styles_modalButton__EuxCJ",Ih="styles_buttonWrapper__z2Uds",Ph="styles_noTopMargin__2-39-";Ku(".styles_modalTextWrapper__7oZu9 {\n\tfont-size: 1.1em;\n\tbackground-color: white;\n\tpadding: 40px;\n\tpadding-bottom: 20px;\n\toverflow-wrap: break-word;\n}\n\n.styles_modalText__1z4w5 {\n\tmargin-bottom: 20px;\n}\n\n.styles_modalButton__EuxCJ {\n\tfont-size: 1em;\n\tfloat: right;\n\tborder: none;\n\toutline: none;\n\tbackground-color: #1b355d;\n\tcolor: white;\n\tpadding: 5px 30px;\n\tmargin: 0px 50px 30px 30px;\n}\n\n.styles_modalButton__EuxCJ:focus {\n\toutline: 2px solid #40c2cc;\n\toutline-offset: 1px;\n}\n\n.styles_modalButton__EuxCJ:hover {\n\tcursor: pointer;\n\tbackground-color: #2d599c;\n}\n\n.styles_buttonWrapper__z2Uds {\n\tmargin-bottom: 30px;\n}\n\n.styles_noTopMargin__2-39- {\n\tmargin-top: 0 !important;\n}\n");var Dh={modal:"modal-styles_modal__BZQPy",modalTitle:"modal-styles_modalTitle__3ihkQ",modalButton:"modal-styles_modalButton__IQiqk",cancelButton:"modal-styles_cancelButton__21y5d",bold:"modal-styles_bold__2gPgr",closeButton:"modal-styles_closeButton__eKL0a",twoButtonWrapper:"modal-styles_twoButtonWrapper__1pr6G"};Ku(".modal-styles_modal__BZQPy {\n\tposition: relative;\n\tbackground-color: white;\n\twidth: 40%;\n\tmin-width: 500px;\n}\n\n@media (max-width: 550px) {\n\t.modal-styles_modal__BZQPy {\n\t\tmin-width: 95%;\n\t}\n}\n\n.modal-styles_modalTitle__3ihkQ {\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: #1b355d;\n\tcolor: white;\n\tpadding: 10px 10px 10px 30px;\n\tfont-size: 1.5em;\n\tfont-weight: 500;\n}\n\n.modal-styles_modalButton__IQiqk {\n\tfont-size: 1em;\n\tfloat: right;\n\tborder: none;\n\toutline: none;\n\tbackground-color: #1b355d;\n\tcolor: white;\n\tpadding: 5px 30px;\n\tmargin: 30px 50px 0px 30px;\n}\n\n.modal-styles_modalButton__IQiqk:hover {\n\tcursor: pointer;\n\tbackground-color: #2d599c;\n}\n\n.modal-styles_modalButton__IQiqk:focus {\n\toutline: 2px solid rgba(64, 194, 204, 0.75);\n\toutline-offset: 2px;\n}\n\n.modal-styles_cancelButton__21y5d {\n\tmargin-left: 30px;\n\tmargin-right: 30px;\n\tbackground-color: gray;\n}\n\n.modal-styles_cancelButton__21y5d:hover {\n\tbackground-color: rgb(167, 167, 167);\n}\n\n.modal-styles_bold__2gPgr {\n\tfont-weight: bold;\n}\n\n/* The close button. */\n.modal-styles_closeButton__eKL0a {\n\tmargin-left: auto;\n\tright: 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-shrink: 0;\n\twidth: 32px;\n\theight: 100%;\n\ttransition: color 0.2s, transform 0.2s;\n\tuser-select: none;\n}\n\n.modal-styles_closeButton__eKL0a .aops-font {\n\tcolor: white;\n\ttransition: transform 0.1s, filter 0.2s;\n}\n\n.modal-styles_closeButton__eKL0a:hover .aops-font {\n\ttransform: scale(1.2);\n\tcursor: pointer;\n}\n\n.modal-styles_twoButtonWrapper__1pr6G {\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: space-around;\n}\n\n.modal-styles_twoButtonWrapper__1pr6G .modal-styles_modalButton__IQiqk {\n\tmargin: 30px 5px 0px;\n\tfloat: none;\n}\n");var Nh=_((function(e,t){(function(){var n="Expected a function",r="__lodash_placeholder__",i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",h="[object GeneratorFunction]",d="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object Symbol]",w="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",x="[object Float32Array]",C="[object Float64Array]",k="[object Int8Array]",E="[object Int16Array]",A="[object Int32Array]",R="[object Uint8Array]",T="[object Uint16Array]",M="[object Uint32Array]",O=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/&(?:amp|lt|gt|quot|#39);/g,P=/[&<>"']/g,D=RegExp(I.source),N=RegExp(P.source),F=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,V=RegExp(H.source),G=/^\s+/,K=/\s/,q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,Y=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,J=/[()=,{}\[\]\/\s]/,Z=/\\(\\)?/g,ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,te=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ie=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,ae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,ce=/['\n\r\u2028\u2029\\]/g,ue="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="[\\ud800-\\udfff]",fe="["+he+"]",pe="["+ue+"]",ge="\\d+",me="[\\u2700-\\u27bf]",ve="[a-z\\xdf-\\xf6\\xf8-\\xff]",ye="[^\\ud800-\\udfff"+he+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",we="[^\\ud800-\\udfff]",_e="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",xe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ce="(?:"+ve+"|"+ye+")",ke="(?:"+xe+"|"+ye+")",Ee="(?:"+pe+"|"+be+")"+"?",Ae="[\\ufe0e\\ufe0f]?"+Ee+("(?:\\u200d(?:"+[we,_e,Se].join("|")+")[\\ufe0e\\ufe0f]?"+Ee+")*"),Re="(?:"+[me,_e,Se].join("|")+")"+Ae,Te="(?:"+[we+pe+"?",pe,_e,Se,de].join("|")+")",Me=RegExp("[']","g"),Oe=RegExp(pe,"g"),$e=RegExp(be+"(?="+be+")|"+Te+Ae,"g"),Le=RegExp([xe+"?"+ve+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[fe,xe,"$"].join("|")+")",ke+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[fe,xe+Ce,"$"].join("|")+")",xe+"?"+Ce+"+(?:['](?:d|ll|m|re|s|t|ve))?",xe+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Re].join("|"),"g"),Ie=RegExp("[\\u200d\\ud800-\\udfff"+ue+"\\ufe0e\\ufe0f]"),Pe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ne=-1,Fe={};Fe[x]=Fe[C]=Fe[k]=Fe[E]=Fe[A]=Fe[R]=Fe["[object Uint8ClampedArray]"]=Fe[T]=Fe[M]=!0,Fe[o]=Fe[s]=Fe[_]=Fe[a]=Fe[S]=Fe[l]=Fe[c]=Fe[u]=Fe[d]=Fe[f]=Fe[p]=Fe[g]=Fe[m]=Fe[v]=Fe[w]=!1;var Be={};Be[o]=Be[s]=Be[_]=Be[S]=Be[a]=Be[l]=Be[x]=Be[C]=Be[k]=Be[E]=Be[A]=Be[d]=Be[f]=Be[p]=Be[g]=Be[m]=Be[v]=Be[y]=Be[R]=Be["[object Uint8ClampedArray]"]=Be[T]=Be[M]=!0,Be[c]=Be[u]=Be[w]=!1;var Ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ze=parseFloat,We=parseInt,je="object"==typeof b&&b&&b.Object===Object&&b,He="object"==typeof self&&self&&self.Object===Object&&self,Ve=je||He||Function("return this")(),Ge=t&&!t.nodeType&&t,Ke=Ge&&e&&!e.nodeType&&e,qe=Ke&&Ke.exports===Ge,Xe=qe&&je.process,Ye=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Qe=Ye&&Ye.isArrayBuffer,Je=Ye&&Ye.isDate,Ze=Ye&&Ye.isMap,et=Ye&&Ye.isRegExp,tt=Ye&&Ye.isSet,nt=Ye&&Ye.isTypedArray;function rt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function it(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function ct(e,t){return!!(null==e?0:e.length)&&bt(e,t,0)>-1}function ut(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ht(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ft(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function pt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var mt=xt("length");function vt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function yt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function bt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):yt(e,_t,n)}function wt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function _t(e){return e!=e}function St(e,t){var n=null==e?0:e.length;return n?Et(e,t)/n:NaN}function xt(e){return function(t){return null==t?void 0:t[e]}}function Ct(e){return function(t){return null==e?void 0:e[t]}}function kt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Et(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function At(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Rt(e){return e?e.slice(0,Gt(e)+1).replace(G,""):e}function Tt(e){return function(t){return e(t)}}function Mt(e,t){return ht(t,(function(t){return e[t]}))}function Ot(e,t){return e.has(t)}function $t(e,t){for(var n=-1,r=e.length;++n<r&&bt(t,e[n],0)>-1;);return n}function Lt(e,t){for(var n=e.length;n--&&bt(t,e[n],0)>-1;);return n}function It(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Pt=Ct({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Dt=Ct({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Nt(e){return"\\"+Ue[e]}function Ft(e){return Ie.test(e)}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ut(e,t){return function(n){return e(t(n))}}function zt(e,t){for(var n=-1,i=e.length,o=0,s=[];++n<i;){var a=e[n];a!==t&&a!==r||(e[n]=r,s[o++]=n)}return s}function Wt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function jt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Ht(e){return Ft(e)?function(e){var t=$e.lastIndex=0;for(;$e.test(e);)++t;return t}(e):mt(e)}function Vt(e){return Ft(e)?function(e){return e.match($e)||[]}(e):function(e){return e.split("")}(e)}function Gt(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Kt=Ct({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var qt=function e(t){var b,K=(t=null==t?Ve:qt.defaults(Ve.Object(),t,qt.pick(Ve,De))).Array,ue=t.Date,he=t.Error,de=t.Function,fe=t.Math,pe=t.Object,ge=t.RegExp,me=t.String,ve=t.TypeError,ye=K.prototype,be=de.prototype,we=pe.prototype,_e=t["__core-js_shared__"],Se=be.toString,xe=we.hasOwnProperty,Ce=0,ke=(b=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",Ee=we.toString,Ae=Se.call(pe),Re=Ve._,Te=ge("^"+Se.call(xe).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$e=qe?t.Buffer:void 0,Ie=t.Symbol,Ue=t.Uint8Array,je=$e?$e.allocUnsafe:void 0,He=Ut(pe.getPrototypeOf,pe),Ge=pe.create,Ke=we.propertyIsEnumerable,Xe=ye.splice,Ye=Ie?Ie.isConcatSpreadable:void 0,mt=Ie?Ie.iterator:void 0,Ct=Ie?Ie.toStringTag:void 0,Xt=function(){try{var e=eo(pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),Yt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Qt=ue&&ue.now!==Ve.Date.now&&ue.now,Jt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Zt=fe.ceil,en=fe.floor,tn=pe.getOwnPropertySymbols,nn=$e?$e.isBuffer:void 0,rn=t.isFinite,on=ye.join,sn=Ut(pe.keys,pe),an=fe.max,ln=fe.min,cn=ue.now,un=t.parseInt,hn=fe.random,dn=ye.reverse,fn=eo(t,"DataView"),pn=eo(t,"Map"),gn=eo(t,"Promise"),mn=eo(t,"Set"),vn=eo(t,"WeakMap"),yn=eo(pe,"create"),bn=vn&&new vn,wn={},_n=Ro(fn),Sn=Ro(pn),xn=Ro(gn),Cn=Ro(mn),kn=Ro(vn),En=Ie?Ie.prototype:void 0,An=En?En.valueOf:void 0,Rn=En?En.toString:void 0;function Tn(e){if(Vs(e)&&!Is(e)&&!(e instanceof Ln)){if(e instanceof $n)return e;if(xe.call(e,"__wrapped__"))return To(e)}return new $n(e)}var Mn=function(){function e(){}return function(t){if(!Hs(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function On(){}function $n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Ln(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function In(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new Pn(e);this.size=t.size}function Bn(e,t){var n=Is(e),r=!n&&Ls(e),i=!n&&!r&&Fs(e),o=!n&&!r&&!i&&Zs(e),s=n||r||i||o,a=s?At(e.length,me):[],l=a.length;for(var c in e)!t&&!xe.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,l))||a.push(c);return a}function Un(e){var t=e.length;return t?e[Nr(0,t-1)]:void 0}function zn(e,t){return ko(yi(e),Yn(t,0,e.length))}function Wn(e){return ko(yi(e))}function jn(e,t,n){(void 0!==n&&!Ms(e[t],n)||void 0===n&&!(t in e))&&qn(e,t,n)}function Hn(e,t,n){var r=e[t];xe.call(e,t)&&Ms(r,n)&&(void 0!==n||t in e)||qn(e,t,n)}function Vn(e,t){for(var n=e.length;n--;)if(Ms(e[n][0],t))return n;return-1}function Gn(e,t,n,r){return tr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Kn(e,t){return e&&bi(t,_a(t),e)}function qn(e,t,n){"__proto__"==t&&Xt?Xt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Xn(e,t){for(var n=-1,r=t.length,i=K(r),o=null==e;++n<r;)i[n]=o?void 0:ma(e,t[n]);return i}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Qn(e,t,n,r,i,s){var c,b=1&t,w=2&t,O=4&t;if(n&&(c=i?n(e,r,i,s):n(e)),void 0!==c)return c;if(!Hs(e))return e;var $=Is(e);if($){if(c=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&xe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!b)return yi(e,c)}else{var L=ro(e),I=L==u||L==h;if(Fs(e))return di(e,b);if(L==p||L==o||I&&!i){if(c=w||I?{}:oo(e),!b)return w?function(e,t){return bi(e,no(e),t)}(e,function(e,t){return e&&bi(t,Sa(t),e)}(c,e)):function(e,t){return bi(e,to(e),t)}(e,Kn(c,e))}else{if(!Be[L])return i?e:{};c=function(e,t,n){var r=e.constructor;switch(t){case _:return fi(e);case a:case l:return new r(+e);case S:return function(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case x:case C:case k:case E:case A:case R:case"[object Uint8ClampedArray]":case T:case M:return pi(e,n);case d:return new r;case f:case v:return new r(e);case g:return function(e){var t=new e.constructor(e.source,te.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return new r;case y:return i=e,An?pe(An.call(i)):{}}var i}(e,L,b)}}s||(s=new Fn);var P=s.get(e);if(P)return P;s.set(e,c),Ys(e)?e.forEach((function(r){c.add(Qn(r,t,n,r,e,s))})):Gs(e)&&e.forEach((function(r,i){c.set(i,Qn(r,t,n,i,e,s))}));var D=$?void 0:(O?w?Ki:Gi:w?Sa:_a)(e);return ot(D||e,(function(r,i){D&&(r=e[i=r]),Hn(c,i,Qn(r,t,n,i,e,s))})),c}function Jn(e,t,n){var r=n.length;if(null==e)return!r;for(e=pe(e);r--;){var i=n[r],o=t[i],s=e[i];if(void 0===s&&!(i in e)||!o(s))return!1}return!0}function Zn(e,t,r){if("function"!=typeof e)throw new ve(n);return _o((function(){e.apply(void 0,r)}),t)}function er(e,t,n,r){var i=-1,o=ct,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=ht(t,Tt(n))),r?(o=ut,s=!1):t.length>=200&&(o=Ot,s=!1,t=new Nn(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else o(t,h,r)||l.push(u)}return l}Tn.templateSettings={escape:F,evaluate:B,interpolate:U,variable:"",imports:{_:Tn}},Tn.prototype=On.prototype,Tn.prototype.constructor=Tn,$n.prototype=Mn(On.prototype),$n.prototype.constructor=$n,Ln.prototype=Mn(On.prototype),Ln.prototype.constructor=Ln,In.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},In.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},In.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return xe.call(t,e)?t[e]:void 0},In.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:xe.call(t,e)},In.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(e){var t=this.__data__,n=Vn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Pn.prototype.get=function(e){var t=this.__data__,n=Vn(t,e);return n<0?void 0:t[n][1]},Pn.prototype.has=function(e){return Vn(this.__data__,e)>-1},Pn.prototype.set=function(e,t){var n=this.__data__,r=Vn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new In,map:new(pn||Pn),string:new In}},Dn.prototype.delete=function(e){var t=Ji(this,e).delete(e);return this.size-=t?1:0,t},Dn.prototype.get=function(e){return Ji(this,e).get(e)},Dn.prototype.has=function(e){return Ji(this,e).has(e)},Dn.prototype.set=function(e,t){var n=Ji(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Nn.prototype.add=Nn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Nn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new Pn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Pn){var r=n.__data__;if(!pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(e,t),this.size=n.size,this};var tr=Si(cr),nr=Si(ur,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function ir(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(void 0===a?s==s&&!Js(s):n(s,a)))var a=s,l=o}return l}function or(e,t){var n=[];return tr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function sr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=so),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?sr(a,t-1,n,r,i):dt(i,a):r||(i[i.length]=a)}return i}var ar=xi(),lr=xi(!0);function cr(e,t){return e&&ar(e,t,_a)}function ur(e,t){return e&&lr(e,t,_a)}function hr(e,t){return lt(t,(function(t){return zs(e[t])}))}function dr(e,t){for(var n=0,r=(t=li(t,e)).length;null!=e&&n<r;)e=e[Ao(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return Is(e)?r:dt(r,n(e))}function pr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ct&&Ct in pe(e)?function(e){var t=xe.call(e,Ct),n=e[Ct];try{e[Ct]=void 0;var r=!0}catch(e){}var i=Ee.call(e);r&&(t?e[Ct]=n:delete e[Ct]);return i}(e):function(e){return Ee.call(e)}(e)}function gr(e,t){return e>t}function mr(e,t){return null!=e&&xe.call(e,t)}function vr(e,t){return null!=e&&t in pe(e)}function yr(e,t,n){for(var r=n?ut:ct,i=e[0].length,o=e.length,s=o,a=K(o),l=1/0,c=[];s--;){var u=e[s];s&&t&&(u=ht(u,Tt(t))),l=ln(u.length,l),a[s]=!n&&(t||i>=120&&u.length>=120)?new Nn(s&&u):void 0}u=e[0];var h=-1,d=a[0];e:for(;++h<i&&c.length<l;){var f=u[h],p=t?t(f):f;if(f=n||0!==f?f:0,!(d?Ot(d,p):r(c,p,n))){for(s=o;--s;){var g=a[s];if(!(g?Ot(g,p):r(e[s],p,n)))continue e}d&&d.push(p),c.push(f)}}return c}function br(e,t,n){var r=null==(e=vo(e,t=li(t,e)))?e:e[Ao(Uo(t))];return null==r?void 0:rt(r,e,n)}function wr(e){return Vs(e)&&pr(e)==o}function _r(e,t,n,r,i){return e===t||(null==e||null==t||!Vs(e)&&!Vs(t)?e!=e&&t!=t:function(e,t,n,r,i,u){var h=Is(e),b=Is(t),w=h?s:ro(e),x=b?s:ro(t),C=(w=w==o?p:w)==p,k=(x=x==o?p:x)==p,E=w==x;if(E&&Fs(e)){if(!Fs(t))return!1;h=!0,C=!1}if(E&&!C)return u||(u=new Fn),h||Zs(e)?Hi(e,t,n,r,i,u):function(e,t,n,r,i,o,s){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!o(new Ue(e),new Ue(t)));case a:case l:case f:return Ms(+e,+t);case c:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case d:var u=Bt;case m:var h=1&r;if(u||(u=Wt),e.size!=t.size&&!h)return!1;var p=s.get(e);if(p)return p==t;r|=2,s.set(e,t);var b=Hi(u(e),u(t),r,i,o,s);return s.delete(e),b;case y:if(An)return An.call(e)==An.call(t)}return!1}(e,t,w,n,r,i,u);if(!(1&n)){var A=C&&xe.call(e,"__wrapped__"),R=k&&xe.call(t,"__wrapped__");if(A||R){var T=A?e.value():e,M=R?t.value():t;return u||(u=new Fn),i(T,M,n,r,u)}}if(!E)return!1;return u||(u=new Fn),function(e,t,n,r,i,o){var s=1&n,a=Gi(e),l=a.length,c=Gi(t).length;if(l!=c&&!s)return!1;var u=l;for(;u--;){var h=a[u];if(!(s?h in t:xe.call(t,h)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);var g=s;for(;++u<l;){h=a[u];var m=e[h],v=t[h];if(r)var y=s?r(v,m,h,t,e,o):r(m,v,h,e,t,o);if(!(void 0===y?m===v||i(m,v,n,r,o):y)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,u)}(e,t,n,r,_r,i))}function Sr(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=pe(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var l=(a=n[i])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new Fn;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?_r(u,c,3,r,h):d))return!1}}return!0}function xr(e){return!(!Hs(e)||(t=e,ke&&ke in t))&&(zs(e)?Te:ie).test(Ro(e));var t}function Cr(e){return"function"==typeof e?e:null==e?Ka:"object"==typeof e?Is(e)?Mr(e[0],e[1]):Tr(e):nl(e)}function kr(e){if(!fo(e))return sn(e);var t=[];for(var n in pe(e))xe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Er(e){if(!Hs(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=fo(e),n=[];for(var r in e)("constructor"!=r||!t&&xe.call(e,r))&&n.push(r);return n}function Ar(e,t){return e<t}function Rr(e,t){var n=-1,r=Ds(e)?K(e.length):[];return tr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Tr(e){var t=Zi(e);return 1==t.length&&t[0][2]?go(t[0][0],t[0][1]):function(n){return n===e||Sr(n,e,t)}}function Mr(e,t){return co(e)&&po(t)?go(Ao(e),t):function(n){var r=ma(n,e);return void 0===r&&r===t?va(n,e):_r(t,r,3)}}function Or(e,t,n,r,i){e!==t&&ar(t,(function(o,s){if(i||(i=new Fn),Hs(o))!function(e,t,n,r,i,o,s){var a=bo(e,n),l=bo(t,n),c=s.get(l);if(c)return void jn(e,n,c);var u=o?o(a,l,n+"",e,t,s):void 0,h=void 0===u;if(h){var d=Is(l),f=!d&&Fs(l),p=!d&&!f&&Zs(l);u=l,d||f||p?Is(a)?u=a:Ns(a)?u=yi(a):f?(h=!1,u=di(l,!0)):p?(h=!1,u=pi(l,!0)):u=[]:qs(l)||Ls(l)?(u=a,Ls(a)?u=aa(a):Hs(a)&&!zs(a)||(u=oo(l))):h=!1}h&&(s.set(l,u),i(u,l,r,o,s),s.delete(l));jn(e,n,u)}(e,t,s,n,Or,r,i);else{var a=r?r(bo(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),jn(e,s,a)}}),Sa)}function $r(e,t){var n=e.length;if(n)return ao(t+=t<0?n:0,n)?e[t]:void 0}function Lr(e,t,n){t=t.length?ht(t,(function(e){return Is(e)?function(t){return dr(t,1===e.length?e[0]:e)}:e})):[Ka];var r=-1;return t=ht(t,Tt(Qi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Rr(e,(function(e,n,i){return{criteria:ht(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var l=gi(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Ir(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=dr(e,s);n(a,s)&&Wr(o,li(s,e),a)}return o}function Pr(e,t,n,r){var i=r?wt:bt,o=-1,s=t.length,a=e;for(e===t&&(t=yi(t)),n&&(a=ht(e,Tt(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Xe.call(a,l,1),Xe.call(e,l,1);return e}function Dr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;ao(i)?Xe.call(e,i,1):ei(e,i)}}return e}function Nr(e,t){return e+en(hn()*(t-e+1))}function Fr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Br(e,t){return So(mo(e,t,Ka),e+"")}function Ur(e){return Un(Ma(e))}function zr(e,t){var n=Ma(e);return ko(n,Yn(t,0,n.length))}function Wr(e,t,n,r){if(!Hs(e))return e;for(var i=-1,o=(t=li(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var l=Ao(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var u=a[l];void 0===(c=r?r(u,l,a):void 0)&&(c=Hs(u)?u:ao(t[i+1])?[]:{})}Hn(a,l,c),a=a[l]}return e}var jr=bn?function(e,t){return bn.set(e,t),e}:Ka,Hr=Xt?function(e,t){return Xt(e,"toString",{configurable:!0,enumerable:!1,value:Ha(t),writable:!0})}:Ka;function Vr(e){return ko(Ma(e))}function Gr(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=K(i);++r<i;)o[r]=e[r+t];return o}function Kr(e,t){var n;return tr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function qr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Js(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Xr(e,t,Ka,n)}function Xr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,l=Js(t),c=void 0===t;i<o;){var u=en((i+o)/2),h=n(e[u]),d=void 0!==h,f=null===h,p=h==h,g=Js(h);if(s)var m=r||p;else m=c?p&&(r||d):a?p&&d&&(r||!f):l?p&&d&&!f&&(r||!g):!f&&!g&&(r?h<=t:h<t);m?i=u+1:o=u}return ln(o,4294967294)}function Yr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Ms(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function Qr(e){return"number"==typeof e?e:Js(e)?NaN:+e}function Jr(e){if("string"==typeof e)return e;if(Is(e))return ht(e,Jr)+"";if(Js(e))return Rn?Rn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zr(e,t,n){var r=-1,i=ct,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=ut;else if(o>=200){var c=t?null:Fi(e);if(c)return Wt(c);s=!1,i=Ot,l=new Nn}else l=t?[]:a;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function ei(e,t){return null==(e=vo(e,t=li(t,e)))||delete e[Ao(Uo(t))]}function ti(e,t,n,r){return Wr(e,t,n(dr(e,t)),r)}function ni(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Gr(e,r?0:o,r?o+1:i):Gr(e,r?o+1:0,r?i:o)}function ri(e,t){var n=e;return n instanceof Ln&&(n=n.value()),ft(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),n)}function ii(e,t,n){var r=e.length;if(r<2)return r?Zr(e[0]):[];for(var i=-1,o=K(r);++i<r;)for(var s=e[i],a=-1;++a<r;)a!=i&&(o[i]=er(o[i]||s,e[a],t,n));return Zr(sr(o,1),t,n)}function oi(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:void 0;n(s,e[r],a)}return s}function si(e){return Ns(e)?e:[]}function ai(e){return"function"==typeof e?e:Ka}function li(e,t){return Is(e)?e:co(e,t)?[e]:Eo(la(e))}var ci=Br;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Gr(e,t,n)}var hi=Yt||function(e){return Ve.clearTimeout(e)};function di(e,t){if(t)return e.slice();var n=e.length,r=je?je(n):new e.constructor(n);return e.copy(r),r}function fi(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function pi(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function gi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Js(e),s=void 0!==t,a=null===t,l=t==t,c=Js(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}function mi(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,l=t.length,c=an(o-s,0),u=K(l+c),h=!r;++a<l;)u[a]=t[a];for(;++i<s;)(h||i<o)&&(u[n[i]]=e[i]);for(;c--;)u[a++]=e[i++];return u}function vi(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,l=-1,c=t.length,u=an(o-a,0),h=K(u+c),d=!r;++i<u;)h[i]=e[i];for(var f=i;++l<c;)h[f+l]=t[l];for(;++s<a;)(d||i<o)&&(h[f+n[s]]=e[i++]);return h}function yi(e,t){var n=-1,r=e.length;for(t||(t=K(r));++n<r;)t[n]=e[n];return t}function bi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?qn(n,a,l):Hn(n,a,l)}return n}function wi(e,t){return function(n,r){var i=Is(n)?it:Gn,o=t?t():{};return i(n,e,Qi(r,2),o)}}function _i(e){return Br((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&lo(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=pe(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))}function Si(e,t){return function(n,r){if(null==n)return n;if(!Ds(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=pe(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function xi(e){return function(t,n,r){for(var i=-1,o=pe(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Ci(e){return function(t){var n=Ft(t=la(t))?Vt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function ki(e){return function(t){return ft(za(La(t).replace(Me,"")),e,"")}}function Ei(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Mn(e.prototype),r=e.apply(n,t);return Hs(r)?r:n}}function Ai(e){return function(t,n,r){var i=pe(t);if(!Ds(t)){var o=Qi(n,3);t=_a(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}function Ri(e){return Vi((function(t){var r=t.length,i=r,o=$n.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new ve(n);if(o&&!a&&"wrapper"==Xi(s))var a=new $n([],!0)}for(i=a?i:r;++i<r;){var l=Xi(s=t[i]),c="wrapper"==l?qi(s):void 0;a=c&&uo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[Xi(c[0])].apply(a,c[3]):1==s.length&&uo(s)?a[l]():a.thru(s)}return function(){var e=arguments,n=e[0];if(a&&1==e.length&&Is(n))return a.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Ti(e,t,n,r,i,o,s,a,l,c){var u=128&t,h=1&t,d=2&t,f=24&t,p=512&t,g=d?void 0:Ei(e);return function m(){for(var v=arguments.length,y=K(v),b=v;b--;)y[b]=arguments[b];if(f)var w=Yi(m),_=It(y,w);if(r&&(y=mi(y,r,i,f)),o&&(y=vi(y,o,s,f)),v-=_,f&&v<c){var S=zt(y,w);return Di(e,t,Ti,m.placeholder,n,y,S,a,l,c-v)}var x=h?n:this,C=d?x[e]:e;return v=y.length,a?y=yo(y,a):p&&v>1&&y.reverse(),u&&l<v&&(y.length=l),this&&this!==Ve&&this instanceof m&&(C=g||Ei(C)),C.apply(x,y)}}function Mi(e,t){return function(n,r){return function(e,t,n,r){return cr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Oi(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Qr(n),r=Qr(r)),i=e(n,r)}return i}}function $i(e){return Vi((function(t){return t=ht(t,Tt(Qi())),Br((function(n){var r=this;return e(t,(function(e){return rt(e,r,n)}))}))}))}function Li(e,t){var n=(t=void 0===t?" ":Jr(t)).length;if(n<2)return n?Fr(t,e):t;var r=Fr(t,Zt(e/Ht(t)));return Ft(t)?ui(Vt(r),0,e).join(""):r.slice(0,e)}function Ii(e){return function(t,n,r){return r&&"number"!=typeof r&&lo(t,n,r)&&(n=r=void 0),t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n,r){for(var i=-1,o=an(Zt((t-e)/(n||1)),0),s=K(o);o--;)s[r?o:++i]=e,e+=n;return s}(t,n,r=void 0===r?t<n?1:-1:ra(r),e)}}function Pi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=sa(t),n=sa(n)),e(t,n)}}function Di(e,t,n,r,i,o,s,a,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var h=[e,t,i,u?o:void 0,u?s:void 0,u?void 0:o,u?void 0:s,a,l,c],d=n.apply(void 0,h);return uo(e)&&wo(d,h),d.placeholder=r,xo(d,e,t)}function Ni(e){var t=fe[e];return function(e,n){if(e=sa(e),(n=null==n?0:ln(ia(n),292))&&rn(e)){var r=(la(e)+"e").split("e");return+((r=(la(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Fi=mn&&1/Wt(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Ja;function Bi(e){return function(t){var n=ro(t);return n==d?Bt(t):n==m?jt(t):function(e,t){return ht(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ui(e,t,i,o,s,a,l,c){var u=2&t;if(!u&&"function"!=typeof e)throw new ve(n);var h=o?o.length:0;if(h||(t&=-97,o=s=void 0),l=void 0===l?l:an(ia(l),0),c=void 0===c?c:ia(c),h-=s?s.length:0,64&t){var d=o,f=s;o=s=void 0}var p=u?void 0:qi(e),g=[e,t,i,o,s,d,f,a,l,c];if(p&&function(e,t){var n=e[1],i=t[1],o=n|i,s=o<131,a=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&i&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?mi(c,l,t[4]):l,e[4]=c?zt(e[3],r):t[4]}(l=t[5])&&(c=e[5],e[5]=c?vi(c,l,t[6]):l,e[6]=c?zt(e[5],r):t[6]);(l=t[7])&&(e[7]=l);128&i&&(e[8]=null==e[8]?t[8]:ln(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(g,p),e=g[0],t=g[1],i=g[2],o=g[3],s=g[4],!(c=g[9]=void 0===g[9]?u?0:e.length:an(g[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||16==t?function(e,t,n){var r=Ei(e);return function i(){for(var o=arguments.length,s=K(o),a=o,l=Yi(i);a--;)s[a]=arguments[a];var c=o<3&&s[0]!==l&&s[o-1]!==l?[]:zt(s,l);if((o-=c.length)<n)return Di(e,t,Ti,i.placeholder,void 0,s,c,void 0,void 0,n-o);var u=this&&this!==Ve&&this instanceof i?r:e;return rt(u,this,s)}}(e,t,c):32!=t&&33!=t||s.length?Ti.apply(void 0,g):function(e,t,n,r){var i=1&t,o=Ei(e);return function t(){for(var s=-1,a=arguments.length,l=-1,c=r.length,u=K(c+a),h=this&&this!==Ve&&this instanceof t?o:e;++l<c;)u[l]=r[l];for(;a--;)u[l++]=arguments[++s];return rt(h,i?n:this,u)}}(e,t,i,o);else var m=function(e,t,n){var r=1&t,i=Ei(e);return function t(){var o=this&&this!==Ve&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,i);return xo((p?jr:wo)(m,g),e,t)}function zi(e,t,n,r){return void 0===e||Ms(e,we[n])&&!xe.call(r,n)?t:e}function Wi(e,t,n,r,i,o){return Hs(e)&&Hs(t)&&(o.set(t,e),Or(e,t,void 0,Wi,o),o.delete(t)),e}function ji(e){return qs(e)?void 0:e}function Hi(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&n?new Nn:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],g=t[h];if(r)var m=s?r(g,p,h,t,e,o):r(p,g,h,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!gt(t,(function(e,t){if(!Ot(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){d=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Vi(e){return So(mo(e,void 0,Po),e+"")}function Gi(e){return fr(e,_a,to)}function Ki(e){return fr(e,Sa,no)}var qi=bn?function(e){return bn.get(e)}:Ja;function Xi(e){for(var t=e.name+"",n=wn[t],r=xe.call(wn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Yi(e){return(xe.call(Tn,"placeholder")?Tn:e).placeholder}function Qi(){var e=Tn.iteratee||qa;return e=e===qa?Cr:e,arguments.length?e(arguments[0],arguments[1]):e}function Ji(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Zi(e){for(var t=_a(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,po(i)]}return t}function eo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xr(n)?n:void 0}var to=tn?function(e){return null==e?[]:(e=pe(e),lt(tn(e),(function(t){return Ke.call(e,t)})))}:ol,no=tn?function(e){for(var t=[];e;)dt(t,to(e)),e=He(e);return t}:ol,ro=pr;function io(e,t,n){for(var r=-1,i=(t=li(t,e)).length,o=!1;++r<i;){var s=Ao(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&js(i)&&ao(s,i)&&(Is(e)||Ls(e))}function oo(e){return"function"!=typeof e.constructor||fo(e)?{}:Mn(He(e))}function so(e){return Is(e)||Ls(e)||!!(Ye&&e&&e[Ye])}function ao(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&se.test(e))&&e>-1&&e%1==0&&e<t}function lo(e,t,n){if(!Hs(n))return!1;var r=typeof t;return!!("number"==r?Ds(n)&&ao(t,n.length):"string"==r&&t in n)&&Ms(n[t],e)}function co(e,t){if(Is(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Js(e))||(W.test(e)||!z.test(e)||null!=t&&e in pe(t))}function uo(e){var t=Xi(e),n=Tn[t];if("function"!=typeof n||!(t in Ln.prototype))return!1;if(e===n)return!0;var r=qi(n);return!!r&&e===r[0]}(fn&&ro(new fn(new ArrayBuffer(1)))!=S||pn&&ro(new pn)!=d||gn&&"[object Promise]"!=ro(gn.resolve())||mn&&ro(new mn)!=m||vn&&ro(new vn)!=w)&&(ro=function(e){var t=pr(e),n=t==p?e.constructor:void 0,r=n?Ro(n):"";if(r)switch(r){case _n:return S;case Sn:return d;case xn:return"[object Promise]";case Cn:return m;case kn:return w}return t});var ho=_e?zs:sl;function fo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function po(e){return e==e&&!Hs(e)}function go(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in pe(n)))}}function mo(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=an(r.length-t,0),s=K(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=K(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),rt(e,this,a)}}function vo(e,t){return t.length<2?e:dr(e,Gr(t,0,-1))}function yo(e,t){for(var n=e.length,r=ln(t.length,n),i=yi(e);r--;){var o=t[r];e[r]=ao(o,n)?i[o]:void 0}return e}function bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var wo=Co(jr),_o=Jt||function(e,t){return Ve.setTimeout(e,t)},So=Co(Hr);function xo(e,t,n){var r=t+"";return So(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(q,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return ot(i,(function(n){var r="_."+n[0];t&n[1]&&!ct(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(Y):[]}(r),n)))}function Co(e){var t=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ko(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Nr(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Eo=function(e){var t=Cs(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(j,(function(e,n,r,i){t.push(r?i.replace(Z,"$1"):n||e)})),t}));function Ao(e){if("string"==typeof e||Js(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ro(e){if(null!=e){try{return Se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function To(e){if(e instanceof Ln)return e.clone();var t=new $n(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Mo=Br((function(e,t){return Ns(e)?er(e,sr(t,1,Ns,!0)):[]})),Oo=Br((function(e,t){var n=Uo(t);return Ns(n)&&(n=void 0),Ns(e)?er(e,sr(t,1,Ns,!0),Qi(n,2)):[]})),$o=Br((function(e,t){var n=Uo(t);return Ns(n)&&(n=void 0),Ns(e)?er(e,sr(t,1,Ns,!0),void 0,n):[]}));function Lo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),yt(e,Qi(t,3),i)}function Io(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ia(n),i=n<0?an(r+i,0):ln(i,r-1)),yt(e,Qi(t,3),i,!0)}function Po(e){return(null==e?0:e.length)?sr(e,1):[]}function Do(e){return e&&e.length?e[0]:void 0}var No=Br((function(e){var t=ht(e,si);return t.length&&t[0]===e[0]?yr(t):[]})),Fo=Br((function(e){var t=Uo(e),n=ht(e,si);return t===Uo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Qi(t,2)):[]})),Bo=Br((function(e){var t=Uo(e),n=ht(e,si);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Uo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var zo=Br(Wo);function Wo(e,t){return e&&e.length&&t&&t.length?Pr(e,t):e}var jo=Vi((function(e,t){var n=null==e?0:e.length,r=Xn(e,t);return Dr(e,ht(t,(function(e){return ao(e,n)?+e:e})).sort(gi)),r}));function Ho(e){return null==e?e:dn.call(e)}var Vo=Br((function(e){return Zr(sr(e,1,Ns,!0))})),Go=Br((function(e){var t=Uo(e);return Ns(t)&&(t=void 0),Zr(sr(e,1,Ns,!0),Qi(t,2))})),Ko=Br((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,Zr(sr(e,1,Ns,!0),void 0,t)}));function qo(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(Ns(e))return t=an(e.length,t),!0})),At(t,(function(t){return ht(e,xt(t))}))}function Xo(e,t){if(!e||!e.length)return[];var n=qo(e);return null==t?n:ht(n,(function(e){return rt(t,void 0,e)}))}var Yo=Br((function(e,t){return Ns(e)?er(e,t):[]})),Qo=Br((function(e){return ii(lt(e,Ns))})),Jo=Br((function(e){var t=Uo(e);return Ns(t)&&(t=void 0),ii(lt(e,Ns),Qi(t,2))})),Zo=Br((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,ii(lt(e,Ns),void 0,t)})),es=Br(qo);var ts=Br((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Xo(e,n)}));function ns(e){var t=Tn(e);return t.__chain__=!0,t}function rs(e,t){return t(e)}var is=Vi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Xn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Ln&&ao(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:rs,args:[i],thisArg:void 0}),new $n(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var os=wi((function(e,t,n){xe.call(e,n)?++e[n]:qn(e,n,1)}));var ss=Ai(Lo),as=Ai(Io);function ls(e,t){return(Is(e)?ot:tr)(e,Qi(t,3))}function cs(e,t){return(Is(e)?st:nr)(e,Qi(t,3))}var us=wi((function(e,t,n){xe.call(e,n)?e[n].push(t):qn(e,n,[t])}));var hs=Br((function(e,t,n){var r=-1,i="function"==typeof t,o=Ds(e)?K(e.length):[];return tr(e,(function(e){o[++r]=i?rt(t,e,n):br(e,t,n)})),o})),ds=wi((function(e,t,n){qn(e,n,t)}));function fs(e,t){return(Is(e)?ht:Rr)(e,Qi(t,3))}var ps=wi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var gs=Br((function(e,t){if(null==e)return[];var n=t.length;return n>1&&lo(e,t[0],t[1])?t=[]:n>2&&lo(t[0],t[1],t[2])&&(t=[t[0]]),Lr(e,sr(t,1),[])})),ms=Qt||function(){return Ve.Date.now()};function vs(e,t,n){return t=n?void 0:t,Ui(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ys(e,t){var r;if("function"!=typeof t)throw new ve(n);return e=ia(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var bs=Br((function(e,t,n){var r=1;if(n.length){var i=zt(n,Yi(bs));r|=32}return Ui(e,r,t,n,i)})),ws=Br((function(e,t,n){var r=3;if(n.length){var i=zt(n,Yi(ws));r|=32}return Ui(t,r,e,n,i)}));function _s(e,t,r){var i,o,s,a,l,c,u=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new ve(n);function p(t){var n=i,r=o;return i=o=void 0,u=t,a=e.apply(r,n)}function g(e){return u=e,l=_o(v,t),h?p(e):a}function m(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=s}function v(){var e=ms();if(m(e))return y(e);l=_o(v,function(e){var n=t-(e-c);return d?ln(n,s-(e-u)):n}(e))}function y(e){return l=void 0,f&&i?p(e):(i=o=void 0,a)}function b(){var e=ms(),n=m(e);if(i=arguments,o=this,c=e,n){if(void 0===l)return g(c);if(d)return hi(l),l=_o(v,t),p(c)}return void 0===l&&(l=_o(v,t)),a}return t=sa(t)||0,Hs(r)&&(h=!!r.leading,s=(d="maxWait"in r)?an(sa(r.maxWait)||0,t):s,f="trailing"in r?!!r.trailing:f),b.cancel=function(){void 0!==l&&hi(l),u=0,i=c=o=l=void 0},b.flush=function(){return void 0===l?a:y(ms())},b}var Ss=Br((function(e,t){return Zn(e,1,t)})),xs=Br((function(e,t,n){return Zn(e,sa(t)||0,n)}));function Cs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Cs.Cache||Dn),r}function ks(e){if("function"!=typeof e)throw new ve(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Cs.Cache=Dn;var Es=ci((function(e,t){var n=(t=1==t.length&&Is(t[0])?ht(t[0],Tt(Qi())):ht(sr(t,1),Tt(Qi()))).length;return Br((function(r){for(var i=-1,o=ln(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return rt(e,this,r)}))})),As=Br((function(e,t){return Ui(e,32,void 0,t,zt(t,Yi(As)))})),Rs=Br((function(e,t){return Ui(e,64,void 0,t,zt(t,Yi(Rs)))})),Ts=Vi((function(e,t){return Ui(e,256,void 0,void 0,void 0,t)}));function Ms(e,t){return e===t||e!=e&&t!=t}var Os=Pi(gr),$s=Pi((function(e,t){return e>=t})),Ls=wr(function(){return arguments}())?wr:function(e){return Vs(e)&&xe.call(e,"callee")&&!Ke.call(e,"callee")},Is=K.isArray,Ps=Qe?Tt(Qe):function(e){return Vs(e)&&pr(e)==_};function Ds(e){return null!=e&&js(e.length)&&!zs(e)}function Ns(e){return Vs(e)&&Ds(e)}var Fs=nn||sl,Bs=Je?Tt(Je):function(e){return Vs(e)&&pr(e)==l};function Us(e){if(!Vs(e))return!1;var t=pr(e);return t==c||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!qs(e)}function zs(e){if(!Hs(e))return!1;var t=pr(e);return t==u||t==h||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ws(e){return"number"==typeof e&&e==ia(e)}function js(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Hs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Vs(e){return null!=e&&"object"==typeof e}var Gs=Ze?Tt(Ze):function(e){return Vs(e)&&ro(e)==d};function Ks(e){return"number"==typeof e||Vs(e)&&pr(e)==f}function qs(e){if(!Vs(e)||pr(e)!=p)return!1;var t=He(e);if(null===t)return!0;var n=xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Se.call(n)==Ae}var Xs=et?Tt(et):function(e){return Vs(e)&&pr(e)==g};var Ys=tt?Tt(tt):function(e){return Vs(e)&&ro(e)==m};function Qs(e){return"string"==typeof e||!Is(e)&&Vs(e)&&pr(e)==v}function Js(e){return"symbol"==typeof e||Vs(e)&&pr(e)==y}var Zs=nt?Tt(nt):function(e){return Vs(e)&&js(e.length)&&!!Fe[pr(e)]};var ea=Pi(Ar),ta=Pi((function(e,t){return e<=t}));function na(e){if(!e)return[];if(Ds(e))return Qs(e)?Vt(e):yi(e);if(mt&&e[mt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[mt]());var t=ro(e);return(t==d?Bt:t==m?Wt:Ma)(e)}function ra(e){return e?(e=sa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ia(e){var t=ra(e),n=t%1;return t==t?n?t-n:t:0}function oa(e){return e?Yn(ia(e),0,4294967295):0}function sa(e){if("number"==typeof e)return e;if(Js(e))return NaN;if(Hs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Hs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Rt(e);var n=re.test(e);return n||oe.test(e)?We(e.slice(2),n?2:8):ne.test(e)?NaN:+e}function aa(e){return bi(e,Sa(e))}function la(e){return null==e?"":Jr(e)}var ca=_i((function(e,t){if(fo(t)||Ds(t))bi(t,_a(t),e);else for(var n in t)xe.call(t,n)&&Hn(e,n,t[n])})),ua=_i((function(e,t){bi(t,Sa(t),e)})),ha=_i((function(e,t,n,r){bi(t,Sa(t),e,r)})),da=_i((function(e,t,n,r){bi(t,_a(t),e,r)})),fa=Vi(Xn);var pa=Br((function(e,t){e=pe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&lo(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=Sa(o),a=-1,l=s.length;++a<l;){var c=s[a],u=e[c];(void 0===u||Ms(u,we[c])&&!xe.call(e,c))&&(e[c]=o[c])}return e})),ga=Br((function(e){return e.push(void 0,Wi),rt(Ca,void 0,e)}));function ma(e,t,n){var r=null==e?void 0:dr(e,t);return void 0===r?n:r}function va(e,t){return null!=e&&io(e,t,vr)}var ya=Mi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),e[t]=n}),Ha(Ka)),ba=Mi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),xe.call(e,t)?e[t].push(n):e[t]=[n]}),Qi),wa=Br(br);function _a(e){return Ds(e)?Bn(e):kr(e)}function Sa(e){return Ds(e)?Bn(e,!0):Er(e)}var xa=_i((function(e,t,n){Or(e,t,n)})),Ca=_i((function(e,t,n,r){Or(e,t,n,r)})),ka=Vi((function(e,t){var n={};if(null==e)return n;var r=!1;t=ht(t,(function(t){return t=li(t,e),r||(r=t.length>1),t})),bi(e,Ki(e),n),r&&(n=Qn(n,7,ji));for(var i=t.length;i--;)ei(n,t[i]);return n}));var Ea=Vi((function(e,t){return null==e?{}:function(e,t){return Ir(e,t,(function(t,n){return va(e,n)}))}(e,t)}));function Aa(e,t){if(null==e)return{};var n=ht(Ki(e),(function(e){return[e]}));return t=Qi(t),Ir(e,n,(function(e,n){return t(e,n[0])}))}var Ra=Bi(_a),Ta=Bi(Sa);function Ma(e){return null==e?[]:Mt(e,_a(e))}var Oa=ki((function(e,t,n){return t=t.toLowerCase(),e+(n?$a(t):t)}));function $a(e){return Ua(la(e).toLowerCase())}function La(e){return(e=la(e))&&e.replace(ae,Pt).replace(Oe,"")}var Ia=ki((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Pa=ki((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Da=Ci("toLowerCase");var Na=ki((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Fa=ki((function(e,t,n){return e+(n?" ":"")+Ua(t)}));var Ba=ki((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ua=Ci("toUpperCase");function za(e,t,n){return e=la(e),void 0===(t=n?void 0:t)?function(e){return Pe.test(e)}(e)?function(e){return e.match(Le)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var Wa=Br((function(e,t){try{return rt(e,void 0,t)}catch(e){return Us(e)?e:new he(e)}})),ja=Vi((function(e,t){return ot(t,(function(t){t=Ao(t),qn(e,t,bs(e[t],e))})),e}));function Ha(e){return function(){return e}}var Va=Ri(),Ga=Ri(!0);function Ka(e){return e}function qa(e){return Cr("function"==typeof e?e:Qn(e,1))}var Xa=Br((function(e,t){return function(n){return br(n,e,t)}})),Ya=Br((function(e,t){return function(n){return br(e,n,t)}}));function Qa(e,t,n){var r=_a(t),i=hr(t,r);null!=n||Hs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=hr(t,_a(t)));var o=!(Hs(n)&&"chain"in n&&!n.chain),s=zs(e);return ot(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,dt([this.value()],arguments))})})),e}function Ja(){}var Za=$i(ht),el=$i(at),tl=$i(gt);function nl(e){return co(e)?xt(Ao(e)):function(e){return function(t){return dr(t,e)}}(e)}var rl=Ii(),il=Ii(!0);function ol(){return[]}function sl(){return!1}var al=Oi((function(e,t){return e+t}),0),ll=Ni("ceil"),cl=Oi((function(e,t){return e/t}),1),ul=Ni("floor");var hl,dl=Oi((function(e,t){return e*t}),1),fl=Ni("round"),pl=Oi((function(e,t){return e-t}),0);return Tn.after=function(e,t){if("function"!=typeof t)throw new ve(n);return e=ia(e),function(){if(--e<1)return t.apply(this,arguments)}},Tn.ary=vs,Tn.assign=ca,Tn.assignIn=ua,Tn.assignInWith=ha,Tn.assignWith=da,Tn.at=fa,Tn.before=ys,Tn.bind=bs,Tn.bindAll=ja,Tn.bindKey=ws,Tn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Is(e)?e:[e]},Tn.chain=ns,Tn.chunk=function(e,t,n){t=(n?lo(e,t,n):void 0===t)?1:an(ia(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,s=K(Zt(r/t));i<r;)s[o++]=Gr(e,i,i+=t);return s},Tn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Tn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=K(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return dt(Is(n)?yi(n):[n],sr(t,1))},Tn.cond=function(e){var t=null==e?0:e.length,r=Qi();return e=t?ht(e,(function(e){if("function"!=typeof e[1])throw new ve(n);return[r(e[0]),e[1]]})):[],Br((function(n){for(var r=-1;++r<t;){var i=e[r];if(rt(i[0],this,n))return rt(i[1],this,n)}}))},Tn.conforms=function(e){return function(e){var t=_a(e);return function(n){return Jn(n,e,t)}}(Qn(e,1))},Tn.constant=Ha,Tn.countBy=os,Tn.create=function(e,t){var n=Mn(e);return null==t?n:Kn(n,t)},Tn.curry=function e(t,n,r){var i=Ui(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Tn.curryRight=function e(t,n,r){var i=Ui(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Tn.debounce=_s,Tn.defaults=pa,Tn.defaultsDeep=ga,Tn.defer=Ss,Tn.delay=xs,Tn.difference=Mo,Tn.differenceBy=Oo,Tn.differenceWith=$o,Tn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Gr(e,(t=n||void 0===t?1:ia(t))<0?0:t,r):[]},Tn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Gr(e,0,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t):[]},Tn.dropRightWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3),!0,!0):[]},Tn.dropWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3),!0):[]},Tn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&lo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ia(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ia(r))<0&&(r+=i),r=n>r?0:oa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Tn.filter=function(e,t){return(Is(e)?lt:or)(e,Qi(t,3))},Tn.flatMap=function(e,t){return sr(fs(e,t),1)},Tn.flatMapDeep=function(e,t){return sr(fs(e,t),1/0)},Tn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ia(n),sr(fs(e,t),n)},Tn.flatten=Po,Tn.flattenDeep=function(e){return(null==e?0:e.length)?sr(e,1/0):[]},Tn.flattenDepth=function(e,t){return(null==e?0:e.length)?sr(e,t=void 0===t?1:ia(t)):[]},Tn.flip=function(e){return Ui(e,512)},Tn.flow=Va,Tn.flowRight=Ga,Tn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Tn.functions=function(e){return null==e?[]:hr(e,_a(e))},Tn.functionsIn=function(e){return null==e?[]:hr(e,Sa(e))},Tn.groupBy=us,Tn.initial=function(e){return(null==e?0:e.length)?Gr(e,0,-1):[]},Tn.intersection=No,Tn.intersectionBy=Fo,Tn.intersectionWith=Bo,Tn.invert=ya,Tn.invertBy=ba,Tn.invokeMap=hs,Tn.iteratee=qa,Tn.keyBy=ds,Tn.keys=_a,Tn.keysIn=Sa,Tn.map=fs,Tn.mapKeys=function(e,t){var n={};return t=Qi(t,3),cr(e,(function(e,r,i){qn(n,t(e,r,i),e)})),n},Tn.mapValues=function(e,t){var n={};return t=Qi(t,3),cr(e,(function(e,r,i){qn(n,r,t(e,r,i))})),n},Tn.matches=function(e){return Tr(Qn(e,1))},Tn.matchesProperty=function(e,t){return Mr(e,Qn(t,1))},Tn.memoize=Cs,Tn.merge=xa,Tn.mergeWith=Ca,Tn.method=Xa,Tn.methodOf=Ya,Tn.mixin=Qa,Tn.negate=ks,Tn.nthArg=function(e){return e=ia(e),Br((function(t){return $r(t,e)}))},Tn.omit=ka,Tn.omitBy=function(e,t){return Aa(e,ks(Qi(t)))},Tn.once=function(e){return ys(2,e)},Tn.orderBy=function(e,t,n,r){return null==e?[]:(Is(t)||(t=null==t?[]:[t]),Is(n=r?void 0:n)||(n=null==n?[]:[n]),Lr(e,t,n))},Tn.over=Za,Tn.overArgs=Es,Tn.overEvery=el,Tn.overSome=tl,Tn.partial=As,Tn.partialRight=Rs,Tn.partition=ps,Tn.pick=Ea,Tn.pickBy=Aa,Tn.property=nl,Tn.propertyOf=function(e){return function(t){return null==e?void 0:dr(e,t)}},Tn.pull=zo,Tn.pullAll=Wo,Tn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Pr(e,t,Qi(n,2)):e},Tn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Pr(e,t,void 0,n):e},Tn.pullAt=jo,Tn.range=rl,Tn.rangeRight=il,Tn.rearg=Ts,Tn.reject=function(e,t){return(Is(e)?lt:or)(e,ks(Qi(t,3)))},Tn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Qi(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Dr(e,i),n},Tn.rest=function(e,t){if("function"!=typeof e)throw new ve(n);return Br(e,t=void 0===t?t:ia(t))},Tn.reverse=Ho,Tn.sampleSize=function(e,t,n){return t=(n?lo(e,t,n):void 0===t)?1:ia(t),(Is(e)?zn:zr)(e,t)},Tn.set=function(e,t,n){return null==e?e:Wr(e,t,n)},Tn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Wr(e,t,n,r)},Tn.shuffle=function(e){return(Is(e)?Wn:Vr)(e)},Tn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&lo(e,t,n)?(t=0,n=r):(t=null==t?0:ia(t),n=void 0===n?r:ia(n)),Gr(e,t,n)):[]},Tn.sortBy=gs,Tn.sortedUniq=function(e){return e&&e.length?Yr(e):[]},Tn.sortedUniqBy=function(e,t){return e&&e.length?Yr(e,Qi(t,2)):[]},Tn.split=function(e,t,n){return n&&"number"!=typeof n&&lo(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=la(e))&&("string"==typeof t||null!=t&&!Xs(t))&&!(t=Jr(t))&&Ft(e)?ui(Vt(e),0,n):e.split(t,n):[]},Tn.spread=function(e,t){if("function"!=typeof e)throw new ve(n);return t=null==t?0:an(ia(t),0),Br((function(n){var r=n[t],i=ui(n,0,t);return r&&dt(i,r),rt(e,this,i)}))},Tn.tail=function(e){var t=null==e?0:e.length;return t?Gr(e,1,t):[]},Tn.take=function(e,t,n){return e&&e.length?Gr(e,0,(t=n||void 0===t?1:ia(t))<0?0:t):[]},Tn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Gr(e,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t,r):[]},Tn.takeRightWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3),!1,!0):[]},Tn.takeWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3)):[]},Tn.tap=function(e,t){return t(e),e},Tn.throttle=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new ve(n);return Hs(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),_s(e,t,{leading:i,maxWait:t,trailing:o})},Tn.thru=rs,Tn.toArray=na,Tn.toPairs=Ra,Tn.toPairsIn=Ta,Tn.toPath=function(e){return Is(e)?ht(e,Ao):Js(e)?[e]:yi(Eo(la(e)))},Tn.toPlainObject=aa,Tn.transform=function(e,t,n){var r=Is(e),i=r||Fs(e)||Zs(e);if(t=Qi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Hs(e)&&zs(o)?Mn(He(e)):{}}return(i?ot:cr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Tn.unary=function(e){return vs(e,1)},Tn.union=Vo,Tn.unionBy=Go,Tn.unionWith=Ko,Tn.uniq=function(e){return e&&e.length?Zr(e):[]},Tn.uniqBy=function(e,t){return e&&e.length?Zr(e,Qi(t,2)):[]},Tn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zr(e,void 0,t):[]},Tn.unset=function(e,t){return null==e||ei(e,t)},Tn.unzip=qo,Tn.unzipWith=Xo,Tn.update=function(e,t,n){return null==e?e:ti(e,t,ai(n))},Tn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ti(e,t,ai(n),r)},Tn.values=Ma,Tn.valuesIn=function(e){return null==e?[]:Mt(e,Sa(e))},Tn.without=Yo,Tn.words=za,Tn.wrap=function(e,t){return As(ai(t),e)},Tn.xor=Qo,Tn.xorBy=Jo,Tn.xorWith=Zo,Tn.zip=es,Tn.zipObject=function(e,t){return oi(e||[],t||[],Hn)},Tn.zipObjectDeep=function(e,t){return oi(e||[],t||[],Wr)},Tn.zipWith=ts,Tn.entries=Ra,Tn.entriesIn=Ta,Tn.extend=ua,Tn.extendWith=ha,Qa(Tn,Tn),Tn.add=al,Tn.attempt=Wa,Tn.camelCase=Oa,Tn.capitalize=$a,Tn.ceil=ll,Tn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==t&&(t=(t=sa(t))==t?t:0),Yn(sa(e),t,n)},Tn.clone=function(e){return Qn(e,4)},Tn.cloneDeep=function(e){return Qn(e,5)},Tn.cloneDeepWith=function(e,t){return Qn(e,5,t="function"==typeof t?t:void 0)},Tn.cloneWith=function(e,t){return Qn(e,4,t="function"==typeof t?t:void 0)},Tn.conformsTo=function(e,t){return null==t||Jn(e,t,_a(t))},Tn.deburr=La,Tn.defaultTo=function(e,t){return null==e||e!=e?t:e},Tn.divide=cl,Tn.endsWith=function(e,t,n){e=la(e),t=Jr(t);var r=e.length,i=n=void 0===n?r:Yn(ia(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Tn.eq=Ms,Tn.escape=function(e){return(e=la(e))&&N.test(e)?e.replace(P,Dt):e},Tn.escapeRegExp=function(e){return(e=la(e))&&V.test(e)?e.replace(H,"\\$&"):e},Tn.every=function(e,t,n){var r=Is(e)?at:rr;return n&&lo(e,t,n)&&(t=void 0),r(e,Qi(t,3))},Tn.find=ss,Tn.findIndex=Lo,Tn.findKey=function(e,t){return vt(e,Qi(t,3),cr)},Tn.findLast=as,Tn.findLastIndex=Io,Tn.findLastKey=function(e,t){return vt(e,Qi(t,3),ur)},Tn.floor=ul,Tn.forEach=ls,Tn.forEachRight=cs,Tn.forIn=function(e,t){return null==e?e:ar(e,Qi(t,3),Sa)},Tn.forInRight=function(e,t){return null==e?e:lr(e,Qi(t,3),Sa)},Tn.forOwn=function(e,t){return e&&cr(e,Qi(t,3))},Tn.forOwnRight=function(e,t){return e&&ur(e,Qi(t,3))},Tn.get=ma,Tn.gt=Os,Tn.gte=$s,Tn.has=function(e,t){return null!=e&&io(e,t,mr)},Tn.hasIn=va,Tn.head=Do,Tn.identity=Ka,Tn.includes=function(e,t,n,r){e=Ds(e)?e:Ma(e),n=n&&!r?ia(n):0;var i=e.length;return n<0&&(n=an(i+n,0)),Qs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&bt(e,t,n)>-1},Tn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),bt(e,t,i)},Tn.inRange=function(e,t,n){return t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n){return e>=ln(t,n)&&e<an(t,n)}(e=sa(e),t,n)},Tn.invoke=wa,Tn.isArguments=Ls,Tn.isArray=Is,Tn.isArrayBuffer=Ps,Tn.isArrayLike=Ds,Tn.isArrayLikeObject=Ns,Tn.isBoolean=function(e){return!0===e||!1===e||Vs(e)&&pr(e)==a},Tn.isBuffer=Fs,Tn.isDate=Bs,Tn.isElement=function(e){return Vs(e)&&1===e.nodeType&&!qs(e)},Tn.isEmpty=function(e){if(null==e)return!0;if(Ds(e)&&(Is(e)||"string"==typeof e||"function"==typeof e.splice||Fs(e)||Zs(e)||Ls(e)))return!e.length;var t=ro(e);if(t==d||t==m)return!e.size;if(fo(e))return!kr(e).length;for(var n in e)if(xe.call(e,n))return!1;return!0},Tn.isEqual=function(e,t){return _r(e,t)},Tn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?_r(e,t,void 0,n):!!r},Tn.isError=Us,Tn.isFinite=function(e){return"number"==typeof e&&rn(e)},Tn.isFunction=zs,Tn.isInteger=Ws,Tn.isLength=js,Tn.isMap=Gs,Tn.isMatch=function(e,t){return e===t||Sr(e,t,Zi(t))},Tn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Sr(e,t,Zi(t),n)},Tn.isNaN=function(e){return Ks(e)&&e!=+e},Tn.isNative=function(e){if(ho(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},Tn.isNil=function(e){return null==e},Tn.isNull=function(e){return null===e},Tn.isNumber=Ks,Tn.isObject=Hs,Tn.isObjectLike=Vs,Tn.isPlainObject=qs,Tn.isRegExp=Xs,Tn.isSafeInteger=function(e){return Ws(e)&&e>=-9007199254740991&&e<=9007199254740991},Tn.isSet=Ys,Tn.isString=Qs,Tn.isSymbol=Js,Tn.isTypedArray=Zs,Tn.isUndefined=function(e){return void 0===e},Tn.isWeakMap=function(e){return Vs(e)&&ro(e)==w},Tn.isWeakSet=function(e){return Vs(e)&&"[object WeakSet]"==pr(e)},Tn.join=function(e,t){return null==e?"":on.call(e,t)},Tn.kebabCase=Ia,Tn.last=Uo,Tn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ia(n))<0?an(r+i,0):ln(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):yt(e,_t,i,!0)},Tn.lowerCase=Pa,Tn.lowerFirst=Da,Tn.lt=ea,Tn.lte=ta,Tn.max=function(e){return e&&e.length?ir(e,Ka,gr):void 0},Tn.maxBy=function(e,t){return e&&e.length?ir(e,Qi(t,2),gr):void 0},Tn.mean=function(e){return St(e,Ka)},Tn.meanBy=function(e,t){return St(e,Qi(t,2))},Tn.min=function(e){return e&&e.length?ir(e,Ka,Ar):void 0},Tn.minBy=function(e,t){return e&&e.length?ir(e,Qi(t,2),Ar):void 0},Tn.stubArray=ol,Tn.stubFalse=sl,Tn.stubObject=function(){return{}},Tn.stubString=function(){return""},Tn.stubTrue=function(){return!0},Tn.multiply=dl,Tn.nth=function(e,t){return e&&e.length?$r(e,ia(t)):void 0},Tn.noConflict=function(){return Ve._===this&&(Ve._=Re),this},Tn.noop=Ja,Tn.now=ms,Tn.pad=function(e,t,n){e=la(e);var r=(t=ia(t))?Ht(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Li(en(i),n)+e+Li(Zt(i),n)},Tn.padEnd=function(e,t,n){e=la(e);var r=(t=ia(t))?Ht(e):0;return t&&r<t?e+Li(t-r,n):e},Tn.padStart=function(e,t,n){e=la(e);var r=(t=ia(t))?Ht(e):0;return t&&r<t?Li(t-r,n)+e:e},Tn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(la(e).replace(G,""),t||0)},Tn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&lo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ra(e),void 0===t?(t=e,e=0):t=ra(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=hn();return ln(e+i*(t-e+ze("1e-"+((i+"").length-1))),t)}return Nr(e,t)},Tn.reduce=function(e,t,n){var r=Is(e)?ft:kt,i=arguments.length<3;return r(e,Qi(t,4),n,i,tr)},Tn.reduceRight=function(e,t,n){var r=Is(e)?pt:kt,i=arguments.length<3;return r(e,Qi(t,4),n,i,nr)},Tn.repeat=function(e,t,n){return t=(n?lo(e,t,n):void 0===t)?1:ia(t),Fr(la(e),t)},Tn.replace=function(){var e=arguments,t=la(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Tn.result=function(e,t,n){var r=-1,i=(t=li(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Ao(t[r])];void 0===o&&(r=i,o=n),e=zs(o)?o.call(e):o}return e},Tn.round=fl,Tn.runInContext=e,Tn.sample=function(e){return(Is(e)?Un:Ur)(e)},Tn.size=function(e){if(null==e)return 0;if(Ds(e))return Qs(e)?Ht(e):e.length;var t=ro(e);return t==d||t==m?e.size:kr(e).length},Tn.snakeCase=Na,Tn.some=function(e,t,n){var r=Is(e)?gt:Kr;return n&&lo(e,t,n)&&(t=void 0),r(e,Qi(t,3))},Tn.sortedIndex=function(e,t){return qr(e,t)},Tn.sortedIndexBy=function(e,t,n){return Xr(e,t,Qi(n,2))},Tn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=qr(e,t);if(r<n&&Ms(e[r],t))return r}return-1},Tn.sortedLastIndex=function(e,t){return qr(e,t,!0)},Tn.sortedLastIndexBy=function(e,t,n){return Xr(e,t,Qi(n,2),!0)},Tn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=qr(e,t,!0)-1;if(Ms(e[n],t))return n}return-1},Tn.startCase=Fa,Tn.startsWith=function(e,t,n){return e=la(e),n=null==n?0:Yn(ia(n),0,e.length),t=Jr(t),e.slice(n,n+t.length)==t},Tn.subtract=pl,Tn.sum=function(e){return e&&e.length?Et(e,Ka):0},Tn.sumBy=function(e,t){return e&&e.length?Et(e,Qi(t,2)):0},Tn.template=function(e,t,n){var r=Tn.templateSettings;n&&lo(e,t,n)&&(t=void 0),e=la(e),t=ha({},t,r,zi);var i,o,s=ha({},t.imports,r.imports,zi),a=_a(s),l=Mt(s,a),c=0,u=t.interpolate||le,h="__p += '",d=ge((t.escape||le).source+"|"+u.source+"|"+(u===U?ee:le).source+"|"+(t.evaluate||le).source+"|$","g"),f="//# sourceURL="+(xe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ne+"]")+"\n";e.replace(d,(function(t,n,r,s,a,l){return r||(r=s),h+=e.slice(c,l).replace(ce,Nt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),h+="';\n";var p=xe.call(t,"variable")&&t.variable;if(p){if(J.test(p))throw new he("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(O,""):h).replace($,"$1").replace(L,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Wa((function(){return de(a,f+"return "+h).apply(void 0,l)}));if(g.source=h,Us(g))throw g;return g},Tn.times=function(e,t){if((e=ia(e))<1||e>9007199254740991)return[];var n=4294967295,r=ln(e,4294967295);e-=4294967295;for(var i=At(r,t=Qi(t));++n<e;)t(n);return i},Tn.toFinite=ra,Tn.toInteger=ia,Tn.toLength=oa,Tn.toLower=function(e){return la(e).toLowerCase()},Tn.toNumber=sa,Tn.toSafeInteger=function(e){return e?Yn(ia(e),-9007199254740991,9007199254740991):0===e?e:0},Tn.toString=la,Tn.toUpper=function(e){return la(e).toUpperCase()},Tn.trim=function(e,t,n){if((e=la(e))&&(n||void 0===t))return Rt(e);if(!e||!(t=Jr(t)))return e;var r=Vt(e),i=Vt(t);return ui(r,$t(r,i),Lt(r,i)+1).join("")},Tn.trimEnd=function(e,t,n){if((e=la(e))&&(n||void 0===t))return e.slice(0,Gt(e)+1);if(!e||!(t=Jr(t)))return e;var r=Vt(e);return ui(r,0,Lt(r,Vt(t))+1).join("")},Tn.trimStart=function(e,t,n){if((e=la(e))&&(n||void 0===t))return e.replace(G,"");if(!e||!(t=Jr(t)))return e;var r=Vt(e);return ui(r,$t(r,Vt(t))).join("")},Tn.truncate=function(e,t){var n=30,r="...";if(Hs(t)){var i="separator"in t?t.separator:i;n="length"in t?ia(t.length):n,r="omission"in t?Jr(t.omission):r}var o=(e=la(e)).length;if(Ft(e)){var s=Vt(e);o=s.length}if(n>=o)return e;var a=n-Ht(r);if(a<1)return r;var l=s?ui(s,0,a).join(""):e.slice(0,a);if(void 0===i)return l+r;if(s&&(a+=l.length-a),Xs(i)){if(e.slice(a).search(i)){var c,u=l;for(i.global||(i=ge(i.source,la(te.exec(i))+"g")),i.lastIndex=0;c=i.exec(u);)var h=c.index;l=l.slice(0,void 0===h?a:h)}}else if(e.indexOf(Jr(i),a)!=a){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r},Tn.unescape=function(e){return(e=la(e))&&D.test(e)?e.replace(I,Kt):e},Tn.uniqueId=function(e){var t=++Ce;return la(e)+t},Tn.upperCase=Ba,Tn.upperFirst=Ua,Tn.each=ls,Tn.eachRight=cs,Tn.first=Do,Qa(Tn,(hl={},cr(Tn,(function(e,t){xe.call(Tn.prototype,t)||(hl[t]=e)})),hl),{chain:!1}),Tn.VERSION="4.17.21",ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Tn[e].placeholder=Tn})),ot(["drop","take"],(function(e,t){Ln.prototype[e]=function(n){n=void 0===n?1:an(ia(n),0);var r=this.__filtered__&&!t?new Ln(this):this.clone();return r.__filtered__?r.__takeCount__=ln(n,r.__takeCount__):r.__views__.push({size:ln(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Ln.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Ln.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Qi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Ln.prototype[e]=function(){return this[n](1).value()[0]}})),ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Ln.prototype[e]=function(){return this.__filtered__?new Ln(this):this[n](1)}})),Ln.prototype.compact=function(){return this.filter(Ka)},Ln.prototype.find=function(e){return this.filter(e).head()},Ln.prototype.findLast=function(e){return this.reverse().find(e)},Ln.prototype.invokeMap=Br((function(e,t){return"function"==typeof e?new Ln(this):this.map((function(n){return br(n,e,t)}))})),Ln.prototype.reject=function(e){return this.filter(ks(Qi(e)))},Ln.prototype.slice=function(e,t){e=ia(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Ln(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ia(t))<0?n.dropRight(-t):n.take(t-e)),n)},Ln.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ln.prototype.toArray=function(){return this.take(4294967295)},cr(Ln.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Tn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Tn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof Ln,l=s[0],c=a||Is(t),u=function(e){var t=i.apply(Tn,dt([e],s));return r&&h?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(a=c=!1);var h=this.__chain__,d=!!this.__actions__.length,f=o&&!h,p=a&&!d;if(!o&&c){t=p?t:new Ln(this);var g=e.apply(t,s);return g.__actions__.push({func:rs,args:[u],thisArg:void 0}),new $n(g,h)}return f&&p?e.apply(this,s):(g=this.thru(u),f?r?g.value()[0]:g.value():g)})})),ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Tn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Is(i)?i:[],e)}return this[n]((function(n){return t.apply(Is(n)?n:[],e)}))}})),cr(Ln.prototype,(function(e,t){var n=Tn[t];if(n){var r=n.name+"";xe.call(wn,r)||(wn[r]=[]),wn[r].push({name:t,func:n})}})),wn[Ti(void 0,2).name]=[{name:"wrapper",func:void 0}],Ln.prototype.clone=function(){var e=new Ln(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},Ln.prototype.reverse=function(){if(this.__filtered__){var e=new Ln(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ln.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Is(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=ln(t,e+s);break;case"takeRight":e=an(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,h=u.length,d=0,f=ln(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return ri(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var g=-1,m=e[c+=t];++g<h;){var v=u[g],y=v.iteratee,b=v.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}p[d++]=m}return p},Tn.prototype.at=is,Tn.prototype.chain=function(){return ns(this)},Tn.prototype.commit=function(){return new $n(this.value(),this.__chain__)},Tn.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Tn.prototype.plant=function(e){for(var t,n=this;n instanceof On;){var r=To(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Tn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ln){var t=e;return this.__actions__.length&&(t=new Ln(this)),(t=t.reverse()).__actions__.push({func:rs,args:[Ho],thisArg:void 0}),new $n(t,this.__chain__)}return this.thru(Ho)},Tn.prototype.toJSON=Tn.prototype.valueOf=Tn.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},Tn.prototype.first=Tn.prototype.head,mt&&(Tn.prototype[mt]=function(){return this}),Tn}();Ke?((Ke.exports=qt)._=qt,Ge._=qt):Ve._=qt}).call(b)})),Fh=Nh.debounce,Bh=Nh.throttle,Uh=(Nh.DebouncedFunc,Nh.reduce),zh=Nh.each,Wh=Nh.isUndefined,jh=(Nh.map,Nh.isArray,Nh.isFunction),Hh=Nh.extend,Vh=(Nh.filter,Nh.without),Gh=function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"orderedRefs",[]),r(h(n),"autoFocusOnItem","first"),r(h(n),"useDefaultKeyHandlers",!0),r(h(n),"closeOnEscape",!0),r(h(n),"closeOnMask",!0),r(h(n),"navigateWithTabKeys",!0),r(h(n),"navigateWithLeftRightKeys",!1),r(h(n),"navigateWithUpDownKeys",!1),r(h(n),"close",(function(){console.log("No method defined for closing this modal.")})),n.handleKeyPress=n.handleKeyPress.bind(h(n)),n}return n(o,[{key:"superModalDidMount",value:function(){this.useDefaultKeyHandlers&&document.addEventListener("keydown",this.handleKeyPress),"none"!==this.autoFocusOnItem&&this.focusOnNextOrderedRef("first"===this.autoFocusOnItem?"right":"left"),this.modalDidMount()}},{key:"superModalWillUnmount",value:function(){this.useDefaultKeyHandlers&&document.removeEventListener("keydown",this.handleKeyPress),this.modalWillUnmount()}},{key:"modalDidMount",value:function(){}},{key:"modalWillUnmount",value:function(){}},{key:"addToOrderedRefs",value:function(e,t){return this.orderedRefs=t?[e].concat(this.orderedRefs):this.orderedRefs.concat([e]),this.orderedRefs}},{key:"removeFromOrderedRefs",value:function(e){return this.orderedRefs=Nh.without(this.orderedRefs,e),this.orderedRefs}},{key:"focusOnNextOrderedRef",value:function(e,t){var n=this.orderedRefs.reduce((function(e,t){return e.concat(t.current&&t.current.focus?[t.current]:[])}),[]);if(n.length){for(var r="right"===e?n.length-1:0,i=!0,o=0;o<n.length;o++)if(document.activeElement===n[o]){r=o,i=!1;break}for(o=0;o<n.length;o++){var s=void 0;if("right"===e){if(s=(r+1)%n.length,t&&!i&&s<r)return document.activeElement===n[r]?n[r]:void 0}else if(s=(r+n.length-1)%n.length,t&&!i&&s>r)return document.activeElement===n[r]?n[r]:void 0;if(i=!1,n[r=s]&&(n[r].focus(),document.activeElement===n[r]))return n[r]}}}},{key:"handleKeyPress",value:function(e){this.defaultHandleKeyPress(e)}},{key:"handleKeyEscape",value:function(e){this.defaultHandleKeyEscape(e)}},{key:"handleKeyTab",value:function(e){this.defaultHandleKeyTab(e)}},{key:"handleKeyShiftTab",value:function(e){this.defaultHandleKeyTab(e)}},{key:"handleKeyEnter",value:function(e){this.defaultHandleKeyEnter(e)}},{key:"handleKeySpace",value:function(e){this.defaultHandleKeySpace(e)}},{key:"handleKeyArrow",value:function(e){this.defaultHandleKeyArrow(e)}},{key:"defaultHandleKeyPress",value:function(e){switch(e.key){case"Escape":this.handleKeyEscape(e);break;case"Tab":e.shiftKey?this.handleKeyShiftTab(e):this.handleKeyTab(e);break;case"Enter":e.shiftKey||this.handleKeyEnter(e);break;case"Enter":this.handleKeySpace(e);break;case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":this.handleKeyArrow(e)}}},{key:"defaultHandleKeyEscape",value:function(e){this.closeOnEscape&&this.close&&this.close()}},{key:"defaultHandleKeyTab",value:function(e){e.preventDefault(),this.orderedRefs.length&&this.navigateWithTabKeys&&this.focusOnNextOrderedRef(e.shiftKey?"left":"right")}},{key:"defaultHandleKeyEnter",value:function(e){}},{key:"defaultHandleKeySpace",value:function(e){}},{key:"defaultHandleKeyArrow",value:function(e){switch(e.key){case"ArrowUp":case"ArrowDown":this.orderedRefs.length&&this.navigateWithUpDownKeys&&(e.preventDefault(),this.focusOnNextOrderedRef("ArrowUp"===e.key?"left":"right",!0));break;case"ArrowLeft":case"ArrowRight":this.orderedRefs.length&&this.navigateWithLeftRightKeys&&(e.preventDefault(),this.focusOnNextOrderedRef("ArrowLeft"===e.key?"left":"right",!0))}}}]),o}(ue.Component),Kh=function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"confirmButtonRef",he()),r(h(n),"cancelButtonRef",he()),n.addToOrderedRefs(n.confirmButtonRef),n.addToOrderedRefs(n.cancelButtonRef),n.navigateWithLeftRightKeys=!!Wh(n.props.navigateWithLeftRightKeys)||n.props.navigateWithLeftRightKeys,n.navigateWithUpDownKeys=!Wh(n.props.navigateWithUpDownKeys)&&n.props.navigateWithUpDownKeys,n.navigateWithTabKeys=!!Wh(n.props.navigateWithTabKeys)||n.props.navigateWithTabKeys,n.closeOnEscape=!!Wh(n.props.closeOnEscape)||n.props.closeOnEscape,n.closeOnMask=!!Wh(n.props.closeOnMask)||n.props.closeOnMask,null===n.props.focus&&(n.autoFocusOnItem="none"),n.close=n.props.onCancel||n.props.onConfirm||null,n}return n(o,[{key:"modalDidMount",value:function(){"cancel"===this.props.focus&&this.cancelButtonRef.current&&this.cancelButtonRef.current.focus()}},{key:"render",value:function(){var e=this,t=[];if(this.props.text){for(var n=0;n<this.props.text.length;n++){var r=this.props.text[n];ue.isValidElement(r)?t.push(ue.createElement("div",{key:"elem".concat(n),className:$h},r)):"string"==typeof r&&t.push(ue.createElement("div",{key:"elem".concat(n),className:this.props.modalTextClassName||$h,dangerouslySetInnerHTML:{__html:r}}))}var i;return this.close&&(i=ue.createElement("div",{className:Dh.closeButton,onClick:function(){e.close&&e.close()}},ue.createElement("span",{className:"aops-font"},"J"))),ue.createElement("div",{className:this.mergeClasses(Dh.modal,this.props.modalClassName).join(" ")},ue.createElement("div",{className:this.mergeClasses(Dh.modalTitle,this.props.modalTitleClassName).join(" ")},this.props.title,i),ue.createElement("div",{className:this.mergeClasses(Oh,this.props.modalTextWrapperClassName).join(" ")},t),ue.createElement("div",{className:this.mergeClasses(Ih,this.props.buttonWrapperClassName).concat(this.props.onCancel?this.mergeClasses(Dh.twoButtonWrapper,this.props.twoButtonWrapperClassName):[]).join(" ")},ue.createElement("button",{ref:this.confirmButtonRef,className:this.mergeClasses(Lh,this.props.modalButtonClassName).concat(this.props.onCancel?this.mergeClasses(Ph,this.props.noTopMarginClassName):[]).join(" "),onClick:this.props.onConfirm},this.props.confirmButtonText||"OK"),this.props.onCancel&&ue.createElement("button",{ref:this.cancelButtonRef,className:this.mergeClasses(Lh,this.props.modalButtonClassName).concat(this.mergeClasses(Dh.cancelButton,this.props.cancelButtonClassName).concat(this.mergeClasses(Ph,this.props.noTopMarginClassName))).join(" "),onClick:this.props.onCancel},this.props.cancelButtonText||"Cancel")))}}},{key:"mergeClasses",value:function(e,t){return t?[t,e]:[e]}}]),o}(Gh);r(Kh,"defaultProps",{title:"Alert",confirmButtonText:"OK",cancelButtonText:"Cancel",onConfirm:function(){console.log("No modal onclick function defined.")}});var qh=zu(Kh),Xh={buttonWrapper:"styles_buttonWrapper__19NSj",noTopMargin:"styles_noTopMargin__3SJK9",radioGroup:"styles_radioGroup__SI7GE",radioButton:"styles_radioButton__3ccUf",layoutTypes:"styles_layoutTypes__1tkFB",layoutTypeWrapper:"styles_layoutTypeWrapper__2Cp8M",modalText:"styles_modalText__3f7t7"};Ku(".styles_buttonWrapper__19NSj {\n\tmargin-bottom: 30px;\n}\n\n.styles_noTopMargin__3SJK9 {\n\tmargin-top: 0 !important;\n}\n\n.styles_radioGroup__SI7GE {\n\tmargin: 10px 0 10px 20px;\n}\n\n.styles_radioButton__3ccUf {\n\tflex-shrink: 0;\n\tmargin: 0 5px;\n}\n\n.styles_layoutTypes__1tkFB {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: 15px;\n\tpadding: 20px 15px;\n\twidth: 100%;\n}\n\n.styles_layoutTypeWrapper__2Cp8M {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tcursor: pointer;\n\tpadding: 0px 10px;\n}\n\n.styles_layoutTypeWrapper__2Cp8M:hover {\n\tbackground-color: #ededed;\n}\n\n.styles_modalText__3f7t7 {\n\tfont-size: 1.1em;\n\tmargin: 0 7px;\n\tflex-shrink: 0;\n}\n\n.styles_radioGroup__SI7GE .styles_modalText__3f7t7 {\n\tline-height: 2.5em;\n}\n\n.styles_layoutTypeWrapper__2Cp8M img {\n\tmargin: 0 5px;\n}\n\n.styles_layoutTypeWrapper__2Cp8M img:first-child {\n\tmargin-left: 10px;\n}\n\n@media screen and (max-width: 1200px) {\n\t.styles_layoutTypeWrapper__2Cp8M img {\n\t\tmargin: 0 4px;\n\t}\n\n\t.styles_layoutTypeWrapper__2Cp8M img:first-child {\n\t\tmargin-left: 6px;\n\t}\n}\n\n@media screen and (max-width: 600px) {\n\t.styles_layoutTypeWrapper__2Cp8M img {\n\t\tdisplay: none;\n\t}\n}\n");var Yh=["aops","ba"],Qh=["alex","grogg","lizzie","winnie"],Jh="https://artofproblemsolving.com/assets/images/smilies",Zh=zu(function(t){a(o,t);var i=f(o);function o(t){var n;e(this,o),r(h(n=i.call(this,t)),"themeRefs",[]),r(h(n),"characterRefs",[]),r(h(n),"confirmButtonRef",he()),r(h(n),"cancelButtonRef",he()),n.close=n.props.onClose,n.closeOnMask=!1;for(var s=0;s<=Yh.length;s++)n.themeRefs.push(he()),n.addToOrderedRefs(n.themeRefs[s]);for(var a=0;a<=Qh.length;a++)n.characterRefs.push(he()),n.addToOrderedRefs(n.characterRefs[a]);return n.addToOrderedRefs(n.confirmButtonRef),n.addToOrderedRefs(n.cancelButtonRef),n.onSubmit=n.onSubmit.bind(h(n)),n.state={smileyTheme:n.props.smileySettings.smileyTheme,smileyCharacter:n.props.smileySettings.smileyCharacter},n.autoFocusOnItem="none",n.navigateWithLeftRightKeys=!0,n}return n(o,[{key:"modalDidMount",value:function(){this.confirmButtonRef.current&&this.confirmButtonRef.current.focus()}},{key:"onSubmit",value:function(){this.props.onSubmit({smileyTheme:this.state.smileyTheme,smileyCharacter:"ba"===this.state.smileyTheme?this.state.smileyCharacter:null})}},{key:"onSmileyThemeChange",value:function(e){this.setState({smileyTheme:e})}},{key:"onSmileyCharacterChange",value:function(e){this.setState({smileyCharacter:e})}},{key:"getThemeOptions",value:function(){var e=this;return[null].concat(Yh).reduce((function(t,n,r){var i;switch(n){case"aops":i=ue.createElement(ue.Fragment,null,ue.createElement("div",{className:Xh.modalText},"Classic AoPS Emoticons"),ue.createElement("div",null,ue.createElement("img",{src:"".concat(Jh,"/classroom-smile.gif")}),ue.createElement("img",{src:"".concat(Jh,"/classroom-surprise.gif")}),ue.createElement("img",{src:"".concat(Jh,"/classroom-laugh.gif")}),ue.createElement("img",{src:"".concat(Jh,"/classroom-cool.gif")})));break;case"ba":i=ue.createElement(ue.Fragment,null,ue.createElement("div",{className:Xh.modalText},"Beast Academy Emoticons"),ue.createElement("div",null,ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-lizzie-smiling.svg")}),ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-grogg-surprised.svg")}),ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-winnie-laughingcrying.svg")}),ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-alex-sunglasses.svg")})));break;default:i=ue.createElement("div",{className:Xh.modalText},"No Preference (Random)")}return e.themeRefs[r]?t.concat([{body:i,value:n,ref:e.themeRefs[r]}]):t}),[])}},{key:"getCharacterOptions",value:function(){var e=this;return[null].concat(Qh).reduce((function(t,n,r){var i;return i=n?ue.createElement(ue.Fragment,null,ue.createElement("div",{className:Xh.modalText},n.charAt(0).toUpperCase()+n.slice(1)),ue.createElement("div",null,ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-").concat(n,"-zany.svg")}),ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-").concat(n,"-questioning.svg")}),ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-").concat(n,"-angel.svg")}),ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-").concat(n,"-biggrin.svg")}))):ue.createElement(ue.Fragment,null,ue.createElement("div",{className:Xh.modalText},"No Preference (Random)")," ",ue.createElement("div",null,ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-grogg-zany.svg")}),ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-winnie-questioning.svg")}),ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-lizzie-angel.svg")}),ue.createElement("img",{className:"classroom-emoticon-theme-ba",src:"".concat(Jh,"/classroom-ba-alex-biggrin.svg")}))),e.characterRefs[r]?t.concat([{body:i,value:n,ref:e.characterRefs[r]}]):t}),[])}},{key:"render",value:function(){var e=this,t=ue.createElement("div",{className:Dh.closeButton,onClick:this.props.onClose},ue.createElement("span",{className:"aops-font"},"J"));return ue.createElement("div",{className:Dh.modal},ue.createElement("div",{className:Dh.modalTitle},"Smiley Settings",t),ue.createElement("div",{className:Xh.layoutTypes},ue.createElement("div",{className:Xh.modalText},"Please select what kind of smiley faces you would like to use in the classroom:"),ue.createElement("div",{className:Xh.radioGroup},this.getThemeOptions().map((function(t){var n=t.body,r=t.value,i=t.ref;return ue.createElement("label",{className:Xh.layoutTypeWrapper,key:"wrapper-theme-"+r},ue.createElement("input",{ref:i,className:Xh.radioButton,type:"radio",value:"even",name:"smileyTheme",key:"even",checked:e.state.smileyTheme===r,onChange:function(){return e.onSmileyThemeChange(r)}}),n)}))),"ba"===this.state.smileyTheme&&ue.createElement(ue.Fragment,null,ue.createElement("div",{className:Xh.modalText},"Please select which Beast Academy character smiley faces you would like to use in the classroom:"),ue.createElement("div",{className:Xh.radioGroup},this.getCharacterOptions().map((function(t){var n=t.body,r=t.value,i=t.ref;return ue.createElement("label",{className:Xh.layoutTypeWrapper,key:"wrapper-theme-"+r},ue.createElement("input",{ref:i,className:Xh.radioButton,type:"radio",value:"even",name:"smileyCharacter",key:"even",checked:e.state.smileyCharacter===r,onChange:function(){return e.onSmileyCharacterChange(r)}}),n)}))))),ue.createElement("div",{className:[Xh.buttonWrapper,Dh.twoButtonWrapper].join(" ")},ue.createElement("button",{ref:this.confirmButtonRef,className:[Dh.modalButton,Xh.noTopMargin].join(" "),onClick:this.onSubmit},"Save"),ue.createElement("button",{ref:this.cancelButtonRef,className:[Dh.modalButton,Dh.cancelButton,Xh.noTopMargin].join(" "),onClick:this.props.onClose},"Cancel")))}}]),o}(Gh)),ed={wrapper:"styles_wrapper__fTP4E",panel:"styles_panel__2tNWZ",forceScroll:"styles_forceScroll__xinYL",noPadding:"styles_noPadding__2Gh9C",handle:"styles_handle__22k0u"};Ku(".styles_wrapper__fTP4E {\n\tdisplay: flex;\n\tposition: fixed;\n\tz-index: 305;\n\tbackground-color: red;\n\tcolor: red;\n\tborder: 1px solid #40c2cc;\n\ttop: 100;\n\tleft: 100;\n\tmax-width: 50%;\n\tmax-height: 50%;\n\toverflow: hidden;\n}\n\n@media (max-width: 1000px) {\n\t.styles_wrapper__fTP4E {\n\t\tmax-width: 500px;\n\t}\n}\n\n@media (max-width: 555px) {\n\t.styles_wrapper__fTP4E {\n\t\tmax-width: 90%;\n\t}\n}\n\n.styles_wrapper__fTP4E .styles_panel__2tNWZ {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.styles_forceScroll__xinYL {\n\toverflow: auto !important;\n}\n\n.styles_noPadding__2Gh9C {\n\tpadding: 0px !important;\n}\n\n.styles_handle__22k0u {\n\tbackground-color: #40c2cc;\n\tcolor: #1b365d;\n\tfont-weight: bold;\n}\n\n.styles_wrapper__fTP4E iframe {\n\tmax-height: 40vh;\n}\n");var td={panelWrapper:"styles_panelWrapper__3AmeG",withHandle:"styles_withHandle__PpNUF",noScroll:"styles_noScroll__1JKYW",panel:"styles_panel__nlEoI",collapsed:"styles_collapsed__2SxWi",collapsing:"styles_collapsing__3toq7",expanding:"styles_expanding__1mL9z",panelContent:"styles_panelContent__1fC8n",handle:"styles_handle__SMh99",inactiveHandle:"styles_inactiveHandle__3GJuo",nonCollapsible:"styles_nonCollapsible__2hyPm",collapseButton:"styles_collapseButton__2c-lC",handleContent:"styles_handleContent__3SdRC",closeButton:"styles_closeButton__uc-Ut",draggable:"styles_draggable__3Hdv7",resizable:"styles_resizable__2PUiW",resizer:"styles_resizer__18ImU",topResizer:"styles_topResizer__2w0IW",hiddenOverflow:"styles_hiddenOverflow__3dRXc"};Ku("/* The wrapping element of a panel and it's handle. */\n.styles_panelWrapper__3AmeG {\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: visible;\n\twidth: 100%;\n\tmax-width: 100%;\n}\n\n.styles_panelWrapper__3AmeG.styles_withHandle__PpNUF {\n\tmin-height: 28px;\n}\n\n.styles_noScroll__1JKYW {\n\toverflow: hidden;\n}\n\n/* The element pertaining to the panel, not including the handle. */\n.styles_panel__nlEoI {\n\tbackground-color: white;\n\tflex-grow: 1;\n\theight: 100%;\n\tmax-height: 100%;\n\toverflow: auto;\n}\n\n/* Describes a collapsed panel. */\n.styles_panel__nlEoI.styles_collapsed__2SxWi {\n\theight: 0px;\n\toverflow: hidden;\n}\n\n/* Describes a panel in the middle of a collapsing transition. */\n.styles_panel__nlEoI.styles_collapsing__3toq7 {\n\theight: 0px;\n\ttransition: height 0.2s;\n\toverflow: hidden;\n}\n\n/* Describes a panel in the middle of an expanding transition. */\n.styles_panel__nlEoI.styles_expanding__1mL9z {\n\ttransition: height 0.2s;\n\toverflow: hidden;\n}\n\n/* Holds the content of the panel. */\n.styles_panelContent__1fC8n {\n\tposition: relative;\n\tpadding: 10px;\n}\n\n.styles_noScroll__1JKYW .styles_panelContent__1fC8n {\n\theight: 100%;\n\tmax-height: 100%;\n\toverflow: hidden;\n}\n\n/* The top handle of a panel which allows it to be collapsed. */\n.styles_handle__SMh99 {\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tflex-shrink: 0;\n\theight: 28px;\n\tmin-height: 28px;\n\tcolor: #1b365d;\n\tbackground-color: #40c2cc;\n\tbox-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.3);\n\tz-index: 1;\n\tfont-weight: bold;\n}\n\n.styles_inactiveHandle__3GJuo {\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tflex-shrink: 0;\n\theight: 28px;\n\tmin-height: 28px;\n\tcolor: #1b365d;\n\tbackground-color: #bbbbbb;\n\tbox-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.3);\n\tz-index: 1;\n\tfont-weight: bold;\n}\n\n.styles_nonCollapsible__2hyPm {\n\tpadding-left: 10px;\n}\n\n/* The collapse button on the handle. */\n.styles_collapseButton__2c-lC {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-shrink: 0;\n\twidth: 32px;\n\theight: 100%;\n\ttransform: rotate(90deg);\n\ttransition: color 0.2s, transform 0.2s;\n\tuser-select: none;\n}\n\n.styles_handleContent__3SdRC .styles_collapseButton__2c-lC .aops-font {\n\tcolor: white;\n\ttransition: transform 0.1s, filter 0.2s;\n}\n\n.styles_handleContent__3SdRC .styles_collapseButton__2c-lC:hover .aops-font {\n\ttransform: scale(1.2);\n\tcursor: pointer;\n}\n\n/* The collapse button on the handle. */\n.styles_closeButton__uc-Ut {\n\tmargin-left: auto;\n\tright: 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-shrink: 0;\n\twidth: 32px;\n\theight: 100%;\n\ttransition: color 0.2s, transform 0.2s;\n\tuser-select: none;\n}\n\n.styles_handleContent__3SdRC .styles_closeButton__uc-Ut .aops-font {\n\tcolor: white;\n\ttransition: transform 0.1s, filter 0.2s;\n}\n\n.styles_handleContent__3SdRC .styles_closeButton__uc-Ut:hover .aops-font {\n\ttransform: scale(1.2);\n\tcursor: pointer;\n}\n\n.styles_collapsed__2SxWi .styles_collapseButton__2c-lC {\n\ttransform: rotate(0deg);\n}\n\n/* The content in the handle. */\n.styles_handleContent__3SdRC {\n\tdisplay: flex;\n\talign-items: center;\n\tflex-grow: 1;\n\theight: 100%;\n\tfont-size: 0.9em;\n\tmax-width: 100%;\n\toverflow: hidden;\n}\n\n.styles_handleContent__3SdRC .aops-font {\n\tfont-size: 1.3em;\n\tuser-select: none;\n\tcolor: white;\n}\n\n.styles_draggable__3Hdv7 {\n\tcursor: move;\n}\n\n.styles_resizable__2PUiW {\n\tcursor: row-resize;\n\ttransition: background-color 0.2s;\n}\n\n.styles_resizable__2PUiW:hover {\n\tbackground-color: #43d0da;\n}\n\n.styles_inactiveHandle__3GJuo .styles_resizable__2PUiW:hover {\n\tbackground-color: #c9c9c9;\n}\n\n/* Resizer click/drag target */\n.styles_resizer__18ImU {\n\topacity: 0;\n\tposition: absolute;\n\twidth: 100%;\n\tmax-width: 100%;\n\theight: 10px;\n\tbackground: rgba(255, 0, 255, 0.2);\n\tborder: 2px solid magenta;\n\ttransform: translateY(-50%);\n\ttransition: background 0.2s;\n\tbox-shadow: 1px 1px 5px -2px black;\n\tbottom: -10px;\n}\n\n.styles_topResizer__2w0IW {\n\ttop: 0px;\n}\n\n.styles_resizer__18ImU:hover {\n\tcursor: row-resize;\n\tbackground: rgba(255, 0, 255, 0.75);\n}\n/* \n.collapsed .resizer {\n\tdisplay: none;\n} */\n\n.styles_hiddenOverflow__3dRXc {\n\toverflow: hidden !important;\n}\n");var nd=function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"wrapperRef",he()),r(h(n),"panelRef",he()),r(h(n),"resizerRef",he()),r(h(n),"lastScreenY",NaN),n.state={collapsed:t.collapsed,hasBeenResized:!1,resizing:!1,firstRender:!0},n.onCollapse=n.onCollapse.bind(h(n)),n.duringCollapse=n.duringCollapse.bind(h(n)),n.onTransitionEnd=n.onTransitionEnd.bind(h(n)),n.onResize=n.onResize.bind(h(n)),n.onResizeEnd=n.onResizeEnd.bind(h(n)),n.onTouchStart=n.onTouchStart.bind(h(n)),n.onMouseDown=n.onMouseDown.bind(h(n)),n.onPanelClick=n.onPanelClick.bind(h(n)),n.buildResizer=n.buildResizer.bind(h(n)),n}return n(o,[{key:"componentDidMount",value:function(){if(!this.state.collapsed&&!this.props.collapsed){var e=this.panelRef.current;e&&(e.style.height="100%");var t=this.wrapperRef.current;t&&(t.style.height="")}}},{key:"componentDidUpdate",value:function(e){!0===this.props.forceExpand&&this.props.forceExpand!==e.forceExpand&&this.state.collapsed&&this.onCollapse(),!this.state.resizing&&this.props.height&&this.props.height!==e.height&&(this.props.minContentHeight&&!this.state.collapsed&&this.props.height<this.props.minContentHeight+o.MIN_HEIGHT?this.onCollapse():!this.state.firstRender&&this.wrapperRef.current&&this.props.height&&e.height&&this.props.height<e.height&&(this.wrapperRef.current.style.height=this.props.height+"px")),this.state.firstRender&&this.setState({firstRender:!1})}},{key:"render",value:function(){return this.props.maxAutoSize&&!this.state.hasBeenResized?this.wrapperRef.current&&(this.wrapperRef.current.style.maxHeight=this.props.maxAutoSize):this.wrapperRef.current&&(this.wrapperRef.current.style.maxHeight="none"),this.props.lockSize?this.wrapperRef.current&&(this.wrapperRef.current.style.flexShrink="0"):void 0!==this.props.lockSize&&this.wrapperRef.current&&(this.wrapperRef.current.style.flexShrink="1"),ue.createElement("div",{ref:this.wrapperRef,className:[td.panelWrapper,this.props.wrapperClassName,this.props.handle?td.withHandle:"",this.state.collapsed?td.collapsed:""].join(" ")},this.buildHandle(),this.buildPanel(),this.props.resizeFromBottom&&this.buildResizer())}},{key:"buildHandle",value:function(){var e;if(this.props.handle){var t,n;this.props.handle.collapsible&&(t=ue.createElement("div",{className:td.collapseButton,onClick:this.onCollapse},ue.createElement("span",{className:"aops-font"},"7")));var r=this.props.onClose;r&&(n=ue.createElement("div",{className:td.closeButton,onClick:r},ue.createElement("span",{className:"aops-font"},"J")));var i=this.props.handle.draggable,o=this.props.handle.resizable&&!this.props.resizeFromBottom,s=void 0,a=void 0;i?(s=i.onTouchStart,a=i.onMouseDown):o&&(s=this.onTouchStart,a=this.onMouseDown),e=ue.createElement("div",{className:[this.props.inactive?td.inactiveHandle:td.handle,this.props.handle.collapsible?"":td.nonCollapsible,this.props.handle.className?this.props.handle.className:""].join(" "),onClick:this.onPanelClick},ue.createElement("div",{ref:o?this.resizerRef:null,className:[td.handleContent,i?td.draggable:"",o?td.resizable:""].join(" "),onTouchStart:s,onMouseDown:a},t,this.props.handle.content,n))}return e}},{key:"buildResizer",value:function(){return ue.createElement("div",{ref:this.resizerRef,className:[td.resizer,this.props.resizeFromBottom?"":td.topResizer].join(" "),onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown})}},{key:"buildPanel",value:function(){return ue.createElement("div",{onClick:this.onPanelClick,ref:this.panelRef,className:[td.panel,this.props.scrollable?"":td.noScroll,this.props.className,this.props.collapsed?td.collapsed:""].join(" ")},ue.createElement("div",{className:[td.panelContent,this.props.contentClassName].join(" ")},this.props.children))}},{key:"onCollapse",value:function(){this.setState({collapsed:!this.state.collapsed,hasBeenResized:!1,resizing:!0},this.duringCollapse)}},{key:"duringCollapse",value:function(){if(this.panelRef.current&&this.wrapperRef.current){var e=this.panelRef.current,t=this.wrapperRef.current,n=getComputedStyle(e).height;if(e.classList.remove(td.collapsed,td.collapsing,td.expanding),t.style.height="",this.state.collapsed)e.style.height=n,e.offsetHeight,e.style.height="",e.classList.add(td.collapsing);else{var r=getComputedStyle(e).height;e.style.height=n,e.offsetHeight,e.style.height=r,e.classList.add(td.expanding),r===n?this.postCollapse():e.addEventListener("transitionend",this.onTransitionEnd,!1)}}}},{key:"onTransitionEnd",value:function(e){if(this.panelRef.current){var t=this.panelRef.current;"height"===e.propertyName&&(this.postCollapse(),t.removeEventListener("transitionend",this.onTransitionEnd,!1))}}},{key:"postCollapse",value:function(){if(this.panelRef.current&&this.wrapperRef.current){var e=this.panelRef.current;this.state.collapsed?(e.classList.remove(td.collapsing),e.classList.add(td.collapsed)):(e.classList.remove(td.expanding),e.style.height="100%",this.props.onPanelClick&&this.props.onPanelClick())}this.props.handle&&this.props.handle.postCollapse&&this.props.handle.postCollapse(),this.setState({resizing:!1})}},{key:"onResize",value:function(e){e.preventDefault();var t=this.wrapperRef.current;if(t){var n=NaN;if(e instanceof MouseEvent)n=e.screenY;else{if(1!==e.touches.length)return;n=e.touches[0].screenY}var r=n-this.lastScreenY;if(this.lastScreenY=n,Math.abs(r)>0){var i=parseInt(getComputedStyle(t).height||""),s=this.props.resizeFromBottom?i+r:i-r;s>=i&&this.setState({hasBeenResized:!0}),t.style.height=s+"px",(!this.state.collapsed&&s<=o.MIN_HEIGHT||this.state.collapsed&&s>o.MIN_HEIGHT)&&this.onCollapse()}}}},{key:"onResizeEnd",value:function(){if(this.wrapperRef.current){this.props.handle&&this.props.handle.onResizeEnd&&this.props.handle.onResizeEnd(),this.setState({resizing:!1});var e=parseInt(getComputedStyle(this.wrapperRef.current).height);this.props.minContentHeight&&!this.state.collapsed&&e<this.props.minContentHeight+o.MIN_HEIGHT&&this.onCollapse()}document.removeEventListener("mousemove",this.onResize),document.removeEventListener("mouseup",this.onResizeEnd),document.removeEventListener("touchmove",this.onResize),document.removeEventListener("touchend",this.onResizeEnd),document.removeEventListener("touchcancel",this.onResizeEnd),this.lastScreenY=NaN}},{key:"onTouchStart",value:function(e){e.preventDefault(),this.wrapperRef.current&&(this.props.handle&&this.props.handle.onResizeStart&&this.props.roomId&&this.props.handle.onResizeStart(this.props.roomId),this.wrapperRef.current.style.flexShrink="1",this.setState({resizing:!0})),document.addEventListener("touchmove",this.onResize),document.addEventListener("touchend",this.onResizeEnd),document.addEventListener("touchcancel",this.onResizeEnd)}},{key:"onMouseDown",value:function(e){e.preventDefault(),this.wrapperRef.current&&(this.props.handle&&this.props.handle.onResizeStart&&this.props.roomId&&this.props.handle.onResizeStart(this.props.roomId),this.wrapperRef.current.style.flexShrink="1",this.setState({resizing:!0})),document.addEventListener("mousemove",this.onResize),document.addEventListener("mouseup",this.onResizeEnd)}},{key:"onPanelClick",value:function(){this.props.onPanelClick&&this.props.onPanelClick()}}]),o}(ue.Component);r(nd,"defaultProps",{scrollable:!0}),r(nd,"MIN_HEIGHT",28);var rd=zu(function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"wrapperRef",he()),n.state={top:100,left:100,offsetX:0,offsetY:0},n.onMouseDown=n.onMouseDown.bind(h(n)),n.onDrag=n.onDrag.bind(h(n)),n.onDragEnd=n.onDragEnd.bind(h(n)),n.onWindowResize=n.onWindowResize.bind(h(n)),n.positionInCenter=n.positionInCenter.bind(h(n)),n}return n(o,[{key:"render",value:function(){var e=this;return ue.createElement("div",{className:ed.wrapper,ref:this.wrapperRef},ue.createElement(nd,{className:ed.panel,contentClassName:[ed.forceScroll,ed.noPadding].join(" "),scrollable:!0,handle:{collapsible:!0,resizable:!1,content:ue.createElement("div",null,ue.createElement("span",null,"Message")),draggable:{onMouseDown:function(t){e.onMouseDown(t),document.addEventListener("mousemove",e.onDrag),document.addEventListener("mouseup",e.onDragEnd)},onTouchStart:function(){document.addEventListener("touchmove",e.onDrag),document.addEventListener("touchend",e.onDragEnd),document.addEventListener("touchcancel",e.onDragEnd)}}},onClose:this.props.onClose},this.props.children))}},{key:"componentDidMount",value:function(){var e=window.getSelection(),t=document.getSelection();e?e.removeAllRanges():t&&t.empty(),window.addEventListener("resize",this.onWindowResize),this.positionInCenter()}},{key:"componentDidUpdate",value:function(e){e.message!==this.props.message&&this.positionInCenter()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"positionInCenter",value:function(){var e=this.wrapperRef.current;setTimeout((function(){if(e){var t=window.innerHeight/2-parseInt(getComputedStyle(e).height)/2,n=window.innerWidth/2-parseInt(getComputedStyle(e).width)/2;e.style.top=t.toString().concat("px"),e.style.left=n.toString().concat("px")}}),0)}},{key:"onMouseDown",value:function(e){var t=this.wrapperRef.current;if(t){var n=e.clientX-parseInt(getComputedStyle(t).left),r=e.clientY-parseInt(getComputedStyle(t).top);this.setState({offsetX:n,offsetY:r}),t.style.zIndex="351"}}},{key:"onDrag",value:function(e){e.preventDefault();var t=this.wrapperRef.current;if(t){var n=0,r=0;if(e instanceof MouseEvent)n=e.clientY,r=e.clientX;else{if(1!==e.touches.length)return;n=e.touches[0].screenY,r=e.touches[0].screenX}var i=n-this.state.offsetY,o=r-this.state.offsetX;i<0?i=0:i+parseInt(getComputedStyle(t).height)>window.innerHeight&&(i=window.innerHeight-parseInt(getComputedStyle(t).height)),o<0?o=0:o+parseInt(getComputedStyle(t).width)>window.innerWidth&&(o=window.innerWidth-parseInt(getComputedStyle(t).width)),t.style.top=i.toString().concat("px"),t.style.left=o.toString().concat("px")}}},{key:"onWindowResize",value:function(){var e=this.wrapperRef.current;if(e){var t=parseInt(getComputedStyle(e).top),n=parseInt(getComputedStyle(e).left);t<0?t=0:t+parseInt(getComputedStyle(e).height)>window.innerHeight&&(t=window.innerHeight-parseInt(getComputedStyle(e).height)),n<0?n=0:n+parseInt(getComputedStyle(e).width)>window.innerWidth&&(n=window.innerWidth-parseInt(getComputedStyle(e).width)),e.style.top=t.toString().concat("px"),e.style.left=n.toString().concat("px")}}},{key:"onDragEnd",value:function(){document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchmove",this.onDrag),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("touchcancel",this.onDragEnd)}}]),o}(ue.Component)),id=w(_((function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}))),od=_((function(e,t){var n=60103,r=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,o=60110,s=60112;t.Suspense=60113;var a=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var c=Symbol.for;n=c("react.element"),r=c("react.portal"),t.Fragment=c("react.fragment"),t.StrictMode=c("react.strict_mode"),t.Profiler=c("react.profiler"),i=c("react.provider"),o=c("react.context"),s=c("react.forward_ref"),t.Suspense=c("react.suspense"),a=c("react.memo"),l=c("react.lazy")}var u="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f={};function p(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||d}function g(){}function m(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||d}p.prototype.isReactComponent={},p.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},p.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=p.prototype;var v=m.prototype=new g;v.constructor=m,E(v,p.prototype),v.isPureReactComponent=!0;var y={current:null},b=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)b.call(t,i)&&!w.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:y.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+C(l,0):o,Array.isArray(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),k(s,t,i,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",Array.isArray(e))for(var c=0;c<e.length;c++){var d=o+C(a=e[c],c);l+=k(a,t,i,d,s)}else if("function"==typeof(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e)))for(e=d.call(e),c=0;!(a=e.next()).done;)l+=k(a=a.value,t,i,d=o+C(a,c++),s);else if("object"===a)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function M(){var e=T.current;if(null===e)throw Error(h(321));return e}var O={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(h(143));return e}},t.Component=p,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null==e)throw Error(h(267,e));var i=E({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=y.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)b.call(t,c)&&!w.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:a,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="17.0.2"})),sd=(od.Fragment,od.StrictMode,od.Profiler,od.Suspense,od.Children,od.Component,od.PureComponent,od.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,od.cloneElement,od.createContext,od.createElement,od.createFactory,od.createRef,od.forwardRef,od.isValidElement,od.lazy,od.memo,od.useCallback,od.useContext,od.useDebugValue,od.useEffect,od.useImperativeHandle,od.useLayoutEffect,od.useMemo,od.useReducer,od.useRef,od.useState,od.version,_((function(e){e.exports=od})));class ad{static getInstance(){return ad.instance}requestRender(e){const t={...e};this.addToRenderQueue(t)}addToRenderQueue(e){this.queue.push(e),this.preRenderStep()}preRenderStep(){this.ready&&this.queue.length&&(this.ready=!1,requestAnimationFrame(()=>{this.renderStep()}))}renderStep(){const e=this.queue;this.queue=[],MathJax.Hub.Queue([()=>this.prepareRenderBox(e)]),MathJax.Hub.Queue(["setRenderer",MathJax.Hub,"CommonHTML"]),MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.renderBox]),MathJax.Hub.Queue([()=>this.postRenderStep(e)])}postRenderStep(e){if(!this.renderBox)throw new Error("MathJaxRenderer render box is missing!");const t=this.renderBox.childNodes;for(let n=0;n<t.length;n++){const r=t[n].childNodes;e[n]&&e[n].callback(r)}this.ready=!0,this.preRenderStep()}createRenderBox(){const e=document.createElement("div");return e.style.position="fixed",e.style.top="-1vh",e.style.left="-1vw",e.style.width="0",e.style.height="0",e.style.border="2px solid red",e.style.background="lime",e.style.whiteSpace="nowrap",e.style.overflow="hidden",e.style.visibility="hidden",e.style.pointerEvents="none",document.body?document.body.append(e):document.addEventListener("DOMContentLoaded",()=>{document.body.append(e)}),e}prepareRenderBox(e){this.renderBox||(this.renderBox=this.createRenderBox()),this.renderBox.innerHTML="";for(const t of e){const e=document.createElement("div");e[t.contentProperty]=t.jax,this.renderBox.append(e)}}constructor(){if(id(this,"queue",[]),id(this,"ready",!0),id(this,"renderBox",null),ad.instance)throw new Error("Instantiation of MathJaxRendererSingleton failed because singleton already exists.");this.renderBox=this.createRenderBox()}}id(ad,"instance",new ad);const ld=ad.getInstance();class cd extends sd.Component{constructor(e){super(e),id(this,"span",void 0),id(this,"currentRequestId",void 0),id(this,"retries",0),id(this,"retryTimeout",void 0),id(this,"contentProperty",void 0),id(this,"unmounted",!1),this.span=sd.createRef(),this.currentRequestId=0,this.contentProperty=this.props.renderAsHTML?"innerHTML":"textContent",this.state={rendered:!1}}componentDidMount(){this.preRenderMathJax()}shouldComponentUpdate(e,t){if(this.state.rendered!==t.rendered){if(!this.props.preRenderStyles&&!this.props.hideUnrendered)return!1}else if(this.props===e)return!1;return!0}componentDidUpdate(e){e.children!==this.props.children&&(this.resetRetryCounter(),this.preRenderMathJax())}componentWillUmount(){clearTimeout(this.retryTimeout),this.unmounted=!0}render(){let e;return this.state.rendered||(e={...this.props.preRenderStyles},this.props.hideUnrendered&&(e.display="none")),sd.createElement("span",{ref:this.span,style:e})}retryMathJaxRender(){this.retries>=3?this.props.onMaxRetries?this.props.onMaxRetries():console.error("Unable to render MathJax"):this.retryTimeout=window.setTimeout(()=>{this.unmounted||(this.retries++,this.preRenderMathJax())},50)}preRenderMathJax(){this.unmounted||this.setState({rendered:!1},()=>this.renderMathJax())}renderMathJax(){if(this.unmounted)return;if(!this.span.current)return void this.retryMathJaxRender();const e=++this.currentRequestId,t=this.props.children;"string"==typeof t?this.span.current[this.contentProperty]=t:(this.span.current[this.contentProperty]=String(t),console.warn(`MathJaxWrapper expected string content. Forcibly casting ${typeof t} to string.`)),ld.requestRender({jax:this.span.current[this.contentProperty]||"",contentProperty:this.contentProperty,callback:t=>{this.unmounted||this.currentRequestId!==e||this.postRenderMathJax(t)}})}postRenderMathJax(e){if(this.unmounted)return;if(!this.span.current)return void this.retryMathJaxRender();const t=this.currentRequestId;for(this.span.current.innerHTML="";e.length;)this.props.children&&-1!==this.props.children.indexOf("<img")&&e[0].addEventListener("load",()=>{this.unmounted||this.currentRequestId!==t||this.props.onJaxRendered&&this.props.onJaxRendered(this.span)},{once:!0}),this.span.current.appendChild(e[0]);this.props.onJaxRendered&&this.props.onJaxRendered(this.span),this.resetRetryCounter(),this.setState({rendered:!0})}resetRetryCounter(){this.retries=0,clearTimeout(this.retryTimeout),this.retryTimeout=void 0}}var ud="styles_message__1aU1u",hd="styles_hoverWrapper__3dPyc",dd="styles_response__14GCx",fd="styles_myself__2iXzE",pd="styles_greenBackground__1FfTV",gd="styles_orangeBackground__1OWkC",md="styles_pinkBackground__3WFuA",vd="styles_purpleBackground__2sXju",yd="styles_blueBackground__3NiSR",bd="styles_groupedResponse__3hoAL",wd="styles_avatarWrapper__2WkCy",_d="styles_username__3T3BZ",Sd="styles_messageContentWrapper__1YB6s",xd="styles_messageContent__1EyvQ",Cd="styles_barGraphMotor__2DI0f",kd="styles_leftFade__3nOyV",Ed="styles_rightFade__3GYi2",Ad="styles_visible__3YEe3",Rd="styles_fadeWrapper__1c34m",Td="styles_scrollWrapper__2_HGy",Md="styles_forceScrollbar__2xUYr",Od="styles_disableAvatars__3ilp0",$d="styles_whisper__1YoQQ",Ld="styles_systemNoPadding__1cSuN",Id="styles_system__1fhPl",Pd="styles_onlyMe__3TPjA",Dd="styles_arrow__1m4hw",Nd="styles_nested__9x7QS",Fd="styles_spyHeader__cQjTK",Bd="styles_spyMessage__2gtgT",Ud="styles_spyMessageContentWrapper__1acH5",zd="styles_outerSpy__12pcV",Wd="styles_nestedSpy__nUVpa",jd="styles_noBackground__2ZDfa",Hd="styles_compact__rtcY7",Vd="styles_partiallyCompact__yrXuA",Gd="styles_privateMessage__YPVRJ",Kd="styles_noAvatars__2wPgP";Ku('.styles_message__1aU1u {\n\tdisplay: flex;\n\tposition: relative;\n\tpadding: 10px 0px;\n\tcolor: black;\n}\n\n.styles_hoverWrapper__3dPyc {\n\tdisplay: block;\n\tvisibility: hidden;\n\tpointer-events: none;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tborder: 2px solid #40c2cc;\n}\n\n.styles_message__1aU1u:hover .styles_hoverWrapper__3dPyc {\n\tvisibility: visible;\n}\n\n.styles_message__1aU1u:hover .styles_hoverWrapper__3dPyc > * {\n\tpointer-events: all;\n}\n\n.styles_message__1aU1u.styles_response__14GCx {\n\tbackground: #ededed;\n\tborder-left: 10px solid #bbbbbb;\n}\n\n.styles_message__1aU1u.styles_response__14GCx.styles_myself__2iXzE.styles_greenBackground__1FfTV {\n\tbackground-color: #edf5d7;\n}\n\n.styles_message__1aU1u.styles_response__14GCx.styles_myself__2iXzE.styles_orangeBackground__1OWkC {\n\tbackground-color: #fde8cd;\n}\n\n.styles_message__1aU1u.styles_response__14GCx.styles_myself__2iXzE.styles_pinkBackground__3WFuA {\n\tbackground-color: #fae0e3;\n}\n\n.styles_message__1aU1u.styles_response__14GCx.styles_myself__2iXzE.styles_purpleBackground__2sXju {\n\tbackground-color: #ede3f0;\n}\n\n.styles_message__1aU1u.styles_response__14GCx.styles_myself__2iXzE.styles_blueBackground__3NiSR {\n\tbackground-color: #dbf1fa;\n}\n\n.styles_groupedResponse__3hoAL {\n\tbackground: #ededed;\n}\n\n.styles_avatarWrapper__2WkCy {\n\tmargin-left: 18px;\n\tuser-select: none;\n\ttransition: margin-left 0.2s;\n}\n\n.styles_response__14GCx .styles_avatarWrapper__2WkCy {\n\tmargin-left: 8px;\n}\n\n.styles_groupedResponse__3hoAL .styles_avatarWrapper__2WkCy {\n\tmargin-left: 8px;\n}\n\n.styles_username__3T3BZ {\n\tdisplay: block;\n\talign-items: center;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.styles_messageContentWrapper__1YB6s {\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tflex-basis: auto;\n\tmargin: 0px 10px;\n\toverflow: hidden;\n\ttransition: padding-left 0.2s;\n}\n\n.styles_messageContent__1EyvQ {\n\tvisibility: visible;\n\tposition: relative;\n\tfont-size: 1em;\n\toverflow-wrap: break-word;\n\twhite-space: pre-line;\n\tuser-select: auto;\n\t-webkit-user-select: auto;\n\t-moz-user-select: auto;\n\t-ms-user-select: auto;\n\t/* purge *all* the lag */\n\ttransform: translateZ(0);\n}\n\n.whitespaceSettingCompact .styles_messageContent__1EyvQ .MJXc-display {\n\tmargin: 0.5em 0;\n}\n\n/* The labels in the BarGraph motor are wrapped in a MathJaxWrapper.\nThey will break on Safari if any parent divs have a "transform: translate" rule. */\n.styles_barGraphMotor__2DI0f .styles_messageContent__1EyvQ {\n\ttransform: none;\n}\n\n.styles_leftFade__3nOyV {\n\tz-index: 1;\n\tvisibility: hidden;\n\tcontent: "";\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\twidth: 15%;\n\tpointer-events: none;\n\tbackground-image: linear-gradient(to left, #ffffff00, white);\n}\n\n.styles_rightFade__3GYi2 {\n\tvisibility: hidden;\n\tcontent: "";\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\twidth: 15%;\n\tpointer-events: none;\n\tbackground-image: linear-gradient(to right, #ffffff00, #ffffff);\n}\n\n.styles_visible__3YEe3 {\n\tvisibility: visible;\n}\n\n.styles_fadeWrapper__1c34m {\n\tposition: relative;\n\tvisibility: hidden;\n\toverflow: hidden;\n}\n\n.styles_scrollWrapper__2_HGy {\n\tposition: relative;\n\tvisibility: hidden;\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tflex-basis: auto;\n\toverflow-y: hidden;\n\toverflow-x: auto;\n\twidth: 100%;\n}\n\n.styles_forceScrollbar__2xUYr {\n\toverflow-x: scroll;\n}\n\n.styles_scrollWrapper__2_HGy > * {\n\tvisibility: visible;\n}\n\n.styles_message__1aU1u:hover .styles_scrollWrapper__2_HGy {\n\tvisibility: visible;\n}\n\n/* Compact Message Rules for PMs */\n.styles_disableAvatars__3ilp0 .styles_avatarWrapper__2WkCy {\n\tdisplay: none;\n}\n\n.styles_whisper__1YoQQ.styles_greenBackground__1FfTV {\n\tbackground-color: #edf5d7;\n}\n\n.styles_whisper__1YoQQ.styles_orangeBackground__1OWkC {\n\tbackground-color: #fde8cd;\n}\n\n.styles_whisper__1YoQQ.styles_pinkBackground__3WFuA {\n\tbackground-color: #fae0e3;\n}\n\n.styles_whisper__1YoQQ.styles_purpleBackground__2sXju {\n\tbackground-color: #ede3f0;\n}\n\n.styles_whisper__1YoQQ.styles_blueBackground__3NiSR {\n\tbackground-color: #dbf1fa;\n}\n\n.styles_systemNoPadding__1cSuN {\n\tcolor: grey;\n\tfont-style: italic;\n}\n\n.styles_system__1fhPl .styles_messageContent__1EyvQ {\n\tcolor: grey;\n\tfont-style: italic;\n\tpadding-left: 18px;\n}\n\n.styles_system__1fhPl .styles_avatarWrapper__2WkCy,\n.styles_system__1fhPl .styles_username__3T3BZ {\n\tdisplay: none;\n}\n\n.styles_onlyMe__3TPjA,\n.styles_toInstructor__3brBk {\n\tpadding: 0 5px;\n\tfont-style: italic;\n\tcolor: #aaa;\n\tfont-size: 0.85em;\n\tfont-weight: normal;\n}\n\n.styles_arrow__1m4hw {\n\tdisplay: inline-block;\n\ttransform: scale(-1, 1);\n\tpadding: 0 2px;\n\tcolor: #aaa;\n\tfont-family: "aops";\n\tuser-select: none;\n}\n\n.styles_nested__9x7QS .styles_avatarWrapper__2WkCy {\n\tmargin-left: 5px;\n}\n\n.styles_messageContent__1EyvQ img {\n\tmax-width: 100%;\n\theight: auto;\n\tmax-height: 45vh;\n}\n\n.styles_messageContent__1EyvQ img[class^="latex"] {\n\tmax-width: none;\n}\n\n.styles_messageContent__1EyvQ img[src^="//latex"] {\n\tmax-width: none;\n}\n\n.styles_spyHeader__cQjTK {\n\tcolor: #777;\n}\n\n.styles_spyHeader__cQjTK .styles_username__3T3BZ {\n\tdisplay: inline;\n}\n\n.styles_spyHeader__cQjTK .styles_grayUsername__1WSAD {\n\tcolor: #777;\n}\n\n.styles_spyMessage__2gtgT {\n\tpadding: 5px 0px;\n}\n\n.styles_spyMessage__2gtgT > .styles_spyMessageContentWrapper__1acH5 {\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tflex-basis: auto;\n\toverflow: hidden;\n\tmargin: 0px;\n}\n\n.styles_spyMessage__2gtgT .styles_message__1aU1u {\n\tpadding: 0px;\n}\n\n.styles_outerSpy__12pcV .styles_spyMessageContentWrapper__1acH5 {\n\tpadding-left: 5px;\n}\n\n.styles_outerSpy__12pcV .styles_spyMessageContentWrapper__1acH5 .styles_messageContent__1EyvQ {\n\tbackground-color: #ededed;\n}\n\n.styles_nestedSpy__nUVpa .styles_spyMessageContentWrapper__1acH5 {\n\tpadding-left: 0px;\n}\n\n.styles_noBackground__2ZDfa .styles_spyMessageContentWrapper__1acH5 .styles_messageContent__1EyvQ {\n\tbackground-color: white;\n}\n\n/* Shared styles for condensed queue styles and whitespace setting compact */\n.styles_compact__rtcY7 {\n\tdisplay: block;\n\tpadding: 4px 0px;\n\twidth: 100%;\n}\n\n.styles_partiallyCompact__yrXuA {\n\tpadding: 4px 0px;\n}\n\n.styles_compact__rtcY7 .styles_avatarWrapper__2WkCy,\n.styles_partiallyCompact__yrXuA .styles_avatarWrapper__2WkCy {\n\tmargin-left: 5px;\n}\n\n.styles_compact__rtcY7 .styles_username__3T3BZ {\n\tdisplay: inline;\n\tfloat: none;\n\tpadding-right: 5px;\n\tvertical-align: top;\n}\n\n.styles_compact__rtcY7 .styles_messageContentWrapper__1YB6s {\n\tdisplay: block;\n\toverflow-x: auto;\n}\n\n.styles_compact__rtcY7 .styles_messageContent__1EyvQ {\n\tdisplay: inline;\n\tfloat: none;\n\tmax-width: 100%;\n}\n\n.styles_compact__rtcY7 .styles_scrollWrapper__2_HGy,\n.styles_compact__rtcY7 .styles_fadeWrapper__1c34m {\n\tdisplay: inline;\n}\n\n.styles_partiallyCompact__yrXuA .styles_messageContentWrapper__1YB6s {\n\tmargin-left: 0px;\n\tmargin-right: 5px;\n}\n\n/* These are dumb styles needed to make sure compact and partially compact messages stay aligned. */\n.styles_partiallyCompact__yrXuA.styles_privateMessage__YPVRJ {\n\tmargin-left: 4px;\n\tpadding-left: 6px;\n}\n.styles_partiallyCompact__yrXuA.styles_noAvatars__2wPgP {\n\tpadding-left: 6px;\n}\n\n/* Make BBCode [list] display properly */\n.styles_message__1aU1u .bbcode_list {\n\tpadding: revert;\n}\n\n/* Media query triggers at iPad Mini width. */\n@media only screen and (max-width: 768px) {\n\t.styles_messageContent__1EyvQ img {\n\t\tmax-height: 90vh;\n\t}\n}\n');var qd="shared-ui_username__30LVr",Xd="shared-ui_myself__-Xs7Z",Yd="shared-ui_green__3rSfc",Qd="shared-ui_orange__fKaSB",Jd="shared-ui_pink__1KtZC",Zd="shared-ui_purple__Y4ARx",ef="shared-ui_blue__1Y6GZ",tf="shared-ui_assistant__3NTYn",nf="shared-ui_instructor__u4q8g",rf="shared-ui_classroomToast__1HIWL",of="shared-ui_open__2mn8d";Ku(".shared-ui_username__30LVr {\n\tcolor: #1b365d;\n\tfont-size: 0.9em;\n\tfont-weight: bold;\n}\n\n.shared-ui_username__30LVr.shared-ui_myself__-Xs7Z.shared-ui_green__3rSfc {\n\tcolor: #55951b;\n}\n\n.shared-ui_username__30LVr.shared-ui_myself__-Xs7Z.shared-ui_orange__fKaSB {\n\tcolor: #f7521d;\n}\n\n.shared-ui_username__30LVr.shared-ui_myself__-Xs7Z.shared-ui_pink__1KtZC {\n\tcolor: #9d2235;\n}\n\n.shared-ui_username__30LVr.shared-ui_myself__-Xs7Z.shared-ui_purple__Y4ARx {\n\tcolor: #550074;\n}\n\n.shared-ui_username__30LVr.shared-ui_myself__-Xs7Z.shared-ui_blue__1Y6GZ {\n\tcolor: #2b3990;\n}\n\n.shared-ui_username__30LVr.shared-ui_assistant__3NTYn {\n\tcolor: #008c95;\n}\n\n.shared-ui_username__30LVr.shared-ui_instructor__u4q8g {\n\tcolor: #008c95;\n}\n\n/* Make BA smiley display properly */\nimg.classroom-emoticon-theme-ba {\n\theight: 2em !important;\n\tvertical-align: middle;\n}\n\n.whitespaceSettingCompact img.classroom-emoticon-theme-ba {\n\theight: 1.4em !important;\n}\n\n#shared-ui_classroomToast__1HIWL {\n\tvisibility: hidden; /* Hidden by default. Visible on click */\n\tmin-width: 250px; /* Set a default minimum width */\n\tmargin-left: -125px; /* Divide value of min-width by 2 */\n\tbackground-color: #fff; /* Black background color */\n\tcolor: #000; /* White text color */\n\ttext-align: center; /* Centered text */\n\tborder-radius: 2px; /* Rounded borders */\n\tborder-top: 10px solid blue;\n\tpadding: 16px; /* Padding */\n\tposition: fixed; /* Sit on top of the screen */\n\tz-index: 100; /* Add a z-index if needed */\n\tleft: 50%; /* Center the snackbar */\n\tbottom: 30px; /* 30px from the bottom */\n\tbox-shadow: 5px 5px 20px #888;\n}\n\n#shared-ui_classroomToast__1HIWL.shared-ui_open__2mn8d {\n\tvisibility: visible; /* Show the snackbar */\n\t/* Add animation: Take 0.5 seconds to fade in and out. */\n\t/* However, delay the fade out process for 2.5 seconds */\n\tanimation: shared-ui_toastFadein__1gVZP 0.5s, shared-ui_toastFadeout__NYzuM 0.5s 2.5s;\n}\n\n@keyframes shared-ui_toastFadein__1gVZP {\n\tfrom {\n\t\tbottom: 0;\n\t\topacity: 0;\n\t}\n\tto {\n\t\tbottom: 30px;\n\t\topacity: 1;\n\t}\n}\n\n@keyframes shared-ui_toastFadeout__NYzuM {\n\tfrom {\n\t\tbottom: 30px;\n\t\topacity: 1;\n\t}\n\tto {\n\t\tbottom: 0;\n\t\topacity: 0;\n\t}\n}\n");var sf="styles_messageGroupWrapper__CZM6k",af="styles_bottomBorder__1WhTM",lf="styles_threeQuarters__vjhbI",cf="styles_fullWidth__2ir2q",uf="styles_flex__38mD6";Ku(".styles_messageGroupWrapper__CZM6k {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n\tgrid-auto-flow: dense;\n\n\tbackground: #ededed;\n\tborder-left: 10px solid #bbbbbb;\n\tborder-right: 10px solid #bbbbbb;\n}\n\n.styles_bottomBorder__1WhTM {\n\theight: 2px;\n\twidth: 100%;\n}\n\n.styles_threeQuarters__vjhbI {\n\tgrid-column: 1/-2;\n}\n\n.styles_fullWidth__2ir2q {\n\tgrid-column: 1/-1;\n}\n\n.styles_flex__38mD6 > * {\n\theight: 100%;\n}\n");var hf=function(){function t(n){var i=this;e(this,t),r(this,"values",void 0),r(this,"sums",void 0),this.values=[],this.sums=[],n.forEach((function(e){i.append(e)}))}return n(t,[{key:"append",value:function(e){var t=this.sums.length,n=t?this.sums[t-1]+this.values[t-1]:0;this.sums.push(n),this.values.push(e)}},{key:"insert",value:function(e,t){e>this.values.length?this.append(t):e>=0&&(this.values.splice(e,0,0),this.sums.splice(e,0,this.sums[e]),this.update([{value:t,index:e}]))}},{key:"remove",value:function(e){var t=this,n=e.map((function(e){return{value:0,index:e}}));this.update(n),g(e).sort((function(e,t){return t-e})).forEach((function(e){0<=e&&e<t.values.length&&(t.values.splice(e,1),t.sums.splice(e,1))}))}},{key:"update",value:function(e){var t=this;e.forEach((function(e){0<=e.index&&e.index<t.values.length&&(t.values[e.index]=e.value)}));for(var n=0,r=0;r<this.values.length;r++)this.sums[r]=n,n+=this.values[r]}},{key:"getSum",value:function(e){if(0<=e&&e<this.sums.length)return this.sums[e];if(e===this.sums.length){var t=this.sums.length-1;return this.sums[t]+this.values[t]}return-1}},{key:"getSumAtRange",value:function(e,t){return this.sums.slice(e,t)}}]),t}();var df=new(function(){function t(){e(this,t),r(this,"VIEW_PADDING",200),r(this,"THROTTLE_TIME",100),r(this,"viewsToDataMap",new Map),this.onHeightChange=this.onHeightChange.bind(this),this.updateViewOnScroll=this.updateViewOnScroll.bind(this),this.updateAllViews=this.updateAllViews.bind(this)}return n(t,[{key:"initView",value:function(e,t){var n=this.viewsToDataMap.get(e);return n||(n=this.initViewData(e,t),this.viewsToDataMap.set(e,n),n)}},{key:"initViewData",value:function(e,t){var n=this,r=t.appendChild(document.createElement("div"));return r.setAttribute("id","lastMessage"),r.style.position="absolute",r.style.height="1px",r.style.width="100%",r.style.top="0px",{messageOrdering:[],viewTopDataMap:new Map,heightValues:new hf([]),containerElement:t,lastElement:r,visibleElementsStartIndex:0,visibleElementsEndIndex:0,throttledUpdateVisibleHelper:Nh.throttle((function(){setTimeout((function(){return n.updateVisibleHelper(e)}),0)}),this.THROTTLE_TIME)}}},{key:"clearViewData",value:function(e){var t=this.viewsToDataMap.get(e);t&&(t.lastElement.remove(),this.viewsToDataMap.delete(e))}},{key:"hasView",value:function(e){return!!this.viewsToDataMap.get(e)}},{key:"addMessage",value:function(e,t,n,r){if(void 0!==t.id){var i=this.viewsToDataMap.get(e);if(!i){if(!n.parentElement||!n.parentElement.parentElement)throw new Error("Subview must be initialized before messages can be added.");var o=n.parentElement.parentElement;console.log("E_MISSING_VIEW_DATA, substituting grandparent element for container","viewId: ".concat(e),"messageId: ".concat(t.id),"message: ".concat(t.message)),i=this.initView(e,o)}var s={id:t.id,timestamp:t.timestamp},a=n.clientHeight,l=function e(t,n,r,i,o){if(void 0===i&&(i=n.length-1),o=o||0,!n.length||r(n[i],t)>0)return-1;if(i<=o)return i;var s=Math.floor((i+o)/2);return r(n[s+1],t)>0?e(t,n,r,i,s+1):r(n[s],t)>0?s+1:e(t,n,r,s,o)}(s,i.messageOrdering,this.isMsg1Before2);l>-1?(i.messageOrdering.splice(l,0,s),i.heightValues.insert(l,a)):(i.messageOrdering.push(s),i.heightValues.append(a),l=i.messageOrdering.length-1);var c=i.heightValues.getSum(l);n.parentElement&&(n.parentElement.style.top=c+"px");var u={message:t,top:c,height:a,element:n,onDisplay:r};i.viewTopDataMap.set(s.id,u),this.isInScrollView(i,l)?this.display(u):this.undisplay(u),this.updateVisibleHelper(e)}}},{key:"updateMessage",value:function(e,t,n){var r=this.viewsToDataMap.get(e);if(r){var i=r.viewTopDataMap.get(t);i&&i.element!==n&&(i.element=n,n.parentElement&&(n.parentElement.style.top=i.top+"px"),r.throttledUpdateVisibleHelper())}}},{key:"removeMessage",value:function(e,t){var n=this.viewsToDataMap.get(e);if(n&&(this.onHeightChange(e,t,0),n.viewTopDataMap.get(t))){n.viewTopDataMap.delete(t);var r=n.messageOrdering.findIndex((function(e){return e.id===t}));r>-1&&(n.messageOrdering.splice(r,1),n.heightValues.remove([r])),n.messageOrdering.length<=0?this.clearViewData(e):n.throttledUpdateVisibleHelper()}}},{key:"onMultipleHeightChanges",value:function(e,t){var n=this.viewsToDataMap.get(e);if(n){var r=t.reduce((function(e,t){var n=t.newHeight;if(Number.isNaN(n)){if(t.topHeightObj.isHidden)return e;n=0}return t.topHeightObj.height===n||(t.topHeightObj.height=n,e.push({value:t.newHeight,index:t.i})),e}),[]);r.length&&(n.heightValues.update(r),this.updateVisibleTops(n),n.throttledUpdateVisibleHelper())}}},{key:"onHeightChange",value:function(e,t,n){var r=this.viewsToDataMap.get(e);if(r){var i=r.viewTopDataMap.get(t);if(i){var o=r.messageOrdering.findIndex((function(e){return e.id===t}));this.onMultipleHeightChanges(e,[{i:o,topHeightObj:i,newHeight:n}])}}}},{key:"updateViewOnScroll",value:function(e,t){var n=this.viewsToDataMap.get(e);if(n){if(t)n.containerElement=t;else{if(!n.containerElement)return;t=n.containerElement}this.updateVisibleHelper(e)}}},{key:"updateAllViews",value:function(){var e,t=y(this.viewsToDataMap.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.updateViewOnScroll(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"updateVisibleHelper",value:function(e){var t=this,n=this.viewsToDataMap.get(e);if(n&&(n.throttledUpdateVisibleHelper.cancel(),n.containerElement&&0!==n.messageOrdering.length)){for(var r=n.messageOrdering.length-1,i=this.getStartIndex(n),o=this.getEndIndex(n),s=void 0,a=void 0,l=!1,c=[],u=i;u<o+1;u++)if(n.messageOrdering&&n.messageOrdering[u]){var h=n.messageOrdering[u].id,d=n.viewTopDataMap.get(h);d?d.element&&(this.isInScrollView(n,u)?(d.isHidden&&c.push({i:u,topHeightObj:d,display:!0}),a=u,l||(s=u,l=!0)):c.push({i:u,topHeightObj:d,display:!1})):console.log("E_MISSING_TOPHEIGHTOBJ","Missing topHeightObj in TopTracker for msgid ".concat(h,"."),JSON.stringify({viewId:e,start:i,end:o,i:u,messageOrdering:n.messageOrdering,message:n.messageOrdering?n.messageOrdering[u]:"n/a",timestamp:Date.now()}))}else console.log("E_MISSING_MESSAGE","In TopTracker.updateVisibleHelper, messageOrdering was missing",JSON.stringify({viewId:e,start:i,end:o,i:u,messageOrdering:n.messageOrdering,message:n.messageOrdering?n.messageOrdering[u]:"n/a",timestamp:Date.now()}));if(!l||s===i)for(var f=i;f>=0;){if(n.messageOrdering[f]&&n.messageOrdering[f].id>-1){var p=n.messageOrdering[f].id,g=n.viewTopDataMap.get(p);if(g){if(this.isInScrollView(n,f))s=f,l||(a=f,l=!0),g.element&&c.push({i:f,topHeightObj:g,display:!0});else if(c.push({i:f,topHeightObj:g,display:!1}),l)break}else console.log("E_MISSING_TOPHEIGHTOBJ","Missing topHeightObj in TopTracker for msgid ".concat(p,"."),JSON.stringify({viewId:e,start:i,end:o,i:f,messageOrdering:n.messageOrdering,message:n.messageOrdering?n.messageOrdering[f]:"n/a",timestamp:Date.now()}))}else console.log("E_MISSING_INDEX","In TopTracker backward loop, an index was missing.",JSON.stringify({viewId:e,start:i,i:f,foundVisibleSection:l,tops:n.heightValues.sums,heights:n.heightValues.values,messageOrdering:n.messageOrdering,timestamp:Date.now()}));f--}if(!l||a===o)for(var m=o;m<=r;){if(n.messageOrdering[m]&&n.messageOrdering[m].id>-1){var v=n.messageOrdering[m].id,y=n.viewTopDataMap.get(v);if(y){if(this.isInScrollView(n,m))a=m,l||(s=m,l=!0),y.element&&c.push({i:m,topHeightObj:y,display:!0});else if(c.push({i:m,topHeightObj:y,display:!1}),l)break}else console.log("E_MISSING_TOPHEIGHTOBJ","Missing topHeightObj in TopTracker for msgid ".concat(v,"."),JSON.stringify({viewId:e,start:i,end:o,i:m,messageOrdering:n.messageOrdering,message:n.messageOrdering?n.messageOrdering[m]:"n/a",timestamp:Date.now()}))}else console.log("E_MISSING_INDEX","In TopTracker forward loop, an index was missing.",JSON.stringify({viewId:e,i:m,end:o,maxIndex:r,foundVisibleSection:l,tops:n.heightValues.sums,heights:n.heightValues.values,messageOrdering:n.messageOrdering,timestamp:Date.now()}));m++}c.forEach((function(e){e.i;var n=e.topHeightObj;e.display?n.element&&t.display(n):t.undisplay(n)}));var b=[];c.forEach((function(e){var t=e.i,n=e.topHeightObj;if(e.display&&n.element){var r=n.element.clientHeight;r!==n.height&&b.push({i:t,topHeightObj:n,newHeight:r})}}));var w=n.heightValues.getSum(r)+n.heightValues.values[r];n.lastElement.style.top=w+"px",void 0!==s&&void 0!==a||(console.log("E_NOTHING_VISIBLE","In TopTracker.updateVisibleHelper, newStart or newEnd was undefined",JSON.stringify({viewId:e,newStart:s,newEnd:a,start:i,end:o,foundVisibleSection:l,messageOrdering:n.messageOrdering,tops:n.heightValues.sums,heights:n.heightValues.values,timestamp:Date.now()})),s=void 0===s?i:s,a=void 0===a?o:a),n.visibleElementsStartIndex=s,n.visibleElementsEndIndex=a,b.length?this.onMultipleHeightChanges(e,b):this.updateVisibleTops(n)}}},{key:"isInScrollView",value:function(e,t){var n=e.containerElement;if(!n)return!1;var r=n.scrollTop-this.VIEW_PADDING,i=n.scrollTop+n.clientHeight+this.VIEW_PADDING,o=e.heightValues.getSum(t);return e.heightValues.getSum(t+1)>=r&&o<=i}},{key:"updateVisibleTops",value:function(e){if(0!==e.messageOrdering.length)for(var t=this.getStartIndex(e),n=this.getEndIndex(e),r=t;r<n+1;r++){var i=e.messageOrdering[r].id,o=e.viewTopDataMap.get(i);if(o){var s=o.element,a=e.heightValues.getSum(r);s&&o.top!==a&&(o.top=a,s.parentElement&&(s.parentElement.style.top=a+"px"))}else console.log("E_MISSING_TOPHEIGHTOBJ","Missing topHeightObj in TopTracker for msgid ".concat(i,"."),JSON.stringify({viewData:e,start:t,end:n,i:r,messageOrdering:e.messageOrdering,message:e.messageOrdering?e.messageOrdering[r]:"n/a",timestamp:Date.now()}))}}},{key:"getStartIndex",value:function(e){if(0===e.messageOrdering.length)return 0;var t=e.messageOrdering.length-1;return Math.min(Math.max(0,e.visibleElementsStartIndex),t)}},{key:"getEndIndex",value:function(e){if(0===e.messageOrdering.length)return-1;var t=e.messageOrdering.length-1;return Math.max(Math.min(e.visibleElementsEndIndex,t),0)}},{key:"display",value:function(e){e.element&&(e.isHidden&&(this.shouldAlwaysDisplay(e)?e.element.style.left="":e.element.style.display="",e.isHidden=!1),e.onDisplay&&e.onDisplay())}},{key:"undisplay",value:function(e){e.element&&(e.isHidden||(this.shouldAlwaysDisplay(e)?e.element.style.left="-10000px":e.element.style.display="none",e.isHidden=!0))}},{key:"shouldAlwaysDisplay",value:function(e){return!(!e.message||"motor"!==e.message.type)}},{key:"isMsg1Before2",value:function(e,t){return e.timestamp<t.timestamp?1:e.timestamp>t.timestamp?-1:e.id<t.id?1:e.id>t.id?-1:0}}]),t}()),ff=fh(zu(function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"height",void 0),r(h(n),"bucketRef",he()),n.checkVerticalSizeChange=n.checkVerticalSizeChange.bind(h(n)),n.onTopTrackerDisplay=n.onTopTrackerDisplay.bind(h(n)),n.state={overflowCheckedAt:void 0},n}return n(o,[{key:"componentDidMount",value:function(){var e=this;this.bucketRef.current&&this.props.viewId&&(df.addMessage(this.props.viewId,this.props.bucket,this.bucketRef.current,this.onTopTrackerDisplay),this.props.bucket.children.forEach((function(t){df.removeMessage(e.props.viewId,t)})),this.checkVerticalSizeChange())}},{key:"componentWillUnmount",value:function(){this.props.viewId&&df.removeMessage(this.props.viewId,this.props.bucket.id)}},{key:"render",value:function(){var e=this.props.client,t=this.props.bucket.children;if(0===t.length)return null;var n,r=[],i=[],o=[],s=y(t);try{for(s.s();!(n=s.n()).done;){var a=n.value,l=e.messageUtils.getMessage("main",a);if(l){var c=l.canonical?l.canonical.length:l.message.length;c>275?o.push(l):c>100?i.push(l):r.push(l)}}}catch(e){s.e(e)}finally{s.f()}for(var u=i.length-r.length,h=0;h<u;h++){var d=i.pop();d&&o.push(d)}for(var f=[],p=0,g=o;p<g.length;p++){var m=g[p];f.push(ue.createElement("div",{key:"wrapper-response-full-".concat(m.id),className:cf},ue.createElement(wg,{key:"response-full-".concat(m.id),doScroll:this.props.doScroll,message:m,client:e,renderPassedMessages:!0,getHoverElement:this.props.getHoverElement,onJaxRendered:this.checkVerticalSizeChange,parentOverflowCheckedAt:this.state.overflowCheckedAt})))}for(var v=0,b=i;v<b.length;v++){var w=b[v];f.push(ue.createElement("div",{key:"wrapper-response-threeQ-".concat(w.id),className:lf},ue.createElement(wg,{key:"response-threeQ-".concat(w.id),doScroll:this.props.doScroll,message:w,client:e,renderPassedMessages:!0,getHoverElement:this.props.getHoverElement,onJaxRendered:this.checkVerticalSizeChange,parentOverflowCheckedAt:this.state.overflowCheckedAt})))}for(var _=0,S=r;_<S.length;_++){var x=S[_];f.push(ue.createElement("div",{key:"wrapper-response-small-".concat(x.id),className:uf},ue.createElement(wg,{key:"response-small-".concat(x.id),doScroll:this.props.doScroll,message:x,client:e,renderPassedMessages:!0,getHoverElement:this.props.getHoverElement,onJaxRendered:this.checkVerticalSizeChange,parentOverflowCheckedAt:this.state.overflowCheckedAt})))}return ue.createElement("div",{className:[this.props.wrapperClass].join(" ")},ue.createElement("div",{ref:this.bucketRef},ue.createElement("div",{className:sf},f),ue.createElement("div",{className:af})))}},{key:"componentDidUpdate",value:function(){this.checkVerticalSizeChange()}},{key:"onTopTrackerDisplay",value:function(){this.setState({overflowCheckedAt:Date.now()})}},{key:"checkVerticalSizeChange",value:function(){if(this.bucketRef&&this.bucketRef.current&&this.props.viewId&&void 0!==this.props.bucket.id){var e=parseFloat(getComputedStyle(this.bucketRef.current).height);Number.isNaN(e)||e===this.height||df.onHeightChange(this.props.viewId,this.props.bucket.id,e)}}}]),o}(ue.Component))),pf="styles_classroomAvatar__188t4",gf="styles_queueAvatar__6UIGw",mf="styles_userlistAvatar__b62Kn",vf="styles_avatar__gdIPG";Ku(".styles_classroomAvatar__188t4 {\n\twidth: 32px;\n\theight: 32px;\n}\n\n.whitespaceSettingCompact .styles_classroomAvatar__188t4 {\n\tfloat: left;\n\tmargin-right: 5px;\n\twidth: 1.4em;\n\theight: 1.4em;\n}\n\n.styles_queueAvatar__6UIGw {\n\tfloat: left;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tmargin-right: 5px;\n}\n\n.styles_userlistAvatar__b62Kn {\n\twidth: 20px;\n\theight: 20px;\n\tuser-select: none;\n}\n\n.whitespaceSettingCompact .styles_userlistAvatar__b62Kn {\n\twidth: 16px;\n\theight: 16px;\n}\n\n.styles_avatar__gdIPG {\n\theight: 100%;\n\twidth: 100%;\n\tuser-select: none;\n}\n");var yf=zu(function(t){a(i,t);var r=f(i);function i(t){var n;return e(this,i),(n=r.call(this,t)).state={isFlashing:!0},n}return n(i,[{key:"render",value:function(){if(!this.props.client.roomUtils.getRenderAvatars())return null;var e=this.props.user,t=[];return"string"==typeof this.props.avatarClass&&t.push(this.props.avatarClass),"main"===this.props.avatarLocation?t.push(pf):"queue"===this.props.avatarLocation?t.push(gf):"userlist"===this.props.avatarLocation&&t.push(mf),ue.createElement("div",{className:t.join(" ")},ue.createElement("img",{src:"".concat(e?e.avatar:"https://avatar.artofproblemsolving.com/avatar.jpg"),className:vf}))}}]),i}(ue.Component)),bf={wrapper:"styles_wrapper__tqVIy",barGraph:"styles_barGraph__1y8-j",problemText:"styles_problemText__3WgFZ",submitButton:"styles_submitButton__2eCZJ",disabled:"styles_disabled__327kf",enabled:"styles_enabled__EtfnG"};Ku(".styles_wrapper__tqVIy {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.styles_wrapper__tqVIy.styles_barGraph__1y8-j {\n\t/* \n\tThis is hardcoded to the default width of the BarGraph motor!\n\tIf we change the width of the histogram we're creating, we should update this. \n\t\n\tCurrently, BarGraphs are only created by classroom itself for the histogram view.\n\tIf we decide to support BarGraph motors created by users, we need to update this\n\twidth to be dynamically set to each specific BarGraph motor width.\n\t*/\n\twidth: 550px;\n}\n\n.styles_problemText__3WgFZ {\n\twhite-space: normal;\n\n\t/* This margin is to match the spacing in the motored preview. */\n\tmargin-bottom: 10px;\n}\n\n.styles_submitButton__2eCZJ {\n\talign-self: center;\n\tpadding: 3px 20px;\n\tborder-radius: 5px;\n\tfont-weight: 500;\n\tmargin-top: 10px;\n\ttext-align: center;\n\tmargin-bottom: 5px;\n}\n\n.styles_submitButton__2eCZJ:hover {\n\tcursor: pointer;\n}\n\n.styles_submitButton__2eCZJ.styles_disabled__327kf {\n\tbackground-color: #bbbbbb;\n\tcolor: black;\n\tfont-style: italic;\n}\n\n.styles_submitButton__2eCZJ.styles_disabled__327kf:hover {\n\tcursor: not-allowed;\n}\n\n.styles_submitButton__2eCZJ.styles_enabled__EtfnG {\n\tbackground-color: #8ac53e;\n\tcolor: white;\n\tfont-style: normal;\n}\n\n.styles_submitButton__2eCZJ.styles_enabled__EtfnG:hover {\n\tbackground-color: #92d141;\n}\n");var wf=fh(zu(function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"driver",void 0),r(h(n),"renderedMotor",void 0),n.renderProblemText=n.renderProblemText.bind(h(n)),n.renderMotor=n.renderMotor.bind(h(n)),n.renderSubmitButton=n.renderSubmitButton.bind(h(n)),n.onClickSubmit=n.onClickSubmit.bind(h(n)),n.showEmptySubmitError=n.showEmptySubmitError.bind(h(n)),n.updateMotorInputs=n.updateMotorInputs.bind(h(n)),n.sanitizeOptions=n.sanitizeOptions.bind(h(n)),n.toggleStatic=n.toggleStatic.bind(h(n)),n}return n(o,[{key:"render",value:function(){var e=this.props.message;return e&&e.motor?ue.createElement("div",{className:[bf.wrapper,"BarGraph"===e.motor.type?bf.barGraph:""].join(" ")},this.renderProblemText(),this.renderMotor(),this.renderSubmitButton()):ue.createElement("div",null,ue.createElement("i",null,"Error generating motor."))}},{key:"componentDidUpdate",value:function(e){this.props.input!==e.input&&this.updateMotorInputs(),this.props.height!==e.height&&(this.props.onSizeChange&&this.props.onSizeChange(),this.props.doScroll&&this.props.doScroll()),this.props.isStatic!==e.isStatic&&this.toggleStatic()}},{key:"toggleStatic",value:function(){var e=this.props,t=e.client,n=e.message;if(!n.motor||!n.motor.options)return null;var r=n.motor,i=JSON.parse(JSON.stringify(r.options));if(this.props.isStatic){var o=t.messageUtils.getMyMotorResponse(n);if(o)i[r.parseFormat]=JSON.parse(JSON.stringify(o.parseResponse));"disabled"in this.driver.outputs.portMap&&(i.disabled=!0)}else{var s=t.messageUtils.getCurrentMotorInput(n);if(s){var a=n.motor.parseFormat;i[a]=JSON.parse(JSON.stringify(s[a]))}"disabled"in this.driver.outputs.portMap&&(i.disabled=!1)}i=this.sanitizeOptions(i),this.driver.outputs.sendData(i)}},{key:"renderProblemText",value:function(){var e=this.props.message;return e.motor&&e.motor.problemTextFmt?ue.createElement("div",{className:bf.problemText,dangerouslySetInnerHTML:{__html:e.motor.problemTextFmt}}):null}},{key:"renderMotor",value:function(){var e=this,t=this.props,n=t.client,r=t.message;if(this.renderedMotor)return this.renderedMotor;if(!r.motor||!r.motor.options)return null;var i=r.motor,o=i.type+"Driver",s=window.Motors.Drivers[o];this.driver=new s;var a=new window.Motors.Controller({driver:this.driver}),l=JSON.parse(JSON.stringify(i.options)),c=n.messageUtils.getCurrentMotorInput(r);if(c){var u=r.motor.parseFormat;l[u]=JSON.parse(JSON.stringify(c[u]))}return l=this.sanitizeOptions(l),a.start(l),this.driver.addResolveListener((function(t){e.props.isStatic||n.messageUtils.setCurrentMotorInput(r,t)})),this.driver.outputs.sendData(l),this.renderedMotor=a.render(),this.props.isStatic&&this.toggleStatic(),this.renderedMotor}},{key:"updateMotorInputs",value:function(){if(this.props.message.motor){var e=JSON.parse(JSON.stringify(this.props.client.messageUtils.getCurrentMotorInput(this.props.message))),t=this.props.message.motor.parseFormat;switch(this.props.message.motor.type){case"CodeWindow":this.driver.outputs.sendData({editorText:e.editorText});break;case"DragDropMathjax":if(String(e.draggableInEachDropArea)===String(this.driver.submotors[0].state.draggableInEachDropArea))return;this.driver.outputs.sendData({draggableInEachDropArea:e.draggableInEachDropArea});break;case"MultipleChoice":this.driver.outputs.sendData({selectedIndices:e.selectedIndices});break;case"DynamicGraph":if(e.newJax===this.driver.submotors[1].state.newJax)break;this.driver.outputs.sendData({values:e.values});break;case"MathjaxBlank":if(e.newJax===this.driver.submotors[0].state.newJax)break;this.driver.outputs.sendData({values:e.values});break;default:this.driver.outputs.sendData(r({},t,e[t]))}}}},{key:"renderSubmitButton",value:function(){var e=this.props.client,t=this.props.message;if(!t||!t.motor||t.motor.displayOnly)return null;var n="SUBMIT ANSWER",r=!0;e.messageUtils.getMyMotorResponse(t)&&(n="SUBMITTED",r=!1),e.messageUtils.getMotorIsClosed(t)&&(n="CLOSED",r=!1);var i=e.messageUtils.getMotorCanSubmit(t),o=void 0;return r&&!i&&(o=this.showEmptySubmitError),ue.createElement("div",{className:[bf.submitButton,i?bf.enabled:bf.disabled].join(" "),onClick:i?this.onClickSubmit:o},n)}},{key:"onClickSubmit",value:function(){var e=this.props,t=e.client,n=e.message;t.messageUtils.submitMotorResponse(n)}},{key:"showEmptySubmitError",value:function(){var e=this.props,t=e.client,n=e.message;if(!n||!n.motor||n.motor.displayOnly)return null;var r="Please input your response before submitting!";switch(n.motor.type){case"DragDropMathjax":r="Please fill out all blanks before submitting!";break;case"MultipleChoice":r="Please select an option before submitting!";break;case"DynamicGraph":case"MathjaxBlank":r="Please fill out all options before submitting!"}t.userUtils.addAlert({title:"Error",messages:[r]})}},{key:"sanitizeOptions",value:function(e){var t=this.driver.outputs.portMap;for(var n in e)n in t||delete e[n];return e}}]),o}(ue.Component))),_f=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}},Sf=_((function(e,t){!function(e){function t(e,t,n,r){var i,o=!1,s=0;function a(){i&&clearTimeout(i)}function l(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var h=this,d=Date.now()-s;function f(){s=Date.now(),n.apply(h,c)}function p(){i=void 0}o||(r&&!i&&f(),a(),void 0===r&&d>e?f():!0!==t&&(i=setTimeout(r?p:f,void 0===r?e-d:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){a(),o=!0},l}e.debounce=function(e,n,r){return void 0===r?t(e,n,!1):t(e,r,!1!==n)},e.throttle=t,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));w(Sf);var xf=_((function(e){(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}})),Cf=_((function(e){var t=e.exports={};t.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},t.isLegacyOpera=function(){return!!window.opera}})),kf=_((function(e){(e.exports={}).getOption=function(e,t,n){var r=e[t];if(null==r&&void 0!==n)return n;return r}})),Ef=function(e){var t=(e=e||{}).reporter,n=kf.getOption(e,"async",!0),r=kf.getOption(e,"auto",!0);r&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var i,o=Af(),s=!1;function a(){for(s=!0;o.size();){var e=o;o=Af(),e.process()}s=!1}function l(){var e;e=a,i=setTimeout(e,0)}return{add:function(e,t){!s&&r&&n&&0===o.size()&&l(),o.add(e,t)},force:function(e){s||(void 0===e&&(e=n),i&&(clearTimeout(i),i=null),e?l():a())}}};function Af(){var e={},t=0,n=0,r=0;return{add:function(i,o){o||(o=i,i=0),i>n?n=i:i<r&&(r=i),e[i]||(e[i]=[]),e[i].push(o),t++},process:function(){for(var t=r;t<=n;t++)for(var i=e[t],o=0;o<i.length;o++){(0,i[o])()}},size:function(){return t}}}function Rf(e){return e._erd}var Tf={initState:function(e){return e._erd={},Rf(e)},getState:Rf,cleanState:function(e){delete e._erd}},Mf=xf.forEach,Of=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,r=e.stateHandler.getState,i=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var o=function(){var e=document.createElement("div");e.style.cssText=a(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=a(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,r=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:r}}();function s(e){!function(e,t,n){if(!e.getElementById(t)){var r=n+"_animation",i=n+"_animation_active",o="/* Created by the element-resize-detector library. */\n";o+="."+n+" > div::-webkit-scrollbar { "+a(["display: none"])+" }\n\n",o+="."+i+" { "+a(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",o+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,r){r=r||function(t){e.head.appendChild(t)};var i=e.createElement("style");i.innerHTML=n,i.id=t,r(i)}(o+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style","erd_scroll_detection_container")}function a(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function l(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function c(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function u(e){return r(e).container.childNodes[0].childNodes[0].childNodes[0]}function h(e){return r(e).container.childNodes[0].childNodes[0].childNodes[1]}return s(window.document),{makeDetectable:function(e,s,c){function d(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(i.get(s),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function f(e){var t=r(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function p(){var e=window.getComputedStyle(s),t={};return t.position=e.position,t.width=s.offsetWidth,t.height=s.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function g(){if(d("storeStyle invoked."),r(s)){var e=p();r(s).style=e}else d("Aborting because element has been uninstalled")}function m(e,t,n){r(e).lastWidth=t,r(e).lastHeight=n}function v(){return 2*o.width+1}function y(){return 2*o.height+1}function b(e){return e+10+v()}function w(e){return e+10+y()}function _(e,t,n){var r=u(e),i=h(e),o=b(t),s=w(n),a=function(e){return 2*e+v()}(t),l=function(e){return 2*e+y()}(n);r.scrollLeft=o,r.scrollTop=s,i.scrollLeft=a,i.scrollTop=l}function S(){var e=r(s).container;if(!e){(e=document.createElement("div")).className="erd_scroll_detection_container",e.style.cssText=a(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(s).container=e,function(e){e.className+=" erd_scroll_detection_container_animation_active"}(e),s.appendChild(e);var t=function(){r(s).onRendered&&r(s).onRendered()};l(e,"animationstart",t),r(s).onAnimationStart=t}return e}function x(){if(d("Injecting elements"),r(s)){!function(){var n=r(s).style;if("static"===n.position){s.style.setProperty("position","relative",e.important?"important":"");var i=function(e,t,n,r){var i=n[r];"auto"!==i&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(i)&&(e.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};i(t,s,n,"top"),i(t,s,n,"right"),i(t,s,n,"bottom"),i(t,s,n,"left")}}();var n=r(s).container;n||(n=S());var i,c,u,h,f=o.width,p=o.height,g=a(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),m=a(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(i=(i=-(1+f))?i+"px":"0"),"top: "+(c=(c=-(1+p))?c+"px":"0"),"right: "+(h=(h=-f)?h+"px":"0"),"bottom: "+(u=(u=-p)?u+"px":"0")])),v=a(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=a(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=a(["position: absolute","left: 0","top: 0"]),w=a(["position: absolute","width: 200%","height: 200%"]),_=document.createElement("div"),x=document.createElement("div"),C=document.createElement("div"),k=document.createElement("div"),E=document.createElement("div"),A=document.createElement("div");_.dir="ltr",_.style.cssText=g,_.className="erd_scroll_detection_container",x.className="erd_scroll_detection_container",x.style.cssText=m,C.style.cssText=v,k.style.cssText=b,E.style.cssText=y,A.style.cssText=w,C.appendChild(k),E.appendChild(A),x.appendChild(C),x.appendChild(E),_.appendChild(x),n.appendChild(_),l(C,"scroll",R),l(E,"scroll",T),r(s).onExpandScroll=R,r(s).onShrinkScroll=T}else d("Aborting because element has been uninstalled");function R(){r(s).onExpand&&r(s).onExpand()}function T(){r(s).onShrink&&r(s).onShrink()}}function C(){function o(t,n,r){var i=function(e){return u(e).childNodes[0]}(t),o=b(n),s=w(r);i.style.setProperty("width",o+"px",e.important?"important":""),i.style.setProperty("height",s+"px",e.important?"important":"")}function a(a){var c=s.offsetWidth,u=s.offsetHeight,h=c!==r(s).lastWidth||u!==r(s).lastHeight;d("Storing current size",c,u),m(s,c,u),n.add(0,(function(){if(h)if(r(s))if(l()){if(e.debug){var n=s.offsetWidth,a=s.offsetHeight;n===c&&a===u||t.warn(i.get(s),"Scroll: Size changed before updating detector elements.")}o(s,c,u)}else d("Aborting because element container has not been initialized");else d("Aborting because element has been uninstalled")})),n.add(1,(function(){r(s)?l()?_(s,c,u):d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")})),h&&a&&n.add(2,(function(){r(s)?l()?a():d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")}))}function l(){return!!r(s).container}function c(){d("notifyListenersIfNeeded invoked");var e=r(s);return void 0===r(s).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void Mf(r(s).listeners,(function(e){e(s)})))}function p(){d("Scroll detected."),f(s)?d("Scroll event fired while unrendered. Ignoring..."):a(c)}if(d("registerListenersAndPositionElements invoked."),r(s)){r(s).onRendered=function(){if(d("startanimation triggered."),f(s))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var e=u(s),t=h(s);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(d("Scrollbars out of sync. Updating detector elements..."),a(c))}},r(s).onExpand=p,r(s).onShrink=p;var g=r(s).style;o(s,g.width,g.height)}else d("Aborting because element has been uninstalled")}function k(){if(d("finalizeDomMutation invoked."),r(s)){var e=r(s).style;m(s,e.width,e.height),_(s,e.width,e.height)}else d("Aborting because element has been uninstalled")}function E(){c(s)}function A(){var e;d("Installing..."),r(s).listeners=[],e=p(),r(s).startSize={width:e.width,height:e.height},d("Element start size",r(s).startSize),n.add(0,g),n.add(1,x),n.add(2,C),n.add(3,k),n.add(4,E)}c||(c=s,s=e,e=null),e=e||{},d("Making detectable..."),!function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===window.getComputedStyle(e)}(s)?A():(d("Element is detached"),S(),d("Waiting until element is attached..."),r(s).onRendered=function(){d("Element is now attached"),A()})},addListener:function(e,t){if(!r(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");r(e).listeners.push(t)},uninstall:function(e){var t=r(e);t&&(t.onExpandScroll&&c(u(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&c(h(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&c(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:s}},$f=xf.forEach;function Lf(e){return Array.isArray(e)||void 0!==e.length}function If(e){if(Array.isArray(e))return e;var t=[];return $f(e,(function(e){t.push(e)})),t}function Pf(e){return e&&1===e.nodeType}function Df(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}function Nf(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var Ff=Nf(ue),Bf=Nf(ru),Uf=Nf(_f),zf=Nf((function(e){var t,n;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var r=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var i=t.generate();return r.id=i,i}}}({idGenerator:(n=1,{generate:function(){return n++}}),stateHandler:Tf});t=r}var i=e.reporter;i||(i=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}(!1===i));var o=Df(e,"batchProcessor",Ef({reporter:i})),s={};s.callOnAdd=!!Df(e,"callOnAdd",!0),s.debug=!!Df(e,"debug",!1);var a,l=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var i=e.get(n);t[i]||(t[i]=[]),t[i].push(r)},removeListener:function(e,t){for(var r=n(e),i=0,o=r.length;i<o;++i)if(r[i]===t){r.splice(i,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}(t),c=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}({stateHandler:Tf}),u=Df(e,"strategy","object"),h=Df(e,"important",!1),d={reporter:i,batchProcessor:o,stateHandler:Tf,idHandler:t,important:h};if("scroll"===u&&(Cf.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),u="object"):Cf.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),u="object")),"scroll"===u)a=Of(d);else{if("object"!==u)throw new Error("Invalid strategy name: "+u);a=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function o(e){return r(e).object}return{makeDetectable:function(e,o,s){s||(s=o,o=e,e=null),(e=e||{}).debug,Cf.isIE(8)?s(o):function(o,s){var a=i(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),l=!1,c=window.getComputedStyle(o),u=o.offsetWidth,h=o.offsetHeight;function d(){function n(){if("static"===c.position){o.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,i){var o=r[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(t.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",n),n.style.setProperty(i,"0",e.important?"important":""))};n(t,o,c,"top"),n(t,o,c,"right"),n(t,o,c,"bottom"),n(t,o,c,"left")}}""!==c.position&&(n(),l=!0);var i=document.createElement("object");i.style.cssText=a,i.tabIndex=-1,i.type="text/html",i.setAttribute("aria-hidden","true"),i.onload=function(){l||n(),function e(t,n){if(!t.contentDocument){var i=r(t);return i.checkForObjectDocumentTimeoutId&&window.clearTimeout(i.checkForObjectDocumentTimeoutId),void(i.checkForObjectDocumentTimeoutId=setTimeout((function(){i.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){s(o)}))},Cf.isIE()||(i.data="about:blank"),r(o)&&(o.appendChild(i),r(o).object=i,Cf.isIE()&&(i.data="about:blank"))}r(o).startSize={width:u,height:h},n?n.add(d):d()}(o,s)},addListener:function(e,t){function n(){t(e)}if(Cf.isIE(8))r(e).object={proxy:n},e.attachEvent("onresize",n);else{var i=o(e);if(!i)throw new Error("Element is not detectable by this strategy.");i.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(r(e)){var t=o(e);t&&(Cf.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),r(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(e).checkForObjectDocumentTimeoutId),delete r(e).object)}}}}(d)}var f={};return{listenTo:function(e,n,r){function o(e){var t=l.get(e);$f(t,(function(t){t(e)}))}function u(e,t,n){l.add(t,n),e&&n(t)}if(r||(r=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!r)throw new Error("Listener required.");if(Pf(n))n=[n];else{if(!Lf(n))return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=If(n)}var d=0,p=Df(e,"callOnAdd",s.callOnAdd),g=Df(e,"onReady",(function(){})),m=Df(e,"debug",s.debug);$f(n,(function(e){Tf.getState(e)||(Tf.initState(e),t.set(e));var s=t.get(e);if(m&&i.log("Attaching listener to element",s,e),!c.isDetectable(e))return m&&i.log(s,"Not detectable."),c.isBusy(e)?(m&&i.log(s,"System busy making it detectable"),u(p,e,r),f[s]=f[s]||[],void f[s].push((function(){++d===n.length&&g()}))):(m&&i.log(s,"Making detectable..."),c.markBusy(e,!0),a.makeDetectable({debug:m,important:h},e,(function(e){if(m&&i.log(s,"onElementDetectable"),Tf.getState(e)){c.markAsDetectable(e),c.markBusy(e,!1),a.addListener(e,o),u(p,e,r);var t=Tf.getState(e);if(t&&t.startSize){var l=e.offsetWidth,h=e.offsetHeight;t.startSize.width===l&&t.startSize.height===h||o(e)}f[s]&&$f(f[s],(function(e){e()}))}else m&&i.log(s,"Element uninstalled before being detectable.");delete f[s],++d===n.length&&g()})));m&&i.log(s,"Already detecable, adding listener."),u(p,e,r),d++})),d===n.length&&g()},removeListener:l.removeListener,removeAllListeners:l.removeAllListeners,uninstall:function(e){if(!e)return i.error("At least one element is required.");if(Pf(e))e=[e];else{if(!Lf(e))return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=If(e)}$f(e,(function(e){l.removeAllListeners(e),a.uninstall(e),Tf.cleanState(e)}))},initDocument:function(e){a.initDocument&&a.initDocument(e)}}})),Wf=Nf((function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}));function jf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vf(e,t,n){return t&&Hf(e.prototype,t),n&&Hf(e,n),e}function Gf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kf(){return(Kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qf(Object(n),!0).forEach((function(t){Gf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jf(e,t)}function Qf(e){return(Qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jf(e,t){return(Jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ep(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tp(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ep(e):t}var np={};function rp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return np[e]||(np[e]=zf({strategy:e})),np[e]}var ip="react-sizeme: an error occurred whilst stopping to listen to node size changes",op={monitorWidth:!0,monitorHeight:!1,monitorPosition:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function sp(e){return e.displayName||e.name||"Component"}var ap=function(e){function t(){return jf(this,t),tp(this,Qf(t).apply(this,arguments))}return Yf(t,e),Vf(t,[{key:"render",value:function(){return ue.Children.only(this.props.children)}}]),t}(ue.Component);function lp(e){var t=e.className,n=e.style,r={};return t||n?(t&&(r.className=t),n&&(r.style=n)):r.style={width:"100%",height:"100%"},Ff.createElement("div",r)}Gf(ap,"displayName","SizeMeReferenceWrapper"),lp.displayName="SizeMePlaceholder";var cp=function(e){function t(t){var n=t.explicitRef,r=t.className,i=t.style,o=t.size,s=t.disablePlaceholder,a=(t.onSize,Zf(t,["explicitRef","className","style","size","disablePlaceholder","onSize"])),l=(null==o||null==o.width&&null==o.height&&null==o.position)&&!s,c={className:r,style:i};null!=o&&(c.size=o);var u=l?Ff.createElement(lp,{className:r,style:i}):Ff.createElement(e,Kf({},c,a));return Ff.createElement(ap,{ref:n},u)}return t.displayName="SizeMeRenderer(".concat(sp(e),")"),t};function up(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:op,t=e.monitorWidth,n=void 0===t?op.monitorWidth:t,r=e.monitorHeight,i=void 0===r?op.monitorHeight:r,o=e.monitorPosition,s=void 0===o?op.monitorPosition:o,a=e.refreshRate,l=void 0===a?op.refreshRate:a,c=e.refreshMode,u=void 0===c?op.refreshMode:c,h=e.noPlaceholder,d=void 0===h?op.noPlaceholder:h,f=e.resizeDetectorStrategy,p=void 0===f?op.resizeDetectorStrategy:f;Uf(n||i||s,'You have to monitor at least one of the width, height, or position when using "sizeMe"'),Uf(l>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),Uf("throttle"===u||"debounce"===u,'The refreshMode should have a value of "throttle" or "debounce"');var g="throttle"===u?Sf.throttle:Sf.debounce;return function(e){var t=cp(e),r=function(e){function r(){var e,t;jf(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return Gf(ep(t=tp(this,(e=Qf(r)).call.apply(e,[this].concat(a)))),"domEl",null),Gf(ep(t),"state",{width:void 0,height:void 0,position:void 0}),Gf(ep(t),"uninstall",(function(){if(t.domEl){try{t.detector.uninstall(t.domEl)}catch(e){console.warn(ip)}t.domEl=null}})),Gf(ep(t),"determineStrategy",(function(e){e.onSize?(t.callbackState||(t.callbackState=Xf({},t.state)),t.strategy="callback"):t.strategy="render"})),Gf(ep(t),"strategisedSetState",(function(e){"callback"===t.strategy&&(t.callbackState=e,t.props.onSize(e)),t.setState(e)})),Gf(ep(t),"strategisedGetState",(function(){return"callback"===t.strategy?t.callbackState:t.state})),Gf(ep(t),"refCallback",(function(e){t.element=e})),Gf(ep(t),"hasSizeChanged",(function(e,t){var r=e,o=t,a=r.position||{},l=o.position||{};return n&&r.width!==o.width||i&&r.height!==o.height||s&&(a.top!==l.top||a.left!==l.left||a.bottom!==l.bottom||a.right!==l.right)})),Gf(ep(t),"checkIfSizeChanged",g(l,(function(e){var r=e.getBoundingClientRect(),o=r.width,a=r.height,l=r.right,c=r.left,u=r.top,h=r.bottom,d={width:n?o:null,height:i?a:null,position:s?{right:l,left:c,top:u,bottom:h}:null};t.hasSizeChanged(t.strategisedGetState(),d)&&t.strategisedSetState(d)}))),t}return Yf(r,e),Vf(r,[{key:"componentDidMount",value:function(){this.detector=rp(p),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var e=this.element&&Bf.findDOMNode(this.element);e?this.domEl?(this.domEl.isSameNode&&!this.domEl.isSameNode(e)||this.domEl!==e)&&(this.uninstall(),this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):this.uninstall()}},{key:"render",value:function(){var e=up.enableSSRBehaviour||up.noPlaceholders||d||"callback"===this.strategy,n=Xf({},this.state);return Ff.createElement(t,Kf({explicitRef:this.refCallback,size:"callback"===this.strategy?null:n,disablePlaceholder:e},this.props))}}]),r}(Ff.Component);return Gf(r,"displayName","SizeMe(".concat(sp(e),")")),r.WrappedComponent=e,r}}up.enableSSRBehaviour=!1,up.noPlaceholders=!1;var hp=function(e){function t(e){var n;jf(this,t),Gf(ep(n=tp(this,Qf(t).call(this,e))),"createComponent",(function(e){n.SizeAware=up(e)((function(e){return e.children}))})),Gf(ep(n),"onSize",(function(e){return n.setState({size:e})}));e.children,e.render;var r=Zf(e,["children","render"]);return n.createComponent(r),n.state={size:{width:void 0,height:void 0}},n}return Yf(t,e),Vf(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=(t.children,t.render,Zf(t,["children","render"])),r=(e.children,e.render,Zf(e,["children","render"]));Wf(n,r)||this.createComponent(n)}},{key:"render",value:function(){var e=this.SizeAware,t=this.props.children||this.props.render;return Ff.createElement(e,{onSize:this.onSize},t({size:this.state.size}))}}]),t}(ue.Component);Gf(hp,"defaultProps",{children:void 0,render:void 0}),up.SizeMe=hp,up.withSize=up;var dp=up.SizeMe,fp=["pymarkup","python","pywindow"];function pp(e,t){var n=(t||{}).tagStyles||["slash"];return Uh(fp,(function(t,r){return t||Uh(n,(function(t,n){var i=mp(r,n);return t||!(!i||!i.test(e))}),t)}),!1)}function gp(e,t){var n=(t||{}).tagStyles||["slash"],r=Uh(fp,(function(t,r){return t||Uh(n,(function(t,n){if(!t){var i=mp(r,n);if(i){var o=e.match(i)||[];if(o.length){var s=o[1]||"";return(o[2]||"").match(/\n+/)?{tag:r,body:s.replace(/^([ \t]*\n)+/,"").replace(/\s+$/,"")}:{tag:r,body:s.trim()}}}}return t}),t)}),null);return r&&(t||{}).postProcess?function(e){var t={tag:e.tag,body:e.body,commands:(e.commands||[]).slice(0),files:(e.files||[]).slice(0)},n=t.body.match(/^#!pywindow\s+[\s\S]*?(\n|$)/gim)||[],r=t.body.match(/\[\s*pyfile\s*=\s*['"].+?['"]\s*\][\s\S]*?\[\s*\/pyfile\s*\]/gi)||[];return zh(n,(function(e){var n=e.split(/\s+/).slice(1),r=n[0]||"",i=n.slice(1)||[];t.commands=(t.commands||[]).concat([i.length?{type:r,args:i}:{type:r}]),t.body=t.body.replace(e,"")})),zh(r,(function(e){var n=e.match(/\[\s*pyfile\s*=\s*['"](.+?)['"]\s*\]([\s\S]*?)\[\s*\/pyfile\s*\]/i)||[];3===n.length&&(t.files=(t.files||[]).concat([{name:n[1],data:n[2],encoding:"standard"}]),t.body=t.body.replace(e,""))})),t.body=t.body.replace(/^([ \t]*\n)+/,"").replace(/\s+$/,""),t}(r):r}function mp(e,t){switch(t){case"slash":return new RegExp("^\\/".concat(e,"((\\s*)[\\s\\S]*|$)"),"i");case"semicolon":return new RegExp("^;".concat(e,"((\\s*)[\\s\\S]*|$)"),"i");case"bbcode":return new RegExp("^\\[".concat(e,"\\]((\\s*)[\\s\\S]*?)\\[\\/").concat(e,"\\]"),"i")}return null}var vp="styles_pyMarkupWrapper__3fo5X",yp="styles_pyWindowWrapper__1uJks",bp="styles_fileModalTitle__esJjK",wp="styles_fileModalTextWrapper__37s71",_p="styles_fileModalText__tUTuT",Sp="styles_fileModalButton__3U1KX";Ku(".styles_pyMarkupWrapper__3fo5X {\n\tmin-width: 30em;\n}\n\n.styles_pyWindowWrapper__1uJks {\n\tmin-width: 30em;\n}\n\n.styles_fileModalTitle__esJjK {\n\tpadding: 10px 10px 10px 20px;\n}\n\n.styles_fileModalTextWrapper__37s71 {\n\tfont-size: 1.1em;\n\tpadding: 15px 20px 10px;\n\toverflow-wrap: break-word;\n}\n\n.styles_fileModalText__tUTuT {\n\tmargin-bottom: 5px;\n}\n\n.styles_fileModalButton__3U1KX {\n\tpadding: 5px 15px;\n\tmargin: 0px 30px 25px 10px;\n}\n");var xp=_((function(e,t){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,r){"string"==typeof e?(2==arguments.length&&(r=n),t.modules[e]||(t.payloads[e]=r,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"==typeof t){var i=o(e,t);if(null!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],a=0,l=t.length;a<l;++a){var c=o(e,t[a]);if(null==c&&r.original)return;s.push(c)}return n&&n.apply(null,s)||!0}},r=function(e,t){var i=n("",e,t);return null==i&&r.original?r.original.apply(this,arguments):i},i=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return i(e,n[0])+"!"+i(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},o=function(e,r){r=i(e,r);var o=t.modules[r];if(!o){if("function"==typeof(o=t.payloads[r])){var s={},a={id:r,uri:"",exports:s,packaged:!0};s=o((function(e,t){return n(r,e,t)}),s,a)||a.exports,t.modules[r]=s,delete t.payloads[r]}o=t.modules[r]=s||o}return o};!function(n){var i=e;n&&(e[n]||(e[n]={}),i=e[n]),i.define&&i.define.packaged||(t.original=i.define,i.define=t,i.define.packaged=!0),i.require&&i.require.packaged||(r.original=i.require,i.require=r,i.require.packaged=!0)}("ace")}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],(function(e,t,n){"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r="object"==typeof navigator?navigator:{},i=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),o=r.userAgent||"",s=r.appName||"";t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){var r,i=e("./useragent");t.buildDom=function e(t,n,r){if("string"==typeof t&&t){var i=document.createTextNode(t);return n&&n.appendChild(i),i}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],n,r);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],u=1;c&&"object"==typeof c&&!Array.isArray(c)&&(u=2);for(s=u;s<t.length;s++)e(t[s],l,r);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?r&&(r[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(n=(t=t||document).querySelectorAll("style"))for(;r<n.length;)if(n[r++].id===e)return!0};var o=[];function s(){var e=o;o=null,e&&e.forEach((function(e){a(e[0],e[1])}))}function a(e,n,i){if("undefined"!=typeof document){if(o)if(i)s();else if(!1===i)return o.push([e,n]);if(!r){var a=i;i&&i.getRootNode&&(a=i.getRootNode())&&a!=i||(a=document);var l=a.ownerDocument||a;if(n&&t.hasCssString(n,a))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(c,a.firstChild)}}}if(t.useStrictCSP=function(e){r=e,0==e?s():o||(o=[])},t.importCssString=a,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e.documentElement;o.appendChild(r);var s=n.offsetWidth;i.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=r.clientWidth),o.removeChild(r),s-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!i.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,i.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),i.isEdge||void 0===l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){var r=e("./oop"),i=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){var r,i=e("./keys"),o=e("./useragent"),s=null,a=0;function l(){return null==r&&function(){r=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){r={passive:!1}}})}catch(e){}}(),r}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=t.addListener=function(e,t,n,r){e.addEventListener(t,n,l()),r&&r.$toDestroy.push(new c(e,t,n))},h=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var r=e&&e.ownerDocument||document;function i(e){t&&t(e),n&&n(e),h(r,"mousemove",t),h(r,"mouseup",i),h(r,"dragstart",i)}return u(r,"mousemove",t),u(r,"mouseup",i),u(r,"dragstart",i),i},t.addMouseWheelListener=function(e,t,n){"onmousewheel"in e?u(e,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)}),n):"onwheel"in e?u(e,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)}),n):u(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)}),n)},t.addMultiMouseDownListener=function(e,n,r,i,s){var a,l,c,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function f(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,o.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!s||(h=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[h-1]||600),1==h&&(a=e.clientX,l=e.clientY)}if(e._clicks=h,r[i]("mousedown",e),h>4)h=0;else if(h>1)return r[i](d[h],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){u(e,"mousedown",f,s)}))};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function f(e,t,n){var r=d(t);if(!o.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),s.altGr){if(3==(3&r))return;s.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;if(17===n&&1===l)1==s[n]&&(a=t.timeStamp);else if(18===n&&3===r&&2===l){t.timeStamp-a<50&&(s.altGr=!0)}}}if((n in i.MODIFIER_KEYS&&(n=-1),!r&&13===n)&&(3===(l="location"in t?t.location:t.keyLocation)&&(e(t,r,-n),t.defaultPrevented)))return;if(o.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS)&&e(t,r,n)}function p(){s=Object.create(null)}if(t.getModifierString=function(e){return i.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,n,r){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var i=null;u(e,"keydown",(function(e){i=e.keyCode}),r),u(e,"keypress",(function(e){return f(n,e,i)}),r)}else{var a=null;u(e,"keydown",(function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=f(n,e,e.keyCode);return a=e.defaultPrevented,t}),r),u(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),r),u(e,"keyup",(function(e){s[e.keyCode]=null}),r),s||(p(),u(window,"focus",p))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+g++,i=function(o){o.data==r&&(t.stopPropagation(o),h(n,"message",i),e())};u(n,"message",i),n.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){var r=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(r.row,r.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(r.row,r.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var i={row:t+1,column:0};else if(this.start.row<e)i={row:e,column:0};return r.fromPoints(i||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var i={row:e,column:t};else var o={row:e,column:t};return r.fromPoints(i||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new r(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(r.prototype),r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var r in n={},t)n[r]=e(t[r]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){var r;n.exports={lineMode:!1,pasteCancelled:function(){return!!(r&&r>Date.now()-50)||(r=!1)},cancel:function(){r=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),l=i.isChrome<18,c=i.isIE,u=i.isChrome>63,h=e("../lib/keys"),d=h.KEY_MODS,f=i.isIOS,p=f?/\s/:/\n/,g=i.isMobile;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var m=!1,v=!1,y=!1,b=!1,w="";g||(n.style.fontSize="1px");var _=!1,S=!1,x="",C=0,k=0,E=0;try{var A=document.activeElement===n}catch(e){}r.addListener(n,"blur",(function(e){S||(t.onBlur(e),A=!1)}),t),r.addListener(n,"focus",(function(e){if(!S){if(A=!0,i.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),i.isEdge?setTimeout(R):R()}}),t),this.$focusScroll=!1,this.focus=function(){if(w||u||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(e){return}var r=[];if(t)for(var i=n.parentElement;i&&1==i.nodeType;)r.push(i),i.setAttribute("ace_nocontext",!0),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;n.focus({preventScroll:!0}),t&&r.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return A},t.on("beforeEndOperation",(function(){var e=t.curOp,r=e&&e.command&&e.command.name;if("insertstring"!=r){var i=r&&(e.docChanged||e.selectionChanged);y&&i&&(x=n.value="",B()),R()}}));var R=f?function(e){if(A&&(!m||e)&&!b){e||(e="");var r="\n ab"+e+"cde fg\n";r!=n.value&&(n.value=x=r);var i=4+(e.length||(t.selection.isEmpty()?0:1));4==C&&k==i||n.setSelectionRange(4,i),C=4,k=i}}:function(){if(!y&&!b&&(A||M)){y=!0;var e=0,r=0,i="";if(t.session){var o=t.selection,s=o.getRange(),a=o.cursor.row;if(e=s.start.column,r=s.end.column,i=t.session.getLine(a),s.start.row!=a){var l=t.session.getLine(a-1);e=s.start.row<a-1?0:e,r+=l.length+1,i=l+"\n"+i}else if(s.end.row!=a){var c=t.session.getLine(a+1);r=s.end.row>a+1?c.length:r,r+=i.length+1,i=i+"\n"+c}else g&&a>0&&(i="\n"+i,r+=1,e+=1);i.length>400&&(e<400&&r<400?i=i.slice(0,400):(i="\n",e==r?e=r=0:(e=0,r=1)))}var u=i+"\n\n";if(u!=x&&(n.value=x=u,C=k=u.length),M&&(C=n.selectionStart,k=n.selectionEnd),k!=r||C!=e||n.selectionEnd!=k)try{n.setSelectionRange(e,r),C=e,k=r}catch(e){}y=!1}};this.resetSelection=R,A&&t.onFocus();var T=null;this.setInputHandler=function(e){T=e},this.getInputHandler=function(){return T};var M=!1,O=function(e,r){if(M&&(M=!1),v)return R(),e&&t.onPaste(e),v=!1,"";for(var o=n.selectionStart,s=n.selectionEnd,a=C,l=x.length-k,c=e,u=e.length-o,h=e.length-s,d=0;a>0&&x[d]==e[d];)d++,a--;for(c=c.slice(d),d=1;l>0&&x.length-d>C-1&&x[x.length-d]==e[e.length-d];)d++,l--;u-=d-1,h-=d-1;var f=c.length-d+1;if(f<0&&(a=-f,f=0),c=c.slice(0,f),!(r||c||u||a||l||h))return"";b=!0;var p=!1;return i.isAndroid&&". "==c&&(c="  ",p=!0),c&&!a&&!l&&!u&&!h||_?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:u,restoreEnd:h}),b=!1,x=e,C=o,k=s,E=h,p?"\n":c},$=function(e){if(y)return F();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var r=n.value,i=O(r,!0);(r.length>500||p.test(i)||g&&C<1&&C==k)&&R()},L=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(r&&!l){var i=c||n?"Text":"text/plain";try{return t?!1!==r.setData(i,t):r.getData(i)}catch(e){if(!n)return L(e,t,!0)}}},I=function(e,i){var o=t.getCopyText();if(!o)return r.preventDefault(e);L(e,o)?(f&&(R(o),m=o,setTimeout((function(){m=!1}),10)),i?t.onCut():t.onCopy(),r.preventDefault(e)):(m=!0,n.value=o,n.select(),setTimeout((function(){m=!1,R(),i?t.onCut():t.onCopy()})))},P=function(e){I(e,!0)},D=function(e){I(e,!1)},N=function(e){var o=L(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),i.isIE&&setTimeout(R),r.preventDefault(e)):(n.value="",v=!0))};r.addCommandKeyListener(n,t.onCommandKey.bind(t),t),r.addListener(n,"select",(function(e){y||(m?m=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=x.length&&e.value===x&&x&&e.selectionEnd!==k}(n)?g&&n.selectionStart!=C&&R():(t.selectAll(),R()))}),t),r.addListener(n,"input",$,t),r.addListener(n,"cut",P,t),r.addListener(n,"copy",D,t),r.addListener(n,"paste",N,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||r.addListener(e,"keydown",(function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:D(e);break;case 86:N(e);break;case 88:P(e)}}),t);var F=function(){if(y&&t.onCompositionUpdate&&!t.$readOnly){if(_)return U();if(y.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;O(e),y.markerRange&&(y.context&&(y.markerRange.start.column=y.selectionStart=y.context.compositionStartOffset),y.markerRange.end.column=y.markerRange.start.column+k-y.selectionStart+E)}}},B=function(e){t.onCompositionEnd&&!t.$readOnly&&(y=!1,t.onCompositionEnd(),t.off("mousedown",U),e&&$())};function U(){S=!0,n.blur(),n.focus(),S=!1}var z,W=s.delayedCall(F,50).schedule.bind(null,null);function j(){clearTimeout(z),z=setTimeout((function(){w&&(n.style.cssText=w,w=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}r.addListener(n,"compositionstart",(function(e){if(!y&&t.onCompositionStart&&!t.$readOnly&&(y={},!_)){e.data&&(y.useTextareaForIME=!1),setTimeout(F,0),t._signal("compositionStart"),t.on("mousedown",U);var r=t.getSelectionRange();r.end.row=r.start.row,r.end.column=r.start.column,y.markerRange=r,y.selectionStart=C,t.onCompositionStart(y),y.useTextareaForIME?(x=n.value="",C=0,k=0):(n.msGetInputContext&&(y.context=n.msGetInputContext()),n.getInputContext&&(y.context=n.getInputContext()))}}),t),r.addListener(n,"compositionupdate",F,t),r.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(y||(x=n.value),C=k=-1,R()),W()}),t),r.addListener(n,"keydown",W,t),r.addListener(n,"compositionend",B,t),this.getElement=function(){return n},this.setCommandMode=function(e){_=e,n.readOnly=!1},this.setReadOnly=function(e){_||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){M=!0,R(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,s){w||(w=n.style.cssText),n.style.cssText=(s?"z-index:100000;":"")+(i.isIE?"opacity:0.1;":"")+"text-indent: -"+(C+k)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-c-n.clientHeight-2,d=function(e){o.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,h))};d(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(z),i.isWin&&r.capture(t.container,d,j))},this.onContextMenuClose=j;var H=function(e){t.textInput.onContextMenu(e),j()};r.addListener(n,"mouseup",H,t),r.addListener(n,"mousedown",(function(e){e.preventDefault(),j()}),t),r.addListener(t.renderer.scroller,"contextmenu",H,t),r.addListener(n,"contextmenu",H,t),f&&function(e,t,n){var r=null,i=!1;n.addEventListener("keydown",(function(e){r&&clearTimeout(r),i=!0}),!0),n.addEventListener("keyup",(function(e){r=setTimeout((function(){i=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(i||y||t.$mouseHandler.isMousePressed||m)){var r=n.selectionStart,o=n.selectionEnd,s=null,a=0;if(0==r?s=h.up:1==r?s=h.home:o>k&&"\n"==x[o]?s=h.end:r<C&&" "==x[r-1]?(s=h.left,a=d.option):r<C||r==C&&k!=C&&r==o?s=h.left:o>k&&x.slice(0,o).split("\n").length>2?s=h.down:o>k&&" "==x[o-1]?(s=h.right,a=d.option):(o>k||o==k&&k!=C&&r==o)&&(s=h.right),r!==o&&(a|=d.shift),s){if(!t.onCommandKey({},a,s)&&t.commands){s=h.keyCodeToString(s);var l=t.commands.findKeyCommand(a,s);l&&t.execCommand(l)}C=r,k=o,R("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,n)},t.$setUserAgentForTests=function(e,t){g=e,f=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/useragent");function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,o=e.getButton();return 0!==o?((i.getSelectionRange().isEmpty()||1==o)&&i.selection.moveToPosition(n),void(2==o&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var i=o(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),a=this.$clickSelection.comparePoint(i.end);if(-1==s&&a<=0)t=this.$clickSelection.end,i.end.row==r.row&&i.end.column==r.column||(r=i.start);else if(1==a&&s>=0)t=this.$clickSelection.start,i.start.row==r.row&&i.start.column==r.column||(r=i.end);else if(-1==s&&1==a)r=i.end,t=i.start;else{var l=o(this.$clickSelection,r);r=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,r,i=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,r=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))),o=Date.now();(i>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,o=i?e.wheelX/i:n.vx,s=i?e.wheelY/i:n.vy;i<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),l=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)n.allowed=r;else if(r-n.allowed<550){Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=r):n.allowed=0}return n.t=r,n.vx=o,n.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(i.prototype),t.DefaultHandlers=i})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){e("./lib/oop");var r=e("./lib/dom");function i(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(i.prototype),t.Tooltip=i})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/event"),s=e("../tooltip").Tooltip;function a(e){s.call(this,e)}i.inherits(a,s),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();(e+=15)+i>n&&(e-=e+i-n),(t+=15)+o>r&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,n,i,s=e.editor,l=s.renderer.$gutterLayer,c=new a(s.container);function u(){t&&(t=clearTimeout(t)),i&&(c.hide(),i=null,s._signal("hideGutterTooltip",c),s.off("mousewheel",u))}function h(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,r=s.session.selection;if(t.getShiftKey())r.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(r.hasCssClass(a,"ace_fold-widget"))return u();i&&e.$tooltipFollowsMouse&&h(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,r=l.$annotations[t];if(!r)return u();if(t==s.session.getLength()){var o=s.renderer.pixelToScreenCoordinates(0,n.y).row,a=n.$pos;if(o>s.session.documentToScreenRow(a.row,a.column))return u()}if(i!=r)if(i=r.text.join("<br/>"),c.setHtml(i),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",u),e.$tooltipFollowsMouse)h(n);else{var d=n.domEvent.target.getBoundingClientRect(),f=c.getElement().style;f.left=d.right+"px",f.top=d.bottom+"px"}}():u()}),50))})),o.addListener(s.renderer.$gutter,"mouseout",(function(e){n=null,i&&!t&&(t=setTimeout((function(){t=null,u()}),50))}),s),s.on("changeSession",u)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/dom"),i=e("../lib/event"),o=e("../lib/useragent");function s(e){var t=e.editor,n=r.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var s,l,c,u,h,d,f,p,g,m,v,y=t.container,b=0;function w(){var e=d;(function(e,n){var r=Date.now(),i=!n||e.row!=n.row,o=!n||e.column!=n.column;!m||i||o?(t.moveCursorToPosition(e),m=r,v={x:l,y:c}):a(v.x,v.y,l,c)>5?m=null:r-m>=200&&(t.renderer.scrollCursorIntoView(),m=null)})(d=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var r=Date.now(),i=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},u=Math.min(a.x.left,a.x.right),h=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};u/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),h/i<=1&&(d.row+=a.y.top<a.y.bottom?-1:1);var f=e.row!=d.row,p=e.column!=d.column,m=!n||e.row!=n.row;f||p&&!m?g?r-g>=200&&t.renderer.scrollCursorIntoView(d):g=r:g=null}(d,e)}function _(){h=t.selection.toOrientedRange(),s=t.session.addMarker(h,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(u),w(),u=setInterval(w,20),b=0,i.addListener(document,"mousemove",C)}function S(){clearInterval(u),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(h),t.isFocused()&&!p&&t.$resetCursorStyle(),h=null,d=null,b=0,g=null,m=null,i.removeListener(document,"mousemove",C)}this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var r=this;return setTimeout((function(){r.startSelect(),r.captureMouse(e)}),0),e.preventDefault()}h=t.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(n),i.setDragImage&&i.setDragImage(n,0,0),setTimeout((function(){t.container.removeChild(n)})),i.clearData(),i.setData("Text",t.session.getTextRange()),p=!0,this.setState("drag")},this.onDragEnd=function(e){if(y.draggable=!1,p=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;f||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&k(e.dataTransfer))return l=e.clientX,c=e.clientY,s||_(),b++,e.dataTransfer.dropEffect=f=E(e),i.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&k(e.dataTransfer))return l=e.clientX,c=e.clientY,s||(_(),b++),null!==x&&(x=null),e.dataTransfer.dropEffect=f=E(e),i.preventDefault(e)},this.onDragLeave=function(e){if(--b<=0&&s)return S(),f=null,i.preventDefault(e)},this.onDrop=function(e){if(d){var n=e.dataTransfer;if(p)switch(f){case"move":h=h.contains(d.row,d.column)?{start:d,end:d}:t.moveText(h,d);break;case"copy":h=t.moveText(h,d,!0)}else{var r=n.getData("Text");h={start:d,end:t.session.insert(d,r)},t.focus(),f=null}return S(),i.preventDefault(e)}},i.addListener(y,"dragstart",this.onDragStart.bind(e),t),i.addListener(y,"dragend",this.onDragEnd.bind(e),t),i.addListener(y,"dragenter",this.onDragEnter.bind(e),t),i.addListener(y,"dragover",this.onDragOver.bind(e),t),i.addListener(y,"dragleave",this.onDragLeave.bind(e),t),i.addListener(y,"drop",this.onDrop.bind(e),t);var x=null;function C(){null==x&&(x=setTimeout((function(){null!=x&&s&&S()}),20))}function k(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function E(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var i="none";return n&&t.indexOf(r)>=0?i="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(r)>=0?i="move":t.indexOf(r)>=0&&(i="copy"),i}}function a(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton();if(1===(e.domEvent.detail||1)&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var i=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in i&&(i.unselectable="on"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){var r=e("./mouse_event").MouseEvent,i=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,s,a,l,c,u,h,d,f,p="scroll",g=0,m=0,v=0,y=0;function b(){var e=window.navigator&&window.navigator.clipboard,n=!1,r=function(r){var i,s,a=r.target.getAttribute("action");if("more"==a||!n)return n=!n,i=t.getCopyText(),s=t.session.getUndoManager().hasUndo(),void f.replaceChild(o.buildDom(n?["span",!i&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],i&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],i&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),f.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),f.firstChild.style.display="none",n=!1,"openCommandPallete"!=a&&t.focus()};f=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){p="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),r(e)},onclick:r},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function w(){f||b();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.renderer.textToScreenCoordinates(0,0).pageX,i=t.renderer.scrollLeft,o=t.container.getBoundingClientRect();f.style.top=n.pageY-o.top-3+"px",n.pageX-o.left<o.width-70?(f.style.left="",f.style.right="10px"):(f.style.right="",f.style.left=r+i-o.left+"px"),f.style.display="",f.firstChild.style.display="none",t.on("input",_)}function _(e){f&&(f.style.display="none"),t.off("input",_)}function S(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(h.row,h.column);!e.isEmpty()&&n||(t.selection.moveToPosition(h),t.selection.selectWord()),p="wait",w()}i.addListener(e,"contextmenu",(function(e){d&&t.textInput.getElement().focus()}),t),i.addListener(e,"touchstart",(function(e){var i=e.touches;if(c||i.length>1)return clearTimeout(c),c=null,a=-1,void(p="zoom");d=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,f=e.timeStamp;l=f;var b=i[0],w=b.clientX,_=b.clientY;Math.abs(n-w)+Math.abs(s-_)>o&&(a=-1),n=e.clientX=w,s=e.clientY=_,v=y=0;var x=new r(e,t);if(h=x.getDocumentPosition(),f-a<500&&1==i.length&&!g)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(h);var e=m>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),p="wait"}();else{m=0;var C=t.selection.cursor,k=t.selection.isEmpty()?C:t.selection.anchor,E=t.renderer.$cursorLayer.getPixelPosition(C,!0),A=t.renderer.$cursorLayer.getPixelPosition(k,!0),R=t.renderer.scroller.getBoundingClientRect(),T=t.renderer.layerConfig.offset,M=t.renderer.scrollLeft,O=function(e,t){return(e/=u)*e+(t=t/o-.75)*t};if(e.clientX<R.left)return void(p="zoom");var $=O(e.clientX-R.left-E.left+M,e.clientY-R.top-E.top+T),L=O(e.clientX-R.left-A.left+M,e.clientY-R.top-A.top+T);$<3.5&&L<3.5&&(p=$>L?"cursor":"anchor"),p=L<3.5?"anchor":$<3.5?"cursor":"scroll",c=setTimeout(S,450)}a=f}),t),i.addListener(e,"touchend",(function(e){d=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==p?(p="",g=0):c?(t.selection.moveToPosition(h),g=0,w()):"scroll"==p?(g+=60,u=setInterval((function(){g--<=0&&(clearInterval(u),u=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),g<20&&(v*=.9),g<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(g=0)}),10),_()):w(),clearTimeout(c),c=null}),t),i.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var i=e.touches;if(!(i.length>1||"zoom"==p)){var o=i[0],a=n-o.clientX,u=s-o.clientY;if("wait"==p){if(!(a*a+u*u>4))return e.preventDefault();p="cursor"}n=o.clientX,s=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var h=e.timeStamp,d=h-l;if(l=h,"scroll"==p){var f=new r(e,t);f.speed=1,f.wheelX=a,f.wheelY=u,10*Math.abs(a)<Math.abs(u)&&(a=0),10*Math.abs(u)<Math.abs(a)&&(u=0),0!=d&&(v=a/d,y=u/d),t._emit("mousewheel",f),f.propagationStopped||(v=y=0)}else{var g=new r(e,t).getDocumentPosition();"cursor"==p?t.selection.moveCursorToPosition(g):"anchor"==p&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){!n&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){var r={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;if(this.on(e,(function r(){n.off(e,r),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);-1!=o&&i.splice(o,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=r})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var r=e("./oop"),i=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return s('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var l=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)})),r.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=s,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config"],(function(e,t,n){var r=e("./lib/lang"),i=(e("./lib/oop"),e("./lib/net")),o=e("./lib/dom"),s=e("./lib/app_config").AppConfig;n.exports=t=new s;var a=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(l.hasOwnProperty(e))l[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&o.useStrictCSP(t)},t.all=function(){return r.copyObject(l)},t.$modes={},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var n=e.split("/"),r="snippets"==(t=t||n[n.length-2]||"")?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var s=l[t+"Path"];return null==s?s=l.basePath:"/"==r&&(t=r=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var o,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{o=e(n)}catch(e){}if(o&&!t.$loading[n])return r&&r(o);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var a=function(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return a();i.loadScript(t.moduleUrl(n,s),a),c()}};var c=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};function u(r){if(a&&a.document){l.packaged=r||e.packaged||n.packaged||a.define&&(void 0).packaged;for(var i,o={},s="",c=document.currentScript||document._currentScript,u=(c&&c.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var d=u[h],f=d.src||d.getAttribute("src");if(f){for(var p=d.attributes,g=0,m=p.length;g<m;g++){var v=p[g];0===v.name.indexOf("data-ace-")&&(o[(i=v.name.replace(/^data-ace-/,""),i.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=v.value)}var y=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(s=y[1])}}for(var b in s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[b]&&t.set(b,o[b])}}u(!0),t.init=u,t.version="1.4.13"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),h=function(e){var t=this;this.editor=e,new o(this),new s(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();r.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),r.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),r.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;r.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),r.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),r.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),r.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),r.addListener(a,"mousedown",n,e),r.addListener(u,"mousedown",n,e),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),r.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var s=this,l=function(e){if(e){if(i.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",h),clearInterval(d),n.session&&u(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),n.endOperation()},u=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var h=function(e){s.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};n.on("beforeEndOperation",h),n.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=l,s.releaseMouse=r.capture(this.editor.container,l,c);var d=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),u.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){var r=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),i=e.session,o=i.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?i.removeFold(o):i.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&r.hasCssClass(s,"ace_inline_button")&&r.hasCssClass(s,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session,i=r.getParentFoldRangeData(n,!0),o=i.range||i.firstRange;if(o){n=o.start.row;var s=r.getFoldAt(n,r.getLine(n).length,1);s?r.removeFold(s):(r.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){var r=e("../lib/keys"),i=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,r))&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);return this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){var r=0,i=0,o=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4],h=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function d(e,t,n){if(!(i<e))if(1!=e||1!=r||s)for(var o,a,l,c,u=n.length,h=0;h<u;){if(t[h]>=e){for(o=h+1;o<u&&t[o]>=e;)o++;for(a=h,l=o-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;h=o}h++}else n.reverse()}function f(e,t,n,i){var l,c,u,h,d=t[i];switch(d){case 0:case 1:o=!1;case 4:case 3:return d;case 2:return o?3:2;case 7:return o=!0,1;case 8:return 4;case 9:return i<1||i+1>=t.length||2!=(l=n[i-1])&&3!=l||2!=(c=t[i+1])&&3!=c?4:(o&&(c=3),c==l?c:4);case 10:return 2==(l=i>0?n[i-1]:5)&&i+1<t.length&&2==t[i+1]?2:4;case 11:if(i>0&&2==n[i-1])return 2;if(o)return 4;for(h=i+1,u=t.length;h<u&&11==t[h];)h++;return h<u&&2==t[h]?2:4;case 12:for(u=t.length,h=i+1;h<u&&12==t[h];)h++;if(h<u){var f=e[i],p=f>=1425&&f<=2303||64286==f;if(l=t[h],p&&(1==l||7==l))return 1}return i<1||5==(l=t[i-1])?4:n[i-1];case 5:return o=!1,s=!0,r;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case 18:return 4}}function p(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:u[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?11:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?h[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="",t.doBidiReorder=function(e,n,u){if(e.length<2)return{};var h=e.split(""),g=new Array(h.length),m=new Array(h.length),v=[];r=u?1:0,function(e,t,n,u){var h=r?c:l,d=null,g=null,m=null,v=0,y=null,b=-1,w=null,_=null,S=[];if(!u)for(w=0,u=[];w<n;w++)u[w]=p(e[w]);for(i=r,o=!1,s=!1,a=!1,_=0;_<n;_++){if(d=v,S[_]=g=f(e,u,S,_),y=240&(v=h[d][g]),v&=15,t[_]=m=h[v][5],y>0)if(16==y){for(w=b;w<_;w++)t[w]=1;b=-1}else b=-1;if(h[v][6])-1==b&&(b=_);else if(b>-1){for(w=b;w<_;w++)t[w]=m;b=-1}5==u[_]&&(t[_]=0),i|=m}if(a)for(w=0;w<n;w++)if(6==u[w]){t[w]=r;for(var x=w-1;x>=0&&8==u[x];x--)t[x]=r}}(h,v,h.length,n);for(var y=0;y<g.length;g[y]=y,y++);d(2,v,g),d(1,v,g);for(y=0;y<g.length-1;y++)3===n[y]?v[y]=t.AN:1===v[y]&&(n[y]>7&&n[y]<13||4===n[y]||18===n[y])?v[y]=t.ON_R:y>0&&""===h[y-1]&&/\u0622|\u0623|\u0625|\u0627/.test(h[y])&&(v[y-1]=v[y]=t.R_H,y++);h[h.length-1]===t.DOT&&(v[h.length-1]=t.B),""===h[0]&&(v[0]=t.RLE);for(y=0;y<g.length;y++)m[y]=v[g[y]];return{logicalFromVisual:g,bidiLevels:m}},t.hasBidiCharacters=function(e,t){for(var n=!1,r=0;r<e.length;r++)t[r]=p(e.charAt(r)),n||1!=t[r]&&7!=t[r]&&3!=t[r]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){var r=e("./lib/bidiutil"),i=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===r;)r=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t])),t==o.length&&(this.line+=this.showInvisibles?n:r.DOT)}else this.line+=this.showInvisibles?n:r.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,i.stringRepeat(r.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=.45*n,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),r=e.selection.getSelectionAnchor().row;r<=n.row;r++)t||e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(r,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,i=r.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[i]%2!=0&&i++;for(var a=0;a<i;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[i]%2==0&&(s+=this.charWidths[o[i]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var n,r=this.bidiMap,i=r.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,h=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,f=0;f<i.length;f++)d=r.logicalFromVisual[f],n=i[f],(c=d>=a&&d<l)&&!u?h=s:!c&&u&&o.push({left:h,width:s-h}),s+=this.charWidths[n],u=c;if(c&&f===i.length&&o.push({left:h,width:s-h}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),r=0,i=this.bidiMap.bidiLevels,o=this.charWidths[i[r]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,r===i.length-1){o=0;break}o=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!=0&&i[r]%2==0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2==0&&i[r]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&0===o&&i[r-1]%2==0||!this.isRtlDir&&0===r&&i[r]%2!=0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!=0&&0!==o&&r--,t=this.bidiMap.logicalFromVisual[r]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){r.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},this.$setSelection=function(e,t,n,r){if(!this.$silent){var i=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,!0===t?new s(r,0,n,this.session.getLine(n).length):new s(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column).match(/^\s*/);i[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=i[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i)this.moveCursorTo(i.end.row,i.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o=i.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&r.test(t);)n++;if(n<1)for(i.lastIndex=0;(t=e[n])&&!i.test(t);)if(i.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}for(;(t=e[n])&&r.test(t);)n++;if(n>2)break}}return i.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var s=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];e<0?e-=i.rowsAbove||0:e>0&&(e+=i.rowCount-(i.rowsAbove||0))}var o=this.session.screenToDocumentPosition(r.row+e,r.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){var r=e("./config"),i=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+i+1)})):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[i]=l,i+=h,r.push(u),c.onMatch||(c.onMatch=null)}}r.length||(o[0]=0,r.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;i<o;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;i<o;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,s,a,l){return r?r="]"!=a:a?r=!0:s?(n==i.stack&&(i.end=l+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=l)),e})),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var f=s.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);d.type==f?d.value+=v:(d.type&&c.push(d),d={type:f,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){f=(p=o[s[y]]).onMatch?p.onMatch(g,r,n,e):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,n),(o=this.states[r])||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],u=m,(a=this.regExps[r]).lastIndex=m),p.consumeLineEnd&&(u=m);break}if(g)if("string"==typeof f)p&&!1===p.merge||d.type!==f?(d.type&&c.push(d),d={type:f,value:g}):d.value+=g;else if(f){d.type&&c.push(d),d={type:null,value:""};for(y=0;y<f.length;y++)c.push(f[y])}if(u==e.length)break;if(u=m,h++>i){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=500),type:"overflow"};r="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=r.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var s="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else for(var l in i=[],s)i.push(t+l);if(this.addRules(s,t),n){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<i.length;a++)c.apply(this.$rules[i[a]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,r=this.$rules;Object.keys(r).forEach((function i(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),r[h]&&(h+=n++)),r[h]=u,l.next=h,i(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)r[d]?r[d].push&&r[d].push.apply(r[d],l.rules[d]):r[d]=l.rules[d];var f="string"==typeof l?l:l.include;if(f&&(c=Array.isArray(f)?f.map((function(e){return r[e]})):r[f]),c){var p=[a,1].concat(c);l.noEscape&&(p=p.filter((function(e){return!e.next}))),s.splice.apply(s,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(r||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),i[a]=t}}),this),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){var r=e("./range").Range,i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(i.prototype),t.TokenIterator=i})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){var r,i=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return r=u[t];r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},p=function(e){this.add("braces","insertion",(function(t,n,i,o,s){var l=i.getCursorPosition(),c=o.doc.getLine(l.row);if("{"==s){d(i);var u=i.getSelectionRange(),h=o.doc.getTextRange(u);if(""!==h&&"{"!==h&&i.getWrapBehavioursEnabled())return f(u,h,"{","}");if(p.isSaneInsertion(i,o))return/[\]\}\)]/.test(c[l.column])||i.inMultiSelectMode||e&&e.braces?(p.recordAutoInsert(i,o,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(i,o,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(d(i),"}"==c.substring(l.column,l.column+1))if(null!==o.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&p.isAutoInsertedClosing(l,c,s))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){d(i);var g="";if(p.isMaybeInsertedClosing(l,c)&&(g=a.stringRepeat("}",r.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var m=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var v=this.$getIndent(o.getLine(m.row))}else{if(!g)return void p.clearMaybeInsertedClosing();v=this.$getIndent(c)}var y=v+o.getTabString();return{text:"\n"+y+"\n"+v+g,selection:[1,y.length,1,y.length]}}p.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,i,o){var s=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(d(n),"}"==i.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;r.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,r,i){if("("==i){d(n);var o=n.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return f(o,s,"(",")");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){d(n);var a=n.getCursorPosition(),l=r.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1))if(null!==r.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o&&(d(n),")"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("brackets","insertion",(function(e,t,n,r,i){if("["==i){d(n);var o=n.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return f(o,s,"[","]");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){d(n);var a=n.getCursorPosition(),l=r.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1))if(null!==r.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o&&(d(n),"]"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("string_dquotes","insertion",(function(e,t,n,r,i){var o=r.$mode.$quotes||h;if(1==i.length&&o[i]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;d(n);var s=i,a=n.getSelectionRange(),l=r.doc.getTextRange(a);if(!(""===l||1==l.length&&o[l])&&n.getWrapBehavioursEnabled())return f(a,l,s,s);if(!l){var c=n.getCursorPosition(),u=r.doc.getLine(c.row),p=u.substring(c.column-1,c.column),g=u.substring(c.column,c.column+1),m=r.getTokenAt(c.row,c.column),v=r.getTokenAt(c.row,c.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),w=!v||/string|escape/.test(v.type);if(g==s)(y=b!==w)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var _=r.$mode.tokenRe;_.lastIndex=0;var S=_.test(p);_.lastIndex=0;var x=_.test(p);if(S||x)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var C=u[c.column-2];if(p==s&&(C==s||_.test(C)))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,i){var o=r.$mode.$quotes||h,s=r.doc.getTextRange(i);if(!i.isMultiLine()&&o.hasOwnProperty(s)&&(d(n),r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)==s))return i.end.column++,i}))};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=i.row,r.autoInsertedLineEnd=n+o.substr(i.column),r.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=i.row,r.maybeInsertedLineStart=o.substr(0,i.column)+n,r.maybeInsertedLineEnd=o.substr(i.column),r.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(p,o),t.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,o=[],s=0;s<r.length;s+=2)o.push(i+=r[s]),r[s+1]&&o.push(45,i+=r[s+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){var r=e("../config"),i=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,u=e("../range").Range,h=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){var i=t.doc,o=!0,s=!0,a=1/0,c=t.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0];else g=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),u=t.getUseSoftTabs();y=function(e,t){var n=e.match(g);if(n){var r=n[1].length,o=n[0].length;d(e,r,o)||" "!=n[0][o-1]||o--,i.removeInLine(t,r,o)}};var h=f+" ",d=(v=function(e,t){o&&!/\S/.test(e)||(d(e,a,a)?i.insertInLine({row:t,column:a},h):i.insertInLine({row:t,column:a},f))},b=function(e,t){return g.test(e)},function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%c!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return c>2?r%c!=c-1:r%c==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),m=new RegExp("(?:"+l.escapeRegExp(p)+")\\s*$"),v=function(e,t){b(e,t)||o&&!/\S/.test(e)||(i.insertInLine({row:t,column:e.length},p),i.insertInLine({row:t,column:a},f))},y=function(e,t){var n;(n=e.match(m))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&i.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(g.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}function w(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var _=1/0;w((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),s&&!b(e,t)&&(s=!1)):_>e.length&&(_=e.length)})),a==1/0&&(a=_,o=!1,s=!1),u&&a%c!=0&&(a=Math.floor(a/c)*c),w(s?y:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,s,a=(g=new c(t,r.row,r.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(i.start))){var f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;h=new u(f,p,f,p+i.start.length);break}a=g.stepBackward()}var g;for(a=(g=new c(t,r.row,r.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(i.end))){f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;d=new u(f,p,f,p+i.end.length);break}a=g.stepForward()}d&&t.remove(d),h&&(t.remove(h),o=h.start.row,s=-i.start.length)}else s=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);l.start.row==o&&(l.start.column+=s),l.end.row==o&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],i=n.prototype.$id,o=r.$modes[i];o||(r.$modes[i]=o=new n),r.$modes[t]||(r.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<s.length;t++)!function(e){var n=s[t],r=e[n];e[s[t]]=function(){return this.$delegator(n,arguments,r)}}(this)},this.$delegator=function(e,t,n){var r=t[0]||"start";if("string"!=typeof r){if(Array.isArray(r[2])){var i=r[2][r[2].length-1];if(s=this.$modes[i])return s[e].apply(s,[r[1]].concat([].slice.call(t,1)))}r=r[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var s,a=r.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[o]])[e].apply(s,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],o=0,s=i.length;o<s;o++)if("string"==typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&n.push(i[o].regex);else if("object"==typeof i[o].token)for(var a=0,l=i[o].token.length;a<l;a++)if(/keyword|support|storage/.test(i[o].token[a])){r=i[o].regex.match(/\(.+?\)/g)[a];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(h.prototype),t.Mode=h})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,o=e[r]||"";switch(t.action){case"insert":if(1===t.lines.length)e[r]=o.substring(0,i)+t.lines[0]+o.substring(i);else{var s=[r,1].concat(t.lines);e.splice.apply(e,s),e[r]=o.substring(0,i)+e[r],e[r+t.lines.length-1]+=o.substring(i)}break;case"remove":var a=t.end.column,l=t.end.row;r===l?e[r]=o.substring(0,i)+o.substring(a):e.splice(r,l-r+1,o.substring(0,i)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=function(t,n,r){var i="insert"==t.action,o=(i?1:-1)*(t.end.row-t.start.row),s=(i?1:-1)*(t.end.column-t.start.column),a=t.start,l=i?a:t.end;if(e(n,a,r))return{row:n.row,column:n.column};if(e(l,n,!r))return{row:n.row+o,column:n.column+(n.row==l.row?s:0)};return{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){var r=e("./lib/oop"),i=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return null==t&&(t=r.length),{row:e,column:t=Math.min(Math.max(t,0),r.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,o=n?this.getLine(i).length:0,a=r?t+1:t,l=r?0:this.getLine(a).length,c=new s(i,o,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(i(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length-t+1,i=e.start.row,o=e.start.column,s=0,a=0;s<r;s=a){a+=t-1;var l=n.slice(s,a);l.push(""),this.applyDelta({start:this.pos(i+s,o),end:this.pos(i+a,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(s),e.start.row=i+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;i<o;i++)if((e-=n[i].length+r)<0)return{row:i,column:e+n[i].length+r};return{row:o-1,column:e+n[o-1].length+r}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)i+=n[s].length+r;return i+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,i=n.doc,o=t;n.lines[t];)t++;var s=i.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),r=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==r&&(r=t),o<=r&&n.fireUpdateEvent(o,r)}}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){var r=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&((c=r.getMatchOffsets(n.getLine(l),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map((function(e){return new i(l,e.offset,l,e.offset+e.length)})),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){var r=e("../range").Range;function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(i=(r=s[l]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,r.start.row,r.start.column,o,a)&&e(r.placeholder,r.start.row,r.start.column,o)||0===i)return;a=!r.sameRow,o=r.end.column}e(null,t,n,o,a)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(-1==(r=(n=this.folds[i]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){var s=(i=this.folds).indexOf(r);for(0===s&&(this.start.column+=n);s<i.length;s++){if((r=i[s]).start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var r=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new i(s,o=o.splice(a,o.length-a));return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if((e-=r.start.column-t)<0)return{row:r.start.row,column:r.start.column+e};if((e-=r.placeholder.length)<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){var r=e("./range").Range.comparePoints,i=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=r,this.pointIndex=function(e,t,n){for(var i=this.ranges,o=n||0;o<i.length;o++){var s=i[o],a=r(e,s.end);if(!(a>0)){var l=r(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,i=(n=n.sort((function(e,t){return r(e.start,t.start)})))[0],o=1;o<n.length;o++){e=i,i=n[o];var s=r(e.end,i.start);s<0||(0!=s||e.isEmpty()||i.isEmpty())&&(r(e.end,i.end)<0&&(e.end.row=i.end.row,e.end.column=i.end.column),n.splice(o,1),t.push(i),i=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);for(var o=[],s=r;s<i;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,r=t.row,i=n.row,o=this.ranges,s=0,a=o.length;s<a;s++){if((u=o[s]).end.row>=r)break}if("insert"==e.action)for(var l=i-r,c=-t.column+n.column;s<a;s++){if((u=o[s]).start.row>r)break;if(u.start.row==r&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==r&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&s<a-1&&u.end.column>u.start.column&&u.end.column==o[s+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=r-i,c=t.column-n.column;s<a;s++){if((u=o[s]).start.row>i)break;u.end.row<i&&(r<u.end.row||r==u.end.row&&t.column<u.end.column)?(u.end.row=r,u.end.column=t.column):u.end.row==i?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>i&&(u.end.row+=l),u.start.row<i&&(r<u.start.row||r==u.start.row&&t.column<u.start.column)?(u.start.row=r,u.start.column=t.column):u.start.row==i?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>i&&(u.start.row+=l)}if(0!=l&&s<a)for(;s<a;s++){var u;(u=o[s]).start.row+=l,u.end.row+=l}}}).call(i.prototype),t.RangeList=i})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){var r=e("../range_list").RangeList,i=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function s(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}i.inherits(o,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,s(t.start,n),s(t.end,n);for(var r=e.start.row,i=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(r,i));o++);var l=this.subFolds[o],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}r=e.range.end.row,i=e.range.end.column;var u=o;for(a=-1;u<this.subFolds.length&&1==(a=this.subFolds[u].range.compare(r,i));u++);0==a&&u++;for(var h=this.subFolds.splice(o,u-o,e),d=0==a?h.length-1:h.length,f=c;f<d;f++)e.addSubFold(h[f]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){var r=e("../range").Range,i=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var s=i[o].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return i[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var s=r[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=r[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;i.push(c)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(!(r=r||this.getFoldLine(e)))return null;for(var i,o,s={end:{column:0}},a=0;a<r.folds.length;a++){var l=(o=r.folds[a]).range.compareEnd(e,t);if(-1==l){i=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return i||(i=this.getLine(o.start.row).substring(s.end.column)),-1==n?i.substring(0,t-s.end.column):1==n?i.substring(t-s.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?r-=t-a:r=0);break}s>=e&&(r-=a>=e?s-a:s-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,r=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),n.collapseChildren||f.forEach((function(e){n.addSubFold(e)})));for(var p=0;p<r.length;p++){var g=r[p];if(c==g.start.row){g.addFold(n),s=!0;break}if(a==g.end.row){if(g.addFold(n),s=!0,!n.sameRow){var m=r[p+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return s||(g=this.$addFoldLine(new i(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,i;if(null==e)n=new r(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new r(e,0,e,this.getLine(e).length);else if("row"in e)n=r.fromPoints(e,e);else{if(Array.isArray(e))return i=[],e.forEach((function(e){i=i.concat(this.unfold(e))}),this),i;n=e}for(var o=i=this.getFoldsInRangeList(n);1==i.length&&r.comparePoints(i[0].start,n.start)<0&&r.comparePoints(i[0].end,n.end)>0;)this.expandFolds(i),i=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(i):this.expandFolds(i),o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<r)){if(t==r){if(n<i)return;a=Math.max(i,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,r){var i,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,r):(i=this.doc.getLine(e)).substring(r||0,t||i.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new i(e,n)}))},this.toggleFold=function(e){var t,n,r=this.selection.getRange();if(r.isEmpty()){var i=r.start;if(t=this.getFoldAt(i.row,i.column))return void this.expandFold(t);(n=this.findMatchingBracket(i))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(i.row,i.column)||r}else{var o=this.getFoldsInRange(r);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())this.expandFold(t);else{var s="...";if(!r.isMultiLine()){if((s=this.getTextRange(r)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,r)}},this.getCommentFoldRange=function(e,t,n){var i=new s(this,e,t),o=i.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new r;if(1!=n){do{o=i.stepBackward()}while(o&&l.test(o.type));i.stepForward()}if(c.start.row=i.getCurrentTokenRow(),c.start.column=i.getCurrentTokenColumn()+2,i=new s(this,e,t),-1!=n){var u=-1;do{if(o=i.stepForward(),-1==u){var h=this.getState(i.$row);l.test(h)||(u=i.$row)}else if(i.$row>u)break}while(o&&l.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return c.end.row=i.getCurrentTokenRow(),c.end.column=i.getCurrentTokenColumn()+o.value.length-2,c}},this.foldAll=function(e,t,n,r){null==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==i[o]&&(i[o]=this.getFoldWidget(o)),"start"==i[o]&&(!r||r(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(o=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),r=0;r<n.length;r++){var i=n[r];if("text"!=i.type||!/^\s+$/.test(i.value))return!!/comment/.test(i.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var s=this.getFoldWidgetRange(i);if(r||(r=s),s&&s.end.row>=e)break}i--}return{range:-1!==i&&s,firstRange:r}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,-1===i?0:r.length,i);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){var r=e("../token_iterator").TokenIterator,i=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=i.fromPoints(e,a),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=i.fromPoints(a,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(r||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!r)return null;var o=new i(e.row,e.column-1,e.row,e.column),s=r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e);return s?[o,new i(s.row,s.column,s.row,s.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],o=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==i){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],o=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==i){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,u=e("./range").Range,h=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new h(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};p.$uid=0,function(){r.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(t<o))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t){var o=r.length-1;i=this.getLine(e).length}else for(o=0;o<r.length&&!((i+=r[o].value.length)>=t);o++);return(n=r[o])?(n.index=o,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new u(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))i=/\s/;else i=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(i));o++}for(var s=t;s<n.length&&n.charAt(s).match(i);)s++;return new u(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,s.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var r=e.getTokenizer();if(void 0!==r.on){var i=this.onReloadTokenizer.bind(this);r.on("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(r);else{this.bgTokenizer=new d(r);var o=this;this.bgTokenizer.on("update",(function(e){o._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if((l=o.end.row+1)>=a)break;s=(o=this.$foldData[i++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var r=e[n];"insert"==r.action||"remove"==r.action?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];"insert"!=r.action&&"remove"!=r.action||this.doc.$safeApplyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var r,i,o=0;o<e.length;o++){var s=e[o];s.start&&(r?n(s)?(i=s.start,-1==r.compare(i.row,i.column)&&r.setStart(i),i=s.end,1==r.compare(i.row,i.column)&&r.setEnd(i)):(i=s.start,-1==r.compare(i.row,i.column)&&(r=u.fromPoints(s.start,s.start))):r=n(s)?u.fromPoints(s.start,s.end):u.fromPoints(s.start,s.start))}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row;(c=s?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,r),i.length){var a=e.start,l=o.start,c=(s=l.row-a.row,l.column-a.column);this.addFolds(i.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=s,e.end.row+=s,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var s=0;s<r&&" "==o.charAt(s);++s);s<r&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((i=this.getRowFoldStart(e+n))<0)return 0;var r=i-e}else if(n>0){var i;if((i=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;r=i-t}else{e=this.$clipRowToDocument(e);r=(t=this.$clipRowToDocument(t))-e+1}var o=new u(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=r,e.end.row+=r,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,a),s.length&&this.addFolds(s),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,o=r.row,s=i.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(g=this.getFoldLine(i.row)){g.addRemoveChars(i.row,i.column,r.column-i.column),g.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==g&&(h.merge(g),g=h),u=c.indexOf(g)+1}for(;u<c.length;u++){(g=c[u]).start.row>=i.row&&g.shiftRow(-a)}s=o}else{var d=Array(a);d.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,d);c=this.$foldData,u=0;if(g=this.getFoldLine(o)){var p=g.range.compareInside(r.row,r.column);0==p?(g=g.split(r.row,r.column))&&(g.shiftRow(a),g.addRemoveChars(s,0,i.column-r.column)):-1==p&&(g.addRemoveChars(o,0,i.column-r.column),g.shiftRow(a)),u=c.indexOf(g)+1}for(;u<c.length;u++){var g;(g=c[u]).start.row>=o&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(o))&&g.addRemoveChars(o,r.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,r){var i,o,s=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=n;for(r=Math.min(r,s.length-1);u<=r;)(o=this.getFoldLine(u,o))?(i=[],o.walk(function(n,r,o,a){var l;if(null!=n){(l=this.$getDisplayTokens(n,i.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(s[r].substring(a,o),i.length);i=i.concat(l)}.bind(this),o.end.row,s[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(i,c,a),u=o.end.row+1):(i=this.$getDisplayTokens(s[u]),l[u]=this.$computeWrapSplits(i,c,a),u++)};var e=3,t=4;function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,r,i){if(0==n.length)return[];var o=[],s=n.length,a=0,l=0,c=this.$wrapAsCode,u=this.$indentedSoftWrap,h=r<=Math.max(2*i,8)||!1===u?0:Math.floor(r/2);function d(e){for(var t=e-a,r=a;r<e;r++){var s=n[r];12!==s&&2!==s||(t-=1)}o.length||(f=function(){var e=0;if(0===h)return e;if(u)for(var t=0;t<n.length;t++){var r=n[t];if(10==r)e+=1;else{if(11!=r){if(12==r)continue;break}e+=i}}return c&&!1!==u&&(e+=i),Math.min(e,h)}(),o.indent=f),l+=t,o.push(l),a=e}for(var f=0;s-a>r-f;){var p=a+r-f;if(n[p-1]>=10&&n[p]>=10)d(p);else if(n[p]!=e&&n[p]!=t){for(var g=Math.max(p-(r-(r>>2)),a-1);p>g&&n[p]<e;)p--;if(c){for(;p>g&&n[p]<e;)p--;for(;p>g&&9==n[p];)p--}else for(;p>g&&n[p]<10;)p--;p>g?d(++p):(2==n[p=a+r]&&p--,d(p-f))}else{for(;p!=a-1&&n[p]!=e;p--);if(p>a){d(p);continue}for(p=a+r;p<n.length&&n[p]==t;p++);if(p==n.length)break;d(p)}}return o},this.$getDisplayTokens=function(e,t){var r,i=[];t=t||0;for(var o=0;o<e.length;o++){var s=e.charCodeAt(o);if(9==s){r=this.getScreenTabSize(i.length+t),i.push(11);for(var a=1;a<r;a++)i.push(12)}else 32==s?i.push(10):s>39&&s<48||s>57&&s<64?i.push(9):s>=4352&&n(s)?i.push(1,2):i.push(1)}return i},this.$getStringScreenWidth=function(e,t,r){if(0==t)return[0,0];var i,o;for(null==t&&(t=1/0),r=r||0,o=0;o<e.length&&(9==(i=e.charCodeAt(o))?r+=this.getScreenTabSize(r):i>=4352&&n(i)?r+=2:r+=1,!(r>t));o++);return[r,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i,o=0,s=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),h=c.length;if(h&&u>=0){a=c[u],o=this.$docRowCache[u];var d=e>c[h-1]}else d=!h;for(var f=this.getLength()-1,p=this.getNextFoldLine(o),g=p?p.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=f);)a+=l,++o>g&&(o=p.end.row+1,g=(p=this.getNextFoldLine(o,p))?p.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(p&&p.start.row<=o)r=this.getFoldDisplayLine(p),o=p.start.row;else{if(a+l<=e||o>f)return{row:f,column:this.getLine(f).length};r=this.getLine(o),p=null}var m=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(i=y[v],v>0&&y.length&&(m=y.indent,s=y[v-1]||y[y.length-1],r=r.substring(s)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(r,t-m)[1],this.$useWrapMode&&s>=i&&(s=i-1),p?p.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r,i=0,o=null;(r=this.getFoldAt(e,t,1))&&(e=r.start.row,t=r.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){a=l[c],i=this.$screenRowCache[c];var h=e>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;a<e;){if(a>=f){if((s=d.end.row+1)>e)break;f=(d=this.getNextFoldLine(s,d))?d.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,e,t),o=d.start.row):(p=this.getLine(e).substring(0,t),o=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var v=0;p.length>=m[v];)i++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(i+=this.lineWidgets[a].rowsAbove),{row:i,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);r<n;){var o=this.$wrapData[r];e+=o?o.length+1:1,++r>i&&(r=t.end.row+1,i=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];var i,o;for(n||(n=1/0),r=r||0,o=0;o<t.length&&!((r+="\t"===(i=t.charAt(o))?this.getScreenTabSize(r):e.getCharacterWidth(i))>n);o++);return[r,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=n}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){var r=e("./lib/lang"),i=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach((function(e,n,i,s){return r=new o(e,n,i,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)})),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=i.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==i[h+d].search(a[d]))continue e;var f=i[h],p=i[h+c-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(s.push(l=new o(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var v=0;v<i.length;v++){var y=r.getMatchOffsets(i[v],a);for(d=0;d<y.length;d++){var b=y[d];s.push(new o(v,b.offset,v,b.offset+b.length))}}if(n){var w=n.start.column,_=n.start.column;for(v=0,d=s.length-1;v<d&&s[v].start.column<w&&s[v].start.row==n.start.row;)v++;for(;v<d&&s[d].end.column>_&&s[d].end.row==n.end.row;)d--;for(s=s.slice(v,d+1),v=0,d=s.length;v<d;v++)s[v].start.row+=n.start.row,s[v].end.row+=n.start.row}return s},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var i=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var o=new RegExp(n,i)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(e){return!1}return r},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=1==t.backwards,i=0!=t.skipCurrent,o=t.range,s=t.start;s||(s=o?o[r?"end":"start"]:e.selection.getRange()),s.start&&(s=s[i!=r?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(r)var c=function(e){var n=s.row;if(!h(n,s.column,e)){for(n--;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,a=s.row;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=s.row;if(!h(n,s.column,e)){for(n+=1;n<=l;n++)if(h(n,0,e))return;if(0!=t.wrap)for(n=a,l=s.row;n<=l;n++)if(h(n,0,e))return}};if(t.$isMultiLine)var u=n.length,h=function(t,i,o){var s=r?t-u+1:t;if(!(s<0||s+u>e.getLength())){var a=e.getLine(s),l=a.search(n[0]);if(!(!r&&l<i||-1===l)){for(var c=1;c<u;c++)if(-1==(a=e.getLine(s+c)).search(n[c]))return;var h=a.match(n[u-1])[0].length;if(!(r&&h>i))return!!o(s,l,s+u-1,h)||void 0}}};else if(r)h=function(t,r,i){var o,s=e.getLine(t),a=[],l=0;for(n.lastIndex=0;o=n.exec(s);){var c=o[0].length;if(l=o.index,!c){if(l>=s.length)break;n.lastIndex=l+=1}if(o.index+c>r)break;a.push(o.index,c)}for(var u=a.length-1;u>=0;u-=2){var h=a[u-1];if(i(t,h,t,h+(c=a[u])))return!0}};else h=function(t,r,i){var o,s,a=e.getLine(t);for(n.lastIndex=r;s=n.exec(a);){var l=s[0].length;if(i(t,o=s.index,t,o+l))return!0;if(!l&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(s.prototype),t.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/keys"),i=e("../lib/useragent"),o=r.KEY_MODS;function s(e,t){this.platform=t||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){s.call(this,e,t),this.$singleCommand=!1}a.prototype=s.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(r[i]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")}),this),r+=" "}var s=this.parseKeys(e),a=o[s.hashId]+s.key;this._addCommandToBinding(r+a,t,n)}),this)},this._addCommandToBinding=function(t,n,r){var i,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(i=o[t].indexOf(n))&&o[t].splice(i,1):o[t]=[o[t]],"number"!=typeof r&&(r=e(n));var s=o[t];for(i=0;i<s.length;i++){if(e(s[i])>r)break}s.splice(i,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=r.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(r<0)){var i=o[t]+n,s=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:s}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(s.prototype),t.HashHandler=s,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};r.inherits(s,i),function(){r.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),!1!==i.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(s.prototype),t.CommandManager=s})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){var r=e("../lib/lang"),i=e("../config"),o=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(e){i.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=i.row+1;c++){var u=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}i.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var s=0;s<r.length;s++)s==r.length-1&&(r[s].end.row===t&&r[s].end.column===n||i.push(new o(r[s].end.row,r[s].end.column,t,n))),0===s?0===r[s].start.row&&0===r[s].start.column||i.push(new o(0,0,r[s].start.row,r[s].start.column)):i.push(new o(r[s-1].end.row,r[s-1].end.column,r[s].start.row,r[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(s=0;s<i.length;s++)e.selection.addRange(i[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,f=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),w=function(e,t,n){this.$toDestroy=[];var r=e.getContainerElement();this.container=r,this.renderer=e,this.id="editor"+ ++w.$uid,this.commands=new g(s.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new h("")),v.resetOptions(this),n&&this.setOptions(n),v._signal("editor",this)};w.$uid=0,function(){r.implement(this,p),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],(function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var r="ace_bracket";Array.isArray(n)?1==n.length&&(r="ace_error_bracket"):n=[n],2==n.length&&(0==f.comparePoints(n[0].end,n[1].start)?n=[f.fromPoints(n[0].start,n[1].end)]:0==f.comparePoints(n[0].start,n[1].end)&&(n=[f.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,r,"text")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===i.type.indexOf("tag-open")||(i=r.stepForward())){var o=i.value,s=i.value,a=0,l=r.stepBackward();if("<"===l.value)do{l=i,(i=r.stepForward())&&(-1!==i.type.indexOf("tag-name")?o===(s=i.value)&&("<"===l.value?a++:"</"===l.value&&a--):o===s&&"/>"===i.value&&a--)}while(i&&a>=0);else{do{if(i=l,l=r.stepBackward(),i)if(-1!==i.type.indexOf("tag-name"))o===i.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===i.value){for(var c=0,u=l;u;){if(-1!==u.type.indexOf("tag-name")&&u.value===o){a--;break}if("<"===u.value)break;u=r.stepBackward(),c++}for(var h=0;h<c;h++)r.stepForward()}}while(l&&a<=0);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var d=r.getCurrentTokenRow(),p=r.getCurrentTokenColumn(),g=new f(d,p,d,p+i.value.length),m=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=m&&0!==g.compareRange(m.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(g,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.isFocused()||e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,r=t.end.column,i=e.getLine(t.start.row),o=i.substring(n,r);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=i.substring(n-1,r+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var r=this.selection.getAllRanges(),i=0;i<r.length;i++){var o=r[i];i&&r[i-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),b.lineMode=!!n&&s.text,s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===b.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){r.insert({row:e.start.row,column:0},t)}));else{var i=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,s=!(2!=i.length||i[0]&&i[1]);if(i.length!=o.length||s)return this.commands.exec("insertstring",this,t);for(var a=o.length;a--;){var l=o[a];l.isEmpty()||r.remove(l),r.insert(l.start,i[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(s=new f.fromPoints(i,i)).end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();i=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(i.row);if(i.column>a.search(/\S|$/)){var l=a.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var c=i.column,u=n.getState(i.row),h=(a=n.getLine(i.row),r.checkOutdent(u,a,e));if(n.insert(i,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(i.row,c+o.selection[0],i.row,c+o.selection[1])):this.selection.setSelectionRange(new f(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(u,a.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},d)}h&&r.autoOutdent(u,n,i.row)}},this.autoIndent=function(){var e,t,n=this.session,r=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var i=this.getSelectionRange();e=i.start.row,t=i.end.row}for(var o,s,a,l="",c="",u="",h=n.getTabString(),d=e;d<=t;d++)d>0&&(l=n.getState(d-1),c=n.getLine(d-1),u=r.getNextLineIndent(l,c,h)),o=n.getLine(d),u!==(s=r.$getIndent(o))&&(s.length>0&&(a=new f(d,0,d,s.length),n.remove(a)),u.length>0&&n.insert({row:d,column:0},u)),r.autoOutdent(l,n,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new f(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new f(e.row,t-2,e.row,t)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void e.indentRows(u.first,u.last,"\t")}}var r=e.getLine(t.start.row),i=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(i.row,i.column);if(this.session.getUseSoftTabs())var l=s-a%s,c=o.stringRepeat(" ",l);else{for(l=a%s;" "==r[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var i=new f(0,0,0,0);for(r=e.first;r<=e.last;r++){var o=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new f(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),s!==o.end&&n<s?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),u=new f(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,i=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-r-1;s<0&&(s=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&i.forEach((function(t,i){l=a+t.length,s>=a&&s<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+r),c.selection.selectTo(e,l+r)),a=l}));for(var u,h=this.$toggleWordPairs,d=0;d<h.length;d++)for(var f=h[d],p=0;p<=1;p++){var g=+!p,m=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(f[p])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(m[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(o.escapeRegExp(f[p]),"i"),(function(e){var t=f[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+f[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var h=u;s[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(s[u])).first,f=n.last;++u<c;){l&&s[u].moveBy(l,0);var p=this.$getSelectedRows(s[u]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}for(u--,a=this.session.$moveLines(d,f,t?0:e),t&&-1==e&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;t||(a=0),l+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(i,0)})):!1===t&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),o=i||r.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===i.value?c[o.value]++:"</"===i.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(i=o,o=r.stepForward(),u=0)}while(o&&!l);if(s){var d,p;if("bracket"===s)(d=this.session.getBracketRange(n))||(p=(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1)).start,(t||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(0===(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{o=i,(i=r.stepBackward())&&(-1!==i.type.indexOf("tag-close")&&d.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===i.value?c[g]++:"</"===i.value&&c[g]--,0===c[g]&&(l=!0)))}while(i&&!l)}o&&o.type.indexOf("tag-name")&&(p=d.start).row==n.row&&Math.abs(p.column-n.column)<2&&(p=d.end)}(p=d&&d.cursor||p)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",(function(){r=!0})),s=this.renderer.on("beforeRender",(function(){r&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;null!=(r=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(i.style.top=a+"px",i.style.left=o.left+"px",i.style.height=s.lineHeight+"px",i.scrollIntoView(r)),r=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var r=this;v.loadModule("./ext/prompt",(function(i){i.prompt(r,e,t,n)}))}}.call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?_.attach(this):_.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?_.attach(this):_.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),i.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),i.addCssClass(this.container,"ace_hasPlaceholder");var t=i.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var _={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=w})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){var r=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=n.length;r--;){var i=n[r][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,r=n.length;r--;){var i=n[r];if(i.rev<e)return t&&(i=n[r+1]),i}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=null,i=0,o=n.length;o--;){var s=n[o][0];if(s.id<t&&!r&&(r=o+1),s.id<=e){i=o+1;break}}return n.slice(i,r)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){for(;n<t-1;){var i=u(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),i=null;return r&&(i=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)g(e,r[i])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var r=this.$redoStack.pop(),i=null;return r&&(i=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(r.prototype);var i=e("./range").Range,o=i.comparePoints;i.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(n&&!r)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!n&&r)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(!n&&!r)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function u(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!c(e[n],t[r])){for(;n<e.length;){for(;r--;)c(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function h(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)o(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(n&&!r)o(e.start,t.end)>=0?d(e,t,-1):(o(e.start,t.start)<=0||d(e,i.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!n&&r)o(t.start,e.end)>=0?d(t,e,-1):(o(t.start,e.start)<=0||d(t,i.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!n&&!r)if(o(t.start,e.end)>=0)d(t,e,-1);else{var s,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(s=e,e=p(e,t.start)),o(e.end,t.end)>0&&(a=p(e,t.end)),f(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,n){f(e.start,t.start,t.end,n),f(e.end,t.start,t.end,n)}function f(e,t,n,r){e.row==(1==r?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function p(e,t){var n=e.lines,r=e.end;e.end=s(t);var i=e.end.row-e.start.row,o=n.splice(i,n.length),a=i?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:s(t),end:r,lines:o,action:e.action}}function g(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var r=e[n],i=0;i<r.length;i++){var o=h(r[i],t);t=o[0],2!=o.length&&(o[2]?(r.splice(i+1,1,o[1],o[2]),i++):o[1]||(r.splice(i,1),i--))}r.length||e.splice(n,1)}return e}t.UndoManager=r})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){var r=e("../lib/dom"),i=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){r.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var r=t.firstRowScreen*t.lineHeight,i=Math.floor(r/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-i*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,i){var o=this.cellCache.pop();if(!o){var s=r.createElement("div");i&&i(s),this.element.appendChild(s),o={element:s,text:"",row:e}}return o.row=e,o}}).call(i.prototype),t.Lines=i})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");return e.appendChild(n),e}(function(){i.implement(this,s),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===i.text.indexOf(s)&&i.text.push(s);var a=n.type;"error"==a?i.className=" ace_error":"warning"==a&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=a||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var i=t.getNextFoldLine(n),o=i?i.start.row:1/0,s=null,a=-1,l=n;;){if(l>o&&(l=i.end.row+1,o=(i=t.getNextFoldLine(l,i))?i.start.row:1/0),l>r){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,c),this.$lines.push(s)),this.$renderCell(s,e,i,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(i=t.getLength()+r-1);var o=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;r=t[n-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;if(this.oldLastRow=n,!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(r>n)for(i=this.session.getFoldedRowCount(n+1,r);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var r=[],i=t,o=this.session.getNextFoldLine(i),s=o?o.start.row:1/0;i>s&&(i=o.end.row+1,s=(o=this.session.getNextFoldLine(i,o))?o.start.row:1/0),!(i>n);){var a=this.$lines.createCell(i,e,this.session,c);this.$renderCell(a,e,o,i),r.push(a),i++}return r},this.$renderCell=function(e,t,n,i){var o=e.element,s=this.session,a=o.childNodes[0],l=o.childNodes[1],c=s.$firstLineNumber,u=s.$breakpoints,h=s.$decorations,d=s.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&s.foldWidgets,p=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=p&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[i]&&(g+=u[i]),h[i]&&(g+=h[i]),this.$annotations[i]&&(g+=this.$annotations[i].className),o.className!=g&&(o.className=g),f){var m=f[i];null==m&&(m=f[i]=s.getFoldWidget(i))}if(m){g="ace_fold-widget ace_"+m;"start"==m&&i==p&&i<n.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g);var v=t.lineHeight+"px";r.setStyle(l.style,"height",v),r.setStyle(l.style,"display","inline-block")}else l&&r.setStyle(l.style,"display","none");var y=(d?d.getText(s,i):i+c).toString();return y!==a.data&&(a.data=y),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,s)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,s)+"px"),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){var r=e("../range").Range,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e),s=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,s,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,i,o){for(var s=this.session,a=t.start.row,l=t.end.row,c=a,u=0,h=0,d=s.getScreenLastRowColumn(c),f=new r(c,t.start.column,c,h);c<=l;c++)f.start.row=f.end.row=c,f.start.column=c==a?t.start.column:s.getRowWrapIndent(c),f.end.column=d,u=h,h=d,d=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,f,n+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(u<h?2:0)|(h>d?4:0)|(c==l?8:0)),i,c==l?0:1,o)},this.drawMultiLineMarker=function(e,t,n,r,i){var o=this.$padding,s=r.lineHeight,a=this.$getTop(t.start.row,r),l=o+t.start.column*r.characterWidth;(i=i||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",r,null,i)):this.elt(n+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+a+"px;left:"+l+"px;"+(i||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",r,null,i)}else{a=this.$getTop(t.end.row,r);var u=t.end.column*r.characterWidth;this.elt(n+" ace_br12","height:"+s+"px;width:"+u+"px;top:"+a+"px;left:"+o+"px;"+(i||""))}if(!((s=(t.end.row-t.start.row-1)*r.lineHeight)<=0)){a=this.$getTop(t.start.row+1,r);var h=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(h?" ace_br"+h:""),"height:"+s+"px;right:0;top:"+a+"px;left:"+o+"px;"+(i||""))}},this.drawSingleLineMarker=function(e,t,n,r,i,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,i,o);var s=r.lineHeight,a=(t.end.column+(i||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),c=this.$padding+t.start.column*r.characterWidth;this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,r,i,o){var s=r.lineHeight,a=this.$getTop(t.start.row,r),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+e.width+(i||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(i||""))},this.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(i||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=i,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)};(function(){r.implement(this,a),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(r=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",r.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(r);else t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r,i=this.showSpaces?" ace_invisible ace_invisible_space":"",s=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),a=this.showTabs?" ace_invisible ace_invisible_tab":"",l=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):s;(r=this.dom.createElement("span")).className="ace_indent-guide"+i,r.textContent=s,this.$tabStrings[" "]=r,(r=this.dom.createElement("span")).className="ace_indent-guide"+a,r.textContent=l,this.$tabStrings["\t"]=r}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<r;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(r)){r=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,u=(a=r,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>u&&(a=l.end.row+1,u=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>i);){var h=o[s++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==u&&l),c&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=d&&(c=!0,h.style.height=d)}a++}if(c)for(;s<this.$lines.cells.length;){var f=this.$lines.cells[s++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){for(var r=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),i.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),i.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&s),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",r.push(l),o++}return r},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,r=this.$lines;r.getLength();)r.pop();r.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){for(var i,s=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,a=this.dom.createFragment(this.element),l=0;i=s.exec(r);){var c=i[1],u=i[2],h=i[3],d=i[4],f=i[5];if(this.showSpaces||!u){var p=l!=i.index?r.slice(l,i.index):"";if(l=i.index+i[0].length,p&&a.appendChild(this.dom.createTextNode(p,this.element)),c){var g=this.session.getScreenTabSize(t+i.index);a.appendChild(this.$tabStrings[g].cloneNode(!0)),t+=g-1}else if(u){if(this.showSpaces)(v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=o.stringRepeat(this.SPACE_CHAR,u.length),a.appendChild(v);else a.appendChild(this.com.createTextNode(u,this.element))}else if(h){(v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=o.stringRepeat(this.SPACE_CHAR,h.length),a.appendChild(v)}else if(d){t+=1,(v=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",v.className=this.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=this.showSpaces?this.SPACE_CHAR:d,a.appendChild(v)}else if(f){t+=1,(v=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",v.className="ace_cjk",v.textContent=f,a.appendChild(v)}}}if(a.appendChild(this.dom.createTextNode(l?r.slice(l):r,this.element)),this.$textToken[n.type])e.appendChild(a);else{var m="ace_"+n.type.replace(/\./g," ace_"),v=this.dom.createElement("span");"fold"==n.type&&(v.style.width=n.value.length*this.config.characterWidth+"px"),v.className=m,v.appendChild(a),e.appendChild(v)}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(" "==t[0]){for(var i=(r-=r%this.tabSize)/this.tabSize,o=0;o<i;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(r)}if("\t"==t[0]){for(o=0;o<r;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(r)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var r=0,i=0,s=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(r=h.length,!(h=this.renderIndentGuide(l,h,s)))continue;r-=h.length}if(r+h.length<s)a=this.$renderToken(l,a,u,h),r+=h.length;else{for(;r+h.length>=s;)a=this.$renderToken(l,a,u,h.substring(0,s-r)),h=h.substring(s-r),r=s,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("",n.indent),this.element)),a=0,s=n[++i]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,a=this.$renderToken(l,a,u,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var o=1;o<t.length;o++){if(n+(i=(r=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,r,i);n=this.$renderToken(e,n,r,i)}},this.$renderOverflowMessage=function(e,t,n,r,i){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=i?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var r=this.$getFoldLineTokens(t,n);else r=this.session.getTokens(t);var i=e;if(r.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,r,o);i=e.lastChild}else{i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,r)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showEOL&&i){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(s)}},this.$getFoldLineTokens=function(e,t){var n=this.session,r=[];var i=n.getTokens(e);return t.walk((function(e,t,o,s,a){null!=e?r.push({type:"fold",value:e}):(a&&(i=n.getTokens(t)),i.length&&function(e,t,n){for(var i=0,o=0;o+e[i].value.length<t;)if(o+=e[i].value.length,++i==e.length)return;for(o!=t&&((s=e[i].value.substring(t-o)).length>n-t&&(s=s.substring(0,n-t)),r.push({type:e[i].type,value:s}),o=t+s.length,i+=1);o<n&&i<e.length;){var s;(s=e[i].value).length+o>n?r.push({type:e[i].type,value:s.substring(0,n-o)}):r.push(e[i]),o+=s.length,i+=1}}(i,s,o))}),t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){var r=e("../lib/dom"),i=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)r.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&r.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,r.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,r.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var o=t.length;n<o;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var a=this.cursors[i++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,e,t[n],this.session):this.isCursorInView(s,e)?(r.setStyle(l,"display","block"),r.translate(a,s.left,s.top),r.setStyle(l,"width",Math.round(e.characterWidth)+"px"),r.setStyle(l,"height",e.lineHeight+"px")):r.setStyle(l,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){r.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};r.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>32768?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(r.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(i.prototype),t.RenderLoop=i})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c="function"==typeof ResizeObserver,u=200,h=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",256),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){r.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/256};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=i.buildDom([e(0,0),e(u,0),e(0,u),e(u,u)],this.el)},this.transformCoordinates=function(e,t){e&&(e=o(1/this.$getZoom(this.el),e));function n(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function r(e,t){return[e[0]-t[0],e[1]-t[1]]}function i(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),h=s(this.els[3]),d=n(r(h,l),r(h,c),r(i(l,c),i(h,a))),f=o(1+d[0],r(l,a)),p=o(1+d[1],r(c,a));if(t){var g=t,m=d[0]*g[0]/u+d[1]*g[1]/u+1,v=i(o(g[0],f),o(g[1],p));return i(o(1/m/u,v),a)}var y=r(e,a),b=n(r(f,o(d[0],y)),r(p,o(d[1],y)),y);return o(u,b)}}).call(h.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(e,t,n){var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,p=e("./lib/event_emitter").EventEmitter,g='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',m=e("./lib/useragent"),v=m.isIE;i.importCssString(g,"ace_editor.css",!1);var y=function(e,t){var n=this;this.container=e||i.createElement("div"),i.addCssClass(this.container,"ace_editor"),i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==o.get("useStrictCSP")&&o.set("useStrictCSP",!1),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var r=this.$textLayer=new l(this.content);this.canvas=r.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,p),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),i.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(r&&(e||s.height!=r)&&(s.height=r,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,"left",t+"px"),i.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";i.setStyle(this.scrollBarH.element.style,"right",l),i.setStyle(this.scroller.style,"right",l),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!r,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var r=this.layerConfig,o=n.top,s=n.left;o-=r.offset;var a=t&&t.useTextareaForIME?this.lineHeight:v?0:1;if(o<0||o>r.height-a)i.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,i.setStyle(e,"height",a+"px"),i.setStyle(e,"width",l+"px"),i.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(o,c))}}}else i.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.setMargin=function(e,t,n,r){var i=this.margin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",s=n.minHeight+"px";i.setStyle(this.content.style,"width",o),i.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength()*this.lineHeight,i=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-i-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,r-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,i+2*this.$padding-t.scrollerWidth+u.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+c<0||this.scrollTop>u.top),d=a!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var f,p,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=v+m,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var w=e.getFoldLine(v);w&&(v=w.start.row),f=e.documentToScreenRow(v,0),p=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*b+p,g=this.scrollTop-f*b;var _=0;return(this.layerConfig.width!=i||s)&&(_=this.CHANGE_H_SCROLL),(s||d)&&(_|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(i=this.$getLongestLine())),this.layerConfig={width:i,padding:this.$padding,firstRow:v,firstRowScreen:f,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:r,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(i-this.$padding),_},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft;c>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):c+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&i-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(o(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(i-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(i),!1!==n&&this.animateScrolling(o,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0])==n)return}var o=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=n,this.$timer=setInterval((function(){if(!r.session)return clearInterval(r.$timer);o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:i}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),i)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),o=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),i.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,r){var i=this.session;i.bgTokenizer.lines[n]=null;var o={type:t,value:e},s=i.getTokens(n);if(null==r)s.push(o);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(r<=(a+=c.value.length)){var u=c.value.length-(a-r),h=c.value.slice(0,u),d=c.value.slice(u);s.splice(l,1,{type:c.type,value:h},o,{type:c.type,value:d});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)s(e);else{var r=e||this.$options.theme.initialValue;o.loadModule(["theme",r],s)}function s(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.$id&&(n.$themeId=r.$id),i.importCssString(r.cssText,r.cssClass,n.container),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var o="padding"in r?r.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,"ace_dark",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:r}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){i.importCssString(g,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(y.prototype),o.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=y})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){var r=e("../lib/oop"),i=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,r,i,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)i=i||s.moduleUrl(n,"worker");else{var l=this.$normalizePath;i=i||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(i),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype);t.UIWorkerClient=function(e,t,n){var r=null,i=!1,a=Object.create(o),c=[],u=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),r&&(i?setTimeout(h):h())}});u.setEmitSync=function(e){i=e};var h=function(){var e=c.shift();e.command?r[e.command].apply(r,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){u.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(r=new e[n](a);c.length;)h()})),u},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,n,r,i,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(l=this.others[s]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var l;a={row:(l=this.others[s]).row,column:l.column+o};this.doc.remove(new r(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&i.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,h=e.editor,d=h.selection,f=h.inMultiSelectMode,p=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&o(p,g),v=e.x,y=e.y,b=h.session,w=h.renderer.pixelToScreenCoordinates(v,y),_=w;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=s?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!f&&s)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&i.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&m)return;if(!f){var S=d.toOrientedRange();h.addSelectionMarker(S)}var x=d.rangeList.rangeAtPoint(p);h.inVirtualSelectionMode=!0,s&&(x=null,S=d.ranges[0]||S,h.removeSelectionMarker(S)),h.once("mouseup",(function(){var e=d.toOrientedRange();x&&e.isEmpty()&&o(x.cursor,e.cursor)?d.substractPoint(e.cursor):(s?d.substractPoint(S.cursor):S&&(h.removeSelectionMarker(S),d.addRange(S)),d.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==u){var C;e.stop(),h.inVirtualSelectionMode=!0;var k=[],E=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);o(_,e)&&o(t,d.lead)||(_=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(k),k=d.rectangularRangeBlock(_,w),h.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=h.$mouseHandler.$clickSelection.clone()),k.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};f&&!l?d.toSingleRange():!f&&l&&(C=d.toOrientedRange(),h.addSelectionMarker(C)),s?w=b.documentToScreenPosition(d.lead):d.moveToPosition(p),_={row:-1,column:-1};var A=E;r.capture(h.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){E(),clearInterval(R),h.removeSelectionMarkers(k),k.length||(k=[d.toOrientedRange()]),C&&(h.removeSelectionMarker(C),d.toSingleRange(C));for(var t=0;t<k.length;t++)d.addRange(k[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var R=setInterval((function(){A()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var r=e("./range_list").RangeList,i=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=new(0,e("./search").Search);var h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var r=e[n],o=r.start.row,s=r.end.row;if(o===s)t.push(r.clone());else{for(t.push(new i(o,r.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new i(s,0,s,r.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(r,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var u,h,d,f=e.row<t.row;if(f)var p=e.row,g=t.row;else p=t.row,g=e.row;s<0&&(s=0),p<0&&(p=0),p==g&&(n=!0);for(var m=p;m<=g;m++){var v=i.fromPoints(this.session.screenToDocumentPosition(m,s,l),this.session.screenToDocumentPosition(m,a,c));if(v.isEmpty()){if(u&&(h=v.end,d=u,h.row==d.row&&h.column==d.column))break;u=v.end}v.cursor=o?v.start:v.end,r.push(v)}if(f&&r.reverse(),!n){for(var y=r.length-1;r[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;r[b].isEmpty();)b++;for(var w=y;w>=b;w--)r[w].isEmpty()&&r.splice(w,1)}return r}}.call(o.prototype);var d=e("./editor").Editor;function f(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(c.defaultCommands),function(e){if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;function r(t){n&&(e.renderer.setMouseCursor(""),n=!1)}a.addListener(t,"keydown",(function(t){var i=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&r()}),e),a.addListener(t,"keyup",r,e),a.addListener(t,"blur",r,e)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,s=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,u=(i?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=l._eventRegistry;l._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(s)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;d.fromOrientedRange(u[f]),d.index=f,this.selection=a.selection=d;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),d.toOrientedRange(u[f])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=h,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();(e=n.join(i)).length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var s=i.length;s--;)o.addRange(i[s],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(r?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);r?(s=i.fromPoints(a,c)).cursor=s.start:(s=i.fromPoints(c,a)).cursor=s.end;if(s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){if((a=r[i]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}n.mergeOverlappingRanges();var s=[];for(i=r.length;i--;){var a=r[i];s.unshift(t.getTextRange(a))}e<0?s.unshift(s.pop()):s.push(s.shift());for(i=r.length;i--;){o=(a=r[i]).clone();t.replace(a,s[i]),a.start.row=o.start.row,a.start.column=o.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect.toOrientedRange();if(!i.isEmpty()||((i=r.getWordRange(i.start.row,i.start.column)).cursor=-1==e?i.start:i.end,this.multiSelect.addRange(i),!n)){var o=r.getTextRange(i),s=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(r,o,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(i.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,o=n.filter((function(e){if(e.cursor.row==r)return!0;r=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,c=n.map((function(t){var n=t.cursor,r=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>s&&(s=n.column),r<a&&(a=r),r}));n.forEach((function(t,n){var r=t.cursor,o=s-r.column,u=c[n]-a;o>u?e.insert(r,l.stringRepeat(" ",o-u)):e.remove(new i(r.row,r.column,r.row,r.column-o+u)),t.start.column=t.end.column=s,t.start.row=t.end.row=r.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,f=h==d;if(f){var p,g=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<g);do{p=this.session.getLine(h)}while(/[=:]/.test(p)&&--h>0);h<0&&(h=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(h,d);m=this.$reAlignText(m,f),this.session.insert({row:h,column:0},m.join("\n")+"\n"),f||(u.start.column=0,u.end.column=m[m.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,r,i,o=!0,s=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,r=t[2].length,i=t[3].length,t):(n+r+i!=t[1].length+t[2].length+t[3].length&&(s=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),r<t[2].length&&(r=t[2].length),i>t[3].length&&(i=t[3].length),t):[e]})).map(t?c:o?s?function(e){return e[2]?a(n+r-e[2].length)+e[2]+a(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(r-e[2].length+i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=f,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){f(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,o=e.getLine(t),s=o.search(i);if(-1!=s){for(var a=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(i);if(-1!=h){if(h<=s){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}u=t}}if(u>c){var f=e.getLine(u).length;return new r(c,a,u,f)}}},this.openingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),r.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,r.fromPoints(a,s)}}).call(i.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){var r=e("./lib/dom");function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,o=r.end.row,s="add"==e.action,a=i+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[i]?n[o].hidden=s:n[i]=n[o]:(n[i]==n[o]&&(n[i]=void 0),n[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);!t[n]&&i[i.length-1]&&(t[n]=i.pop()),i.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(r);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var i=this.session.lineWidgets;e.row!=n.end.row||i[n.start.row]?e.hidden=!0:i[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/r.characterWidth));var a=s.h/r.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<i&&(i=s.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=i;s<=o;s++){var a=r[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){var r=e("../line_widgets").LineWidgets,i=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,u=function(e,t,n){var r=e.getAnnotations().sort(o.comparePoints);if(r.length){var i=function(e,t,n){for(var r=0,i=e.length-1;r<=i;){var o=r+i>>1,s=n(t,e[o]);if(s>0)r=o+1;else{if(!(s<0))return o;i=o-1}}return-(r+1)}(r,{row:t,column:-1},o.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:0===i&&n<0&&(i=r.length-1);var s=r[i];if(s&&n){if(s.row===t){do{s=r[i+=n]}while(s&&s.row===t);if(!s)return r.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=r[i+=n]}while(s&&s.row==t);return a.length&&a}}}(n,a,t);if(u){var h=u[0];s.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,s.row=h.row,c=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var d={row:s.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},f=d.el.appendChild(i.createElement("div")),p=d.el.appendChild(i.createElement("div"));p.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(s).left;p.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+c.className,f.innerHTML=c.text.join("<br>"),f.appendChild(i.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,n){e("./lib/fixoldbrowsers");var r=e("./lib/dom"),i=e("./lib/event"),o=e("./range").Range,s=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.edit=function(e,n){if("string"==typeof e){var o=e;if(!(e=document.getElementById(o)))throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;a=l.value,e=r.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(a=e.textContent,e.innerHTML="");var u=t.createEditSession(a),h=new s(new c(e),u,n),d={document:u,editor:h,onResize:h.resize.bind(h,null)};return l&&(d.textarea=l),i.addListener(window,"resize",d.onResize),h.on("destroy",(function(){i.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),h.container.env=h.env=d,h},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new l),n},t.Range=o,t.Editor=s,t.EditSession=a,t.UndoManager=l,t.VirtualRenderer=c,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))})),Cp=_((function(e,t){var n="[object Arguments]",r="[object Map]",i="[object Object]",o="[object Set]",s=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[n]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l[r]=l["[object Number]"]=l[i]=l["[object RegExp]"]=l[o]=l["[object String]"]=l["[object WeakMap]"]=!1;var c="object"==typeof b&&b&&b.Object===Object&&b,u="object"==typeof self&&self&&self.Object===Object&&self,h=c||u||Function("return this")(),d=t&&!t.nodeType&&t,f=d&&e&&!e.nodeType&&e,p=f&&f.exports===d,g=p&&c.process,m=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),v=m&&m.isTypedArray;function y(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function _(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var S,x,C,k=Array.prototype,E=Function.prototype,A=Object.prototype,R=h["__core-js_shared__"],T=E.toString,M=A.hasOwnProperty,O=(S=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",$=A.toString,L=RegExp("^"+T.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=p?h.Buffer:void 0,P=h.Symbol,D=h.Uint8Array,N=A.propertyIsEnumerable,F=k.splice,B=P?P.toStringTag:void 0,U=Object.getOwnPropertySymbols,z=I?I.isBuffer:void 0,W=(x=Object.keys,C=Object,function(e){return x(C(e))}),j=ve(h,"DataView"),H=ve(h,"Map"),V=ve(h,"Promise"),G=ve(h,"Set"),K=ve(h,"WeakMap"),q=ve(Object,"create"),X=_e(j),Y=_e(H),Q=_e(V),J=_e(G),Z=_e(K),ee=P?P.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ie;++t<n;)this.add(e[t])}function se(e){var t=this.__data__=new re(e);this.size=t.size}function ae(e,t){var n=Ce(e),r=!n&&xe(e),i=!n&&!r&&ke(e),o=!n&&!r&&!i&&Me(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=a.length;for(var c in e)!t&&!M.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||we(c,l))||a.push(c);return a}function le(e,t){for(var n=e.length;n--;)if(Se(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=M.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(e){}var i=$.call(e);r&&(t?e[B]=n:delete e[B]);return i}(e):function(e){return $.call(e)}(e)}function ue(e){return Te(e)&&ce(e)==n}function he(e,t,s,a,l){return e===t||(null==e||null==t||!Te(e)&&!Te(t)?e!=e&&t!=t:function(e,t,s,a,l,c){var u=Ce(e),h=Ce(t),d=u?"[object Array]":be(e),f=h?"[object Array]":be(t),p=(d=d==n?i:d)==i,g=(f=f==n?i:f)==i,m=d==f;if(m&&ke(e)){if(!ke(t))return!1;u=!0,p=!1}if(m&&!p)return c||(c=new se),u||Me(e)?pe(e,t,s,a,l,c):function(e,t,n,i,s,a,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new D(e),new D(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Se(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case r:var c=w;case o:var u=1&i;if(c||(c=_),e.size!=t.size&&!u)return!1;var h=l.get(e);if(h)return h==t;i|=2,l.set(e,t);var d=pe(c(e),c(t),i,s,a,l);return l.delete(e),d;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,d,s,a,l,c);if(!(1&s)){var v=p&&M.call(e,"__wrapped__"),y=g&&M.call(t,"__wrapped__");if(v||y){var b=v?e.value():e,S=y?t.value():t;return c||(c=new se),l(b,S,s,a,c)}}if(!m)return!1;return c||(c=new se),function(e,t,n,r,i,o){var s=1&n,a=ge(e),l=a.length,c=ge(t).length;if(l!=c&&!s)return!1;var u=l;for(;u--;){var h=a[u];if(!(s?h in t:M.call(t,h)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);var p=s;for(;++u<l;){h=a[u];var g=e[h],m=t[h];if(r)var v=s?r(m,g,h,t,e,o):r(g,m,h,e,t,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,s,a,l,c)}(e,t,s,a,he,l))}function de(e){return!(!Re(e)||function(e){return!!O&&O in e}(e))&&(Ee(e)?L:s).test(_e(e))}function fe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||A,t!==r)return W(e);var t,n,r,i=[];for(var o in Object(e))M.call(e,o)&&"constructor"!=o&&i.push(o);return i}function pe(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,h=!0,d=2&n?new oe:void 0;for(o.set(e,t),o.set(t,e);++u<a;){var f=e[u],p=t[u];if(r)var g=s?r(p,f,u,t,e,o):r(f,p,u,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!y(t,(function(e,t){if(s=t,!d.has(s)&&(f===e||i(f,e,n,r,o)))return d.push(t);var s}))){h=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ge(e){return function(e,t,n){var r=t(e);return Ce(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Oe,ye)}function me(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return de(n)?n:void 0}ne.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return M.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:M.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0)&&(n==t.length-1?t.pop():F.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return le(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(H||re),string:new ne}},ie.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return me(this,e).get(e)},ie.prototype.has=function(e){return me(this,e).has(e)},ie.prototype.set=function(e,t){var n=me(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},oe.prototype.add=oe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oe.prototype.has=function(e){return this.__data__.has(e)},se.prototype.clear=function(){this.__data__=new re,this.size=0},se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(r)}return n.set(e,t),this.size=n.size,this};var ye=U?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}(U(e),(function(t){return N.call(e,t)})))}:function(){return[]},be=ce;function we(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function _e(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Se(e,t){return e===t||e!=e&&t!=t}(j&&"[object DataView]"!=be(new j(new ArrayBuffer(1)))||H&&be(new H)!=r||V&&"[object Promise]"!=be(V.resolve())||G&&be(new G)!=o||K&&"[object WeakMap]"!=be(new K))&&(be=function(e){var t=ce(e),n=t==i?e.constructor:void 0,s=n?_e(n):"";if(s)switch(s){case X:return"[object DataView]";case Y:return r;case Q:return"[object Promise]";case J:return o;case Z:return"[object WeakMap]"}return t});var xe=ue(function(){return arguments}())?ue:function(e){return Te(e)&&M.call(e,"callee")&&!N.call(e,"callee")},Ce=Array.isArray;var ke=z||function(){return!1};function Ee(e){if(!Re(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ae(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Re(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Te(e){return null!=e&&"object"==typeof e}var Me=v?function(e){return function(t){return e(t)}}(v):function(e){return Te(e)&&Ae(e.length)&&!!l[ce(e)]};function Oe(e){return null!=(t=e)&&Ae(t.length)&&!Ee(t)?ae(e):fe(e);var t}e.exports=function(e,t){return he(e,t)}})),kp=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getAceInstance=t.debounce=t.editorEvents=t.editorOptions=void 0;t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];t.getAceInstance=function(){var e;return"undefined"==typeof window?(b.window={},e=xp,delete b.window):window.ace?(e=window.ace).acequire=window.ace.require||window.ace.acequire:e=xp,e};t.debounce=function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)}}}));w(kp);kp.getAceInstance,kp.debounce,kp.editorEvents,kp.editorOptions;var Ep=_((function(e,t){var n,r=b&&b.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=b&&b.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=(0,kp.getAceInstance)(),s=function(e){function t(t){var n=e.call(this,t)||this;return kp.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=kp.debounce,n}return r(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.onValidate,s=t.mode,a=t.focus,l=t.theme,c=t.fontSize,u=t.value,h=t.defaultValue,d=t.showGutter,f=t.wrapEnabled,p=t.showPrintMargin,g=t.scrollMargin,m=void 0===g?[0,0,0,0]:g,v=t.keyboardHandler,y=t.onLoad,b=t.commands,w=t.annotations,_=t.markers,S=t.placeholder;this.editor=o.edit(this.refEditor),r&&r(o);for(var x=Object.keys(this.props.editorProps),C=0;C<x.length;C++)this.editor[x[C]]=this.props.editorProps[x[C]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(m[0],m[1],m[2],m[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode("string"==typeof s?"ace/mode/"+s:s),l&&""!==l&&this.editor.setTheme("ace/theme/"+l),this.editor.setFontSize("number"==typeof c?c+"px":c),this.editor.getSession().setValue(h||(u||"")),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(d),this.editor.getSession().setUseWrapMode(f),this.editor.setShowPrintMargin(p),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),S&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),i&&this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(w||[]),_&&_.length>0&&this.handleMarkers(_);var k=this.editor.$options;kp.editorOptions.forEach((function(t){k.hasOwnProperty(t)?e.editor.setOption(t,e.props[t]):e.props[t]&&console.warn("ReactAce: editor option "+t+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")})),this.handleOptions(this.props),Array.isArray(b)&&b.forEach((function(t){"string"==typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)})),v&&this.editor.setKeyboardHandler("ace/keyboard/"+v),n&&(this.refEditor.className+=" "+n),y&&y(this.editor),this.editor.resize(),a&&this.editor.focus()},t.prototype.componentDidUpdate=function(e){for(var t=e,n=this.props,r=0;r<kp.editorOptions.length;r++){var i=kp.editorOptions[r];n[i]!==t[i]&&this.editor.setOption(i,n[i])}if(n.className!==t.className){var o=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+n.className+" "+o.join(" ")}if(this.editor&&null!=n.value&&this.editor.getValue()!==n.value){this.silent=!0;var s=this.editor.session.selection.toJSON();this.editor.setValue(n.value,n.cursorStart),this.editor.session.selection.fromJSON(s),this.silent=!1}n.placeholder!==t.placeholder&&this.updatePlaceholder(),n.mode!==t.mode&&this.editor.getSession().setMode("string"==typeof n.mode?"ace/mode/"+n.mode:n.mode),n.theme!==t.theme&&this.editor.setTheme("ace/theme/"+n.theme),n.keyboardHandler!==t.keyboardHandler&&(n.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+n.keyboardHandler):this.editor.setKeyboardHandler(null)),n.fontSize!==t.fontSize&&this.editor.setFontSize("number"==typeof n.fontSize?n.fontSize+"px":n.fontSize),n.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(n.showPrintMargin),n.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(n.showGutter),Cp(n.setOptions,t.setOptions)||this.handleOptions(n),Cp(n.annotations,t.annotations)||this.editor.getSession().setAnnotations(n.annotations||[]),!Cp(n.markers,t.markers)&&Array.isArray(n.markers)&&this.handleMarkers(n.markers),Cp(n.scrollMargin,t.scrollMargin)||this.handleScrollMargins(n.scrollMargin),e.height===this.props.height&&e.width===this.props.width||this.editor.resize(),this.props.focus&&!e.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(e){void 0===e&&(e=[0,0,0,0]),this.editor.renderer.setScrollMargin(e[0],e[1],e[2],e[3])},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e,this.editor)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)},t.prototype.onCopy=function(e){var t=e.text;this.props.onCopy&&this.props.onCopy(t)},t.prototype.onPaste=function(e){var t=e.text;this.props.onPaste&&this.props.onPaste(t)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])},t.prototype.handleMarkers=function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);for(var r in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(r)&&"ace_active-line"!==n[r].clazz&&"ace_selected-word"!==n[r].clazz&&this.editor.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.startRow,r=e.startCol,i=e.endRow,o=e.endCol,s=e.className,a=e.type,l=e.inFront,c=void 0!==l&&l,u=new xp.Range(n,r,i,o);t.editor.getSession().addMarker(u,s,a,c)}))},t.prototype.updatePlaceholder=function(){var e=this.editor,t=this.props.placeholder,n=!e.session.getValue().length,r=e.renderer.placeholderNode;!n&&r?(e.renderer.scroller.removeChild(e.renderer.placeholderNode),e.renderer.placeholderNode=null):n&&!r?((r=e.renderer.placeholderNode=document.createElement("div")).textContent=t||"",r.className="ace_comment ace_placeholder",r.style.padding="0 9px",r.style.position="absolute",r.style.zIndex="3",e.renderer.scroller.appendChild(r)):n&&r&&(r.textContent=t)},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,r=e.height,o=e.style,s=i({width:n,height:r},o);return ue.createElement("div",{ref:this.updateRef,id:t,style:s})},t.propTypes={mode:Hu.oneOfType([Hu.string,Hu.object]),focus:Hu.bool,theme:Hu.string,name:Hu.string,className:Hu.string,height:Hu.string,width:Hu.string,fontSize:Hu.oneOfType([Hu.number,Hu.string]),showGutter:Hu.bool,onChange:Hu.func,onCopy:Hu.func,onPaste:Hu.func,onFocus:Hu.func,onInput:Hu.func,onBlur:Hu.func,onScroll:Hu.func,value:Hu.string,defaultValue:Hu.string,onLoad:Hu.func,onSelectionChange:Hu.func,onCursorChange:Hu.func,onBeforeLoad:Hu.func,onValidate:Hu.func,minLines:Hu.number,maxLines:Hu.number,readOnly:Hu.bool,highlightActiveLine:Hu.bool,tabSize:Hu.number,showPrintMargin:Hu.bool,cursorStart:Hu.number,debounceChangePeriod:Hu.number,editorProps:Hu.object,setOptions:Hu.object,style:Hu.object,scrollMargin:Hu.array,annotations:Hu.array,markers:Hu.array,keyboardHandler:Hu.string,wrapEnabled:Hu.bool,enableSnippets:Hu.bool,enableBasicAutocompletion:Hu.oneOfType([Hu.bool,Hu.array]),enableLiveAutocompletion:Hu.oneOfType([Hu.bool,Hu.array]),navigateToFileEnd:Hu.bool,commands:Hu.array,placeholder:Hu.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(ue.Component);t.default=s}));w(Ep);var Ap=_((function(e,t){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],(function(e,t,n){var r=e("./lib/oop"),i=(e("./lib/lang"),e("./lib/event_emitter").EventEmitter),o=e("./editor").Editor,s=e("./virtual_renderer").VirtualRenderer,a=e("./edit_session").EditSession,l=function(e,t,n){this.BELOW=1,this.BESIDE=0,this.$container=e,this.$theme=t,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(n||1),this.$cEditor=this.$editors[0],this.on("focus",function(e){this.$cEditor=e}.bind(this))};(function(){r.implement(this,i),this.$createEditor=function(){var e=document.createElement("div");e.className=this.$editorCSS,e.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(e);var t=new o(new s(e,this.$theme));return t.on("focus",function(){this._emit("focus",t)}.bind(this)),this.$editors.push(t),t.setFontSize(this.$fontSize),t},this.setSplits=function(e){var t;if(e<1)throw"The number of splits have to be > 0!";if(e!=this.$splits){if(e>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<e;)t=this.$editors[this.$splits],this.$container.appendChild(t.container),t.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<e;)this.$createEditor(),this.$splits++}else for(;this.$splits>e;)t=this.$editors[this.$splits-1],this.$container.removeChild(t.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(e){return this.$editors[e]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(e){this.$editors.forEach((function(t){t.setTheme(e)}))},this.setKeyboardHandler=function(e){this.$editors.forEach((function(t){t.setKeyboardHandler(e)}))},this.forEach=function(e,t){this.$editors.forEach(e,t)},this.$fontSize="",this.setFontSize=function(e){this.$fontSize=e,this.forEach((function(t){t.setFontSize(e)}))},this.$cloneSession=function(e){var t=new a(e.getDocument(),e.getMode()),n=e.getUndoManager();return t.setUndoManager(n),t.setTabSize(e.getTabSize()),t.setUseSoftTabs(e.getUseSoftTabs()),t.setOverwrite(e.getOverwrite()),t.setBreakpoints(e.getBreakpoints()),t.setUseWrapMode(e.getUseWrapMode()),t.setUseWorker(e.getUseWorker()),t.setWrapLimitRange(e.$wrapLimitRange.min,e.$wrapLimitRange.max),t.$foldData=e.$cloneFoldData(),t},this.setSession=function(e,t){var n;return n=null==t?this.$cEditor:this.$editors[t],this.$editors.some((function(t){return t.session===e}))&&(e=this.$cloneSession(e)),n.setSession(e),e},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(e){this.$orientation!=e&&(this.$orientation=e,this.resize())},this.resize=function(){var e,t=this.$container.clientWidth,n=this.$container.clientHeight;if(this.$orientation==this.BESIDE)for(var r=t/this.$splits,i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=r+"px",e.container.style.top="0px",e.container.style.left=i*r+"px",e.container.style.height=n+"px",e.resize();else{var o=n/this.$splits;for(i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=t+"px",e.container.style.top=i*o+"px",e.container.style.left="0px",e.container.style.height=o+"px",e.resize()}}}).call(l.prototype),t.Split=l})),ace.define("ace/ext/split",["require","exports","module","ace/split"],(function(e,t,n){n.exports=e("../split")})),ace.require(["ace/ext/split"],(function(t){e&&(e.exports=t)}))})),Rp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tp=/^\w*$/,Mp=/^\./,Op=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$p=/\\(\\)?/g,Lp=/^\[object .+?Constructor\]$/,Ip="object"==typeof b&&b&&b.Object===Object&&b,Pp="object"==typeof self&&self&&self.Object===Object&&self,Dp=Ip||Pp||Function("return this")();var Np,Fp=Array.prototype,Bp=Function.prototype,Up=Object.prototype,zp=Dp["__core-js_shared__"],Wp=(Np=/[^.]+$/.exec(zp&&zp.keys&&zp.keys.IE_PROTO||""))?"Symbol(src)_1."+Np:"",jp=Bp.toString,Hp=Up.hasOwnProperty,Vp=Up.toString,Gp=RegExp("^"+jp.call(Hp).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kp=Dp.Symbol,qp=Fp.splice,Xp=sg(Dp,"Map"),Yp=sg(Object,"create"),Qp=Kp?Kp.prototype:void 0,Jp=Qp?Qp.toString:void 0;function Zp(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function eg(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function tg(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ng(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function rg(e,t){for(var n,r=0,i=(t=function(e,t){if(ug(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||dg(e))return!0;return Tp.test(e)||!Rp.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:ug(n=t)?n:ag(n)).length;null!=e&&r<i;)e=e[lg(t[r++])];return r&&r==i?e:void 0}function ig(e){return!(!hg(e)||(t=e,Wp&&Wp in t))&&(function(e){var t=hg(e)?Vp.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Gp:Lp).test(function(e){if(null!=e){try{return jp.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function og(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function sg(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ig(n)?n:void 0}Zp.prototype.clear=function(){this.__data__=Yp?Yp(null):{}},Zp.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Zp.prototype.get=function(e){var t=this.__data__;if(Yp){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Hp.call(t,e)?t[e]:void 0},Zp.prototype.has=function(e){var t=this.__data__;return Yp?void 0!==t[e]:Hp.call(t,e)},Zp.prototype.set=function(e,t){return this.__data__[e]=Yp&&void 0===t?"__lodash_hash_undefined__":t,this},eg.prototype.clear=function(){this.__data__=[]},eg.prototype.delete=function(e){var t=this.__data__,n=ng(t,e);return!(n<0)&&(n==t.length-1?t.pop():qp.call(t,n,1),!0)},eg.prototype.get=function(e){var t=this.__data__,n=ng(t,e);return n<0?void 0:t[n][1]},eg.prototype.has=function(e){return ng(this.__data__,e)>-1},eg.prototype.set=function(e,t){var n=this.__data__,r=ng(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},tg.prototype.clear=function(){this.__data__={hash:new Zp,map:new(Xp||eg),string:new Zp}},tg.prototype.delete=function(e){return og(this,e).delete(e)},tg.prototype.get=function(e){return og(this,e).get(e)},tg.prototype.has=function(e){return og(this,e).has(e)},tg.prototype.set=function(e,t){return og(this,e).set(e,t),this};var ag=cg((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(dg(e))return Jp?Jp.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return Mp.test(e)&&n.push(""),e.replace(Op,(function(e,t,r,i){n.push(r?i.replace($p,"$1"):t||e)})),n}));function lg(e){if("string"==typeof e||dg(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function cg(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(cg.Cache||tg),n}cg.Cache=tg;var ug=Array.isArray;function hg(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function dg(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Vp.call(e)}var fg=function(e,t,n){var r=null==e?void 0:rg(e,t);return void 0===r?n:r},pg=_((function(e,t){var n,r=b&&b.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=b&&b.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=(0,kp.getAceInstance)(),s=function(e){function t(t){var n=e.call(this,t)||this;return kp.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=kp.debounce,n}return r(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.mode,s=t.focus,a=t.theme,l=t.fontSize,c=t.value,u=t.defaultValue,h=t.cursorStart,d=t.showGutter,f=t.wrapEnabled,p=t.showPrintMargin,g=t.scrollMargin,m=void 0===g?[0,0,0,0]:g,v=t.keyboardHandler,y=t.onLoad,b=t.commands,w=t.annotations,_=t.markers,S=t.splits;this.editor=o.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/"+a),r&&r(o);var x=Object.keys(this.props.editorProps),C=new Ap.Split(this.editor.container,"ace/theme/"+a,S);this.editor.env.split=C,this.splitEditor=C.getEditor(0),this.split=C,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var k=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),C.forEach((function(t,n){for(var r=0;r<x.length;r++)t[x[r]]=e.props.editorProps[x[r]];var s=fg(u,n),g=fg(c,n,"");t.session.setUndoManager(new o.UndoManager),t.setTheme("ace/theme/"+a),t.renderer.setScrollMargin(m[0],m[1],m[2],m[3]),t.getSession().setMode("ace/mode/"+i),t.setFontSize(l),t.renderer.setShowGutter(d),t.getSession().setUseWrapMode(f),t.setShowPrintMargin(p),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===s?g:s,h);var y=fg(w,n,[]),S=fg(_,n,[]);t.getSession().setAnnotations(y),S&&S.length>0&&e.handleMarkers(S,t);for(r=0;r<kp.editorOptions.length;r++){var C=kp.editorOptions[r];k.hasOwnProperty(C)?t.setOption(C,e.props[C]):e.props[C]&&console.warn("ReaceAce: editor option "+C+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}e.handleOptions(e.props,t),Array.isArray(b)&&b.forEach((function(e){"string"==typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)})),v&&t.setKeyboardHandler("ace/keyboard/"+v)})),n&&(this.refEditor.className+=" "+n),s&&this.splitEditor.focus();var E=this.editor.env.split;E.setOrientation("below"===this.props.orientation?E.BELOW:E.BESIDE),E.resize(!0),y&&y(E)},t.prototype.componentDidUpdate=function(e){var t=this,n=e,r=this.props,i=this.editor.env.split;if(r.splits!==n.splits&&i.setSplits(r.splits),r.orientation!==n.orientation&&i.setOrientation("below"===r.orientation?i.BELOW:i.BESIDE),i.forEach((function(e,i){r.mode!==n.mode&&e.getSession().setMode("ace/mode/"+r.mode),r.keyboardHandler!==n.keyboardHandler&&(r.keyboardHandler?e.setKeyboardHandler("ace/keyboard/"+r.keyboardHandler):e.setKeyboardHandler(null)),r.fontSize!==n.fontSize&&e.setFontSize(r.fontSize),r.wrapEnabled!==n.wrapEnabled&&e.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==n.showPrintMargin&&e.setShowPrintMargin(r.showPrintMargin),r.showGutter!==n.showGutter&&e.renderer.setShowGutter(r.showGutter);for(var o=0;o<kp.editorOptions.length;o++){var s=kp.editorOptions[o];r[s]!==n[s]&&e.setOption(s,r[s])}Cp(r.setOptions,n.setOptions)||t.handleOptions(r,e);var a=fg(r.value,i,"");if(e.getValue()!==a){t.silent=!0;var l=e.session.selection.toJSON();e.setValue(a,r.cursorStart),e.session.selection.fromJSON(l),t.silent=!1}var c=fg(r.annotations,i,[]),u=fg(n.annotations,i,[]);Cp(c,u)||e.getSession().setAnnotations(c);var h=fg(r.markers,i,[]),d=fg(n.markers,i,[]);!Cp(h,d)&&Array.isArray(h)&&t.handleMarkers(h,e)})),r.className!==n.className){var o=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+r.className+" "+o.join(" ")}r.theme!==n.theme&&i.setTheme("ace/theme/"+r.theme),r.focus&&!n.focus&&this.splitEditor.focus(),r.height===this.props.height&&r.width===this.props.width||this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getValue())})),this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onCursorChange(t,e)}},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e,t){for(var n=Object.keys(e.setOptions),r=0;r<n.length;r++)t.setOption(n[r],e.setOptions[n[r]])},t.prototype.handleMarkers=function(e,t){var n=t.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);for(var r in n=t.getSession().getMarkers(!1))n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.startRow,r=e.startCol,i=e.endRow,o=e.endCol,s=e.className,a=e.type,l=e.inFront,c=void 0!==l&&l,u=new xp.Range(n,r,i,o);t.getSession().addMarker(u,s,a,c)}))},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,r=e.height,o=e.style,s=i({width:n,height:r},o);return ue.createElement("div",{ref:this.updateRef,id:t,style:s})},t.propTypes={className:Hu.string,debounceChangePeriod:Hu.number,defaultValue:Hu.arrayOf(Hu.string),focus:Hu.bool,fontSize:Hu.oneOfType([Hu.number,Hu.string]),height:Hu.string,mode:Hu.string,name:Hu.string,onBlur:Hu.func,onChange:Hu.func,onCopy:Hu.func,onFocus:Hu.func,onInput:Hu.func,onLoad:Hu.func,onPaste:Hu.func,onScroll:Hu.func,orientation:Hu.string,showGutter:Hu.bool,splits:Hu.number,theme:Hu.string,value:Hu.arrayOf(Hu.string),width:Hu.string,onSelectionChange:Hu.func,onCursorChange:Hu.func,onBeforeLoad:Hu.func,minLines:Hu.number,maxLines:Hu.number,readOnly:Hu.bool,highlightActiveLine:Hu.bool,tabSize:Hu.number,showPrintMargin:Hu.bool,cursorStart:Hu.number,editorProps:Hu.object,setOptions:Hu.object,style:Hu.object,scrollMargin:Hu.array,annotations:Hu.array,markers:Hu.array,keyboardHandler:Hu.string,wrapEnabled:Hu.bool,enableBasicAutocompletion:Hu.oneOfType([Hu.bool,Hu.array]),enableLiveAutocompletion:Hu.oneOfType([Hu.bool,Hu.array]),commands:Hu.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(ue.Component);t.default=s}));w(pg);var gg=_((function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,r,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==n)throw new Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(0,e)]:[];void 0===r&&(r=!0);var s=r,a=this.diff_commonPrefix(e,n),l=e.substring(0,a);e=e.substring(a),n=n.substring(a),a=this.diff_commonSuffix(e,n);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),n=n.substring(0,n.length-a);var u=this.diff_compute_(e,n,s,o);return l&&u.unshift(new t.Diff(0,l)),c&&u.push(new t.Diff(0,c)),this.diff_cleanupMerge(u),u},t.prototype.diff_compute_=function(e,n,r,i){var o;if(!e)return[new t.Diff(1,n)];if(!n)return[new t.Diff(-1,e)];var s=e.length>n.length?e:n,a=e.length>n.length?n:e,l=s.indexOf(a);if(-1!=l)return o=[new t.Diff(1,s.substring(0,l)),new t.Diff(0,a),new t.Diff(1,s.substring(l+a.length))],e.length>n.length&&(o[0][0]=o[2][0]=-1),o;if(1==a.length)return[new t.Diff(-1,e),new t.Diff(1,n)];var c=this.diff_halfMatch_(e,n);if(c){var u=c[0],h=c[1],d=c[2],f=c[3],p=c[4],g=this.diff_main(u,d,r,i),m=this.diff_main(h,f,r,i);return g.concat([new t.Diff(0,p)],m)}return r&&e.length>100&&n.length>100?this.diff_lineMode_(e,n,i):this.diff_bisect_(e,n,i)},t.prototype.diff_lineMode_=function(e,n,r){var i=this.diff_linesToChars_(e,n);e=i.chars1,n=i.chars2;var o=i.lineArray,s=this.diff_main(e,n,!1,r);this.diff_charsToLines_(s,o),this.diff_cleanupSemantic(s),s.push(new t.Diff(0,""));for(var a=0,l=0,c=0,u="",h="";a<s.length;){switch(s[a][0]){case 1:c++,h+=s[a][1];break;case-1:l++,u+=s[a][1];break;case 0:if(l>=1&&c>=1){s.splice(a-l-c,l+c),a=a-l-c;for(var d=this.diff_main(u,h,!1,r),f=d.length-1;f>=0;f--)s.splice(a,0,d[f]);a+=d.length}c=0,l=0,u="",h=""}a++}return s.pop(),s},t.prototype.diff_bisect_=function(e,n,r){for(var i=e.length,o=n.length,s=Math.ceil((i+o)/2),a=s,l=2*s,c=new Array(l),u=new Array(l),h=0;h<l;h++)c[h]=-1,u[h]=-1;c[a+1]=0,u[a+1]=0;for(var d=i-o,f=d%2!=0,p=0,g=0,m=0,v=0,y=0;y<s&&!((new Date).getTime()>r);y++){for(var b=-y+p;b<=y-g;b+=2){for(var w=a+b,_=(E=b==-y||b!=y&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1)-b;E<i&&_<o&&e.charAt(E)==n.charAt(_);)E++,_++;if(c[w]=E,E>i)g+=2;else if(_>o)p+=2;else if(f){if((C=a+d-b)>=0&&C<l&&-1!=u[C])if(E>=(x=i-u[C]))return this.diff_bisectSplit_(e,n,E,_,r)}}for(var S=-y+m;S<=y-v;S+=2){for(var x,C=a+S,k=(x=S==-y||S!=y&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1)-S;x<i&&k<o&&e.charAt(i-x-1)==n.charAt(o-k-1);)x++,k++;if(u[C]=x,x>i)v+=2;else if(k>o)m+=2;else if(!f){if((w=a+d-S)>=0&&w<l&&-1!=c[w]){var E;_=a+(E=c[w])-w;if(E>=(x=i-x))return this.diff_bisectSplit_(e,n,E,_,r)}}}}return[new t.Diff(-1,e),new t.Diff(1,n)]},t.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),c=this.diff_main(o,s,!1,i),u=this.diff_main(a,l,!1,i);return c.concat(u)},t.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,s=-1,a=n.length;s<e.length-1;){-1==(s=e.indexOf("\n",i))&&(s=e.length-1);var l=e.substring(i,s+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(a==o&&(l=e.substring(i),s=e.length),t+=String.fromCharCode(a),r[l]=a,n[a++]=l),i=s+1}return t}n[0]="";var o=4e4,s=i(e);return o=65535,{chars1:s,chars2:i(t),lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),l=t.indexOf(a);if(-1==l)return o;s+=l,0!=l&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,s,a,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(l,c+1));){var h=i.diff_commonPrefix(e.substring(n),t.substring(c)),d=i.diff_commonSuffix(e.substring(0,n),t.substring(0,c));u.length<d+h&&(u=t.substring(c-d,c)+t.substring(c,c+h),r=e.substring(0,n-d),o=e.substring(n+h),s=t.substring(0,c-d),a=t.substring(c+h))}return 2*u.length>=e.length?[r,o,s,a,u]:null}var s,a,l,c,u,h=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));return h||d?(s=d?h&&h[4].length>d[4].length?h:d:h,e.length>t.length?(a=s[0],l=s[1],c=s[2],u=s[3]):(c=s[0],u=s[1],a=s[2],l=s[3]),[a,l,c,u,s[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var n=!1,r=[],i=0,o=null,s=0,a=0,l=0,c=0,u=0;s<e.length;)0==e[s][0]?(r[i++]=s,a=c,l=u,c=0,u=0,o=e[s][1]):(1==e[s][0]?c+=e[s][1].length:u+=e[s][1].length,o&&o.length<=Math.max(a,l)&&o.length<=Math.max(c,u)&&(e.splice(r[i-1],0,new t.Diff(-1,o)),e[r[i-1]+1][0]=1,i--,s=--i>0?r[i-1]:-1,a=0,l=0,c=0,u=0,o=null,n=!0)),s++;for(n&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(-1==e[s-1][0]&&1==e[s][0]){var h=e[s-1][1],d=e[s][1],f=this.diff_commonOverlap_(h,d),p=this.diff_commonOverlap_(d,h);f>=p?(f>=h.length/2||f>=d.length/2)&&(e.splice(s,0,new t.Diff(0,d.substring(0,f))),e[s-1][1]=h.substring(0,h.length-f),e[s+1][1]=d.substring(f),s++):(p>=h.length/2||p>=d.length/2)&&(e.splice(s,0,new t.Diff(0,h.substring(0,p))),e[s-1][0]=1,e[s-1][1]=d.substring(0,d.length-p),e[s+1][0]=-1,e[s+1][1]=h.substring(p),s++),s++}s++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),o=r.match(t.nonAlphaNumericRegex_),s=i.match(t.nonAlphaNumericRegex_),a=o&&r.match(t.whitespaceRegex_),l=s&&i.match(t.whitespaceRegex_),c=a&&r.match(t.linebreakRegex_),u=l&&i.match(t.linebreakRegex_),h=c&&e.match(t.blanklineEndRegex_),d=u&&n.match(t.blanklineStartRegex_);return h||d?5:c||u?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var i=e[r-1][1],o=e[r][1],s=e[r+1][1],a=this.diff_commonSuffix(i,o);if(a){var l=o.substring(o.length-a);i=i.substring(0,i.length-a),o=l+o.substring(0,o.length-a),s=l+s}for(var c=i,u=o,h=s,d=n(i,o)+n(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var f=n(i,o)+n(o,s);f>=d&&(d=f,c=i,u=o,h=s)}e[r-1][1]!=c&&(c?e[r-1][1]=c:(e.splice(r-1,1),r--),e[r][1]=u,h?e[r+1][1]=h:(e.splice(r+1,1),r--))}r++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var n=!1,r=[],i=0,o=null,s=0,a=!1,l=!1,c=!1,u=!1;s<e.length;)0==e[s][0]?(e[s][1].length<this.Diff_EditCost&&(c||u)?(r[i++]=s,a=c,l=u,o=e[s][1]):(i=0,o=null),c=u=!1):(-1==e[s][0]?u=!0:c=!0,o&&(a&&l&&c&&u||o.length<this.Diff_EditCost/2&&a+l+c+u==3)&&(e.splice(r[i-1],0,new t.Diff(-1,o)),e[r[i-1]+1][0]=1,i--,o=null,a&&l?(c=u=!0,i=0):(s=--i>0?r[i-1]:-1,c=u=!1),n=!0)),s++;n&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var n,r=0,i=0,o=0,s="",a="";r<e.length;)switch(e[r][0]){case 1:o++,a+=e[r][1],r++;break;case-1:i++,s+=e[r][1],r++;break;case 0:i+o>1?(0!==i&&0!==o&&(0!==(n=this.diff_commonPrefix(a,s))&&(r-i-o>0&&0==e[r-i-o-1][0]?e[r-i-o-1][1]+=a.substring(0,n):(e.splice(0,0,new t.Diff(0,a.substring(0,n))),r++),a=a.substring(n),s=s.substring(n)),0!==(n=this.diff_commonSuffix(a,s))&&(e[r][1]=a.substring(a.length-n)+e[r][1],a=a.substring(0,a.length-n),s=s.substring(0,s.length-n))),r-=i+o,e.splice(r,i+o),s.length&&(e.splice(r,0,new t.Diff(-1,s)),r++),a.length&&(e.splice(r,0,new t.Diff(1,a)),r++),r++):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,i=0,s="",a=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),l=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),l=!0)),r++;l&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var n,r=0,i=0,o=0,s=0;for(n=0;n<e.length&&(1!==e[n][0]&&(r+=e[n][1].length),-1!==e[n][0]&&(i+=e[n][1].length),!(r>t));n++)o=r,s=i;return e.length!=n&&-1===e[n][0]?s:s+(t-o)},t.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,s=0;s<e.length;s++){var a=e[s][0],l=e[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(a){case 1:t[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:t[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[s]="<span>"+l+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=e[i][0],s=e[i][1];switch(o){case 1:n+=s.length;break;case-1:r+=s.length;break;case 0:t+=Math.max(n,r),n=0,r=0}}return t+=Math.max(n,r)},t.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,n){for(var r=[],i=0,o=0,s=n.split(/\t/g),a=0;a<s.length;a++){var l=s[a].substring(1);switch(s[a].charAt(0)){case"+":try{r[i++]=new t.Diff(1,decodeURI(l))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var u=e.substring(o,o+=c);"="==s[a].charAt(0)?r[i++]=new t.Diff(0,u):r[i++]=new t.Diff(-1,u);break;default:if(s[a])throw new Error("Invalid diff operation in diff_fromDelta: "+s[a])}}if(o!=e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+").");return r},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),i=this;function o(e,r){var o=e/t.length,s=Math.abs(n-r);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,n+t.length))&&(s=Math.min(o(0,a),s)));var l,c,u=1<<t.length-1;a=-1;for(var h,d=t.length+e.length,f=0;f<t.length;f++){for(l=0,c=d;l<c;)o(f,n+c)<=s?l=c:d=c,c=Math.floor((d-l)/2+l);d=c;var p=Math.max(1,n-c+1),g=Math.min(n+c,e.length)+t.length,m=Array(g+2);m[g+1]=(1<<f)-1;for(var v=g;v>=p;v--){var y=r[e.charAt(v-1)];if(m[v]=0===f?(m[v+1]<<1|1)&y:(m[v+1]<<1|1)&y|(h[v+1]|h[v])<<1|1|h[v+1],m[v]&u){var b=o(f,v-1);if(b<=s){if(s=b,!((a=v-1)>n))break;p=Math.max(1,2*n-a)}}}if(o(f+1,n)>s)break;h=m}return a},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var r=n.substring(e.start2,e.start2+e.length1),i=0;n.indexOf(r)!=n.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,r=n.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var o=n.substring(e.start2-i,e.start2);o&&e.diffs.unshift(new t.Diff(0,o));var s=n.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push(new t.Diff(0,s)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},t.prototype.patch_make=function(e,n,r){var i,o;if("string"==typeof e&&"string"==typeof n&&void 0===r)i=e,(o=this.diff_main(i,n,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&"object"==typeof e&&void 0===n&&void 0===r)o=e,i=this.diff_text1(o);else if("string"==typeof e&&n&&"object"==typeof n&&void 0===r)i=e,o=n;else{if("string"!=typeof e||"string"!=typeof n||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");i=e,o=r}if(0===o.length)return[];for(var s=[],a=new t.patch_obj,l=0,c=0,u=0,h=i,d=i,f=0;f<o.length;f++){var p=o[f][0],g=o[f][1];switch(l||0===p||(a.start1=c,a.start2=u),p){case 1:a.diffs[l++]=o[f],a.length2+=g.length,d=d.substring(0,u)+g+d.substring(u);break;case-1:a.length1+=g.length,a.diffs[l++]=o[f],d=d.substring(0,u)+d.substring(u+g.length);break;case 0:g.length<=2*this.Patch_Margin&&l&&o.length!=f+1?(a.diffs[l++]=o[f],a.length1+=g.length,a.length2+=g.length):g.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(a,h),s.push(a),a=new t.patch_obj,l=0,h=d,c=u)}1!==p&&(c+=g.length),-1!==p&&(u+=g.length)}return l&&(this.patch_addContext_(a,h),s.push(a)),s},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new t.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=new t.Diff(i.diffs[s][0],i.diffs[s][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var r=0,i=[],o=0;o<e.length;o++){var s,a,l=e[o].start2+r,c=this.diff_text1(e[o].diffs),u=-1;if(c.length>this.Match_MaxBits?-1!=(s=this.match_main(t,c.substring(0,this.Match_MaxBits),l))&&(-1==(u=this.match_main(t,c.substring(c.length-this.Match_MaxBits),l+c.length-this.Match_MaxBits))||s>=u)&&(s=-1):s=this.match_main(t,c,l),-1==s)i[o]=!1,r-=e[o].length2-e[o].length1;else if(i[o]=!0,r=s-l,c==(a=-1==u?t.substring(s,s+c.length):t.substring(s,u+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[o].diffs)+t.substring(s+c.length);else{var h=this.diff_main(c,a,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(h)/c.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(h);for(var d,f=0,p=0;p<e[o].diffs.length;p++){var g=e[o].diffs[p];0!==g[0]&&(d=this.diff_xIndex(h,f)),1===g[0]?t=t.substring(0,s+d)+g[1]+t.substring(s+d):-1===g[0]&&(t=t.substring(0,s+d)+t.substring(s+this.diff_xIndex(h,f+g[1].length))),-1!==g[0]&&(f+=g[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),i]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=n,e[i].start2+=n;var o=e[0],s=o.diffs;if(0==s.length||0!=s[0][0])s.unshift(new t.Diff(0,r)),o.start1-=n,o.start2-=n,o.length1+=n,o.length2+=n;else if(n>s[0][1].length){var a=n-s[0][1].length;s[0][1]=r.substring(s[0][1].length)+s[0][1],o.start1-=a,o.start2-=a,o.length1+=a,o.length2+=a}if(0==(s=(o=e[e.length-1]).diffs).length||0!=s[s.length-1][0])s.push(new t.Diff(0,r)),o.length1+=n,o.length2+=n;else if(n>s[s.length-1][1].length){a=n-s[s.length-1][1].length;s[s.length-1][1]+=r.substring(0,a),o.length1+=a,o.length2+=a}return r},t.prototype.patch_splitMax=function(e){for(var n=this.Match_MaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=n)){var i=e[r];e.splice(r--,1);for(var o=i.start1,s=i.start2,a="";0!==i.diffs.length;){var l=new t.patch_obj,c=!0;for(l.start1=o-a.length,l.start2=s-a.length,""!==a&&(l.length1=l.length2=a.length,l.diffs.push(new t.Diff(0,a)));0!==i.diffs.length&&l.length1<n-this.Patch_Margin;){var u=i.diffs[0][0],h=i.diffs[0][1];1===u?(l.length2+=h.length,s+=h.length,l.diffs.push(i.diffs.shift()),c=!1):-1===u&&1==l.diffs.length&&0==l.diffs[0][0]&&h.length>2*n?(l.length1+=h.length,o+=h.length,c=!1,l.diffs.push(new t.Diff(u,h)),i.diffs.shift()):(h=h.substring(0,n-l.length1-this.Patch_Margin),l.length1+=h.length,o+=h.length,0===u?(l.length2+=h.length,s+=h.length):c=!1,l.diffs.push(new t.Diff(u,h)),h==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(h.length))}a=(a=this.diff_text2(l.diffs)).substring(a.length-this.Patch_Margin);var d=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==d&&(l.length1+=d.length,l.length2+=d.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push(new t.Diff(0,d))),c||e.splice(++r,0,l)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var n=[];if(!e)return n;for(var r=e.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var s=r[i].match(o);if(!s)throw new Error("Invalid patch string: "+r[i]);var a=new t.patch_obj;for(n.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),i++;i<r.length;){var l=r[i].charAt(0);try{var c=decodeURI(r[i].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==l)a.diffs.push(new t.Diff(-1,c));else if("+"==l)a.diffs.push(new t.Diff(1,c));else if(" "==l)a.diffs.push(new t.Diff(0,c));else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+c)}i++}}return n},(t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0})),mg=_((function(e,t){var n,r=b&&b.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.onChange=n.onChange.bind(n),n.diff=n.diff.bind(n),n}return r(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.value;e!==this.state.value&&this.setState({value:e})},t.prototype.onChange=function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)},t.prototype.diff=function(){var e=new gg,t=this.state.value[0],n=this.state.value[1];if(0===t.length&&0===n.length)return[];var r=e.diff_main(t,n);e.diff_cleanupSemantic(r);var i=this.generateDiffedLines(r);return this.setCodeMarkers(i)},t.prototype.generateDiffedLines=function(e){var t=0,n=-1,r=1,i={left:[],right:[]},o={left:1,right:1};return e.forEach((function(e){var s=e[0],a=e[1],l=a.split("\n").length-1;if(0!==a.length){var c=a[0],u=a[a.length-1],h=0;switch(s){case t:o.left+=l,o.right+=l;break;case n:"\n"===c&&(o.left++,l--),0===(h=l)&&i.right.push({startLine:o.right,endLine:o.right}),"\n"===u&&(h-=1),i.left.push({startLine:o.left,endLine:o.left+h}),o.left+=l;break;case r:"\n"===c&&(o.right++,l--),0===(h=l)&&i.left.push({startLine:o.left,endLine:o.left}),"\n"===u&&(h-=1),i.right.push({startLine:o.right,endLine:o.right+h}),o.right+=l;break;default:throw new Error("Diff type was not defined.")}}})),i},t.prototype.setCodeMarkers=function(e){void 0===e&&(e={left:[],right:[]});for(var t=[],n={left:[],right:[]},r=0;r<e.left.length;r++){var i={startRow:e.left[r].startLine-1,endRow:e.left[r].endLine,type:"text",className:"codeMarker"};n.left.push(i)}for(r=0;r<e.right.length;r++){i={startRow:e.right[r].startLine-1,endRow:e.right[r].endLine,type:"text",className:"codeMarker"};n.right.push(i)}return t[0]=n.left,t[1]=n.right,t},t.prototype.render=function(){var e=this.diff();return ue.createElement(pg.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:e})},t.propTypes={cursorStart:Hu.number,editorProps:Hu.object,enableBasicAutocompletion:Hu.bool,enableLiveAutocompletion:Hu.bool,focus:Hu.bool,fontSize:Hu.number,height:Hu.string,highlightActiveLine:Hu.bool,maxLines:Hu.number,minLines:Hu.number,mode:Hu.string,name:Hu.string,className:Hu.string,onLoad:Hu.func,onPaste:Hu.func,onScroll:Hu.func,onChange:Hu.func,orientation:Hu.string,readOnly:Hu.bool,scrollMargin:Hu.array,setOptions:Hu.object,showGutter:Hu.bool,showPrintMargin:Hu.bool,splits:Hu.number,style:Hu.object,tabSize:Hu.number,theme:Hu.string,value:Hu.array,width:Hu.string,wrapEnabled:Hu.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(ue.Component);t.default=i}));w(mg);var vg=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.diff=t.split=void 0,t.diff=mg.default,t.split=pg.default,t.default=Ep.default})),yg=w(vg),bg=(vg.diff,vg.split,_((function(e,t){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":"abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes","variable.language":"self|cls","constant.language":"True|False|None|NotImplemented|Ellipsis|__debug__",keyword:"and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal"},"identifier"),t="(?:(?:(?:[1-9]\\d*)|(?:0))|(?:0[oO]?[0-7]+)|(?:0[xX][\\dA-Fa-f]+)|(?:0[bB][01]+))",n="(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))",r="(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+))(?:[eE][+-]?\\d+))|"+n+")",i="\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'\"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})";this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:'[uU]?"{3}',next:"qqstring3"},{token:"string",regex:'[uU]?"(?=.)',next:"qqstring"},{token:"string",regex:"[uU]?'{3}",next:"qstring3"},{token:"string",regex:"[uU]?'(?=.)",next:"qstring"},{token:"string",regex:'[rR]"{3}',next:"rawqqstring3"},{token:"string",regex:'[rR]"(?=.)',next:"rawqqstring"},{token:"string",regex:"[rR]'{3}",next:"rawqstring3"},{token:"string",regex:"[rR]'(?=.)",next:"rawqstring"},{token:"string",regex:'[fF]"{3}',next:"fqqstring3"},{token:"string",regex:'[fF]"(?=.)',next:"fqqstring"},{token:"string",regex:"[fF]'{3}",next:"fqstring3"},{token:"string",regex:"[fF]'(?=.)",next:"fqstring"},{token:"string",regex:'(?:[rR][fF]|[fF][rR])"{3}',next:"rfqqstring3"},{token:"string",regex:'(?:[rR][fF]|[fF][rR])"(?=.)',next:"rfqqstring"},{token:"string",regex:"(?:[rR][fF]|[fF][rR])'{3}",next:"rfqstring3"},{token:"string",regex:"(?:[rR][fF]|[fF][rR])'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:i},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:i},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:i},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:i},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+r+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:r},{token:"constant.numeric",regex:t+"[lL]\\b"},{token:"constant.numeric",regex:t+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};r.inherits(o,i),t.PythonHighlightRules=o})),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],(function(e,t,n){var r=e("../../lib/oop"),i=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+e+")(?:\\s*)(?:#.*)?$")};r.inherits(o,i),function(){this.getFoldWidgetRange=function(e,t,n){var r=e.getLine(n).match(this.foldingStartMarker);if(r)return r[1]?this.openingBracketBlock(e,r[1],n,r.index):r[2]?this.indentationBlock(e,n,r.index+r[2].length):this.indentationBlock(e,n)}}.call(o.prototype)})),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],(function(e,t,n){var r=e("../lib/oop"),i=e("./text").Mode,o=e("./python_highlight_rules").PythonHighlightRules,s=e("./folding/pythonic").FoldMode,a=e("../range").Range,l=function(){this.HighlightRules=o,this.foldingRules=new s("\\:"),this.$behaviour=this.$defaultBehaviour};r.inherits(l,i),function(){this.lineCommentStart="#",this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e).tokens;if(i.length&&"comment"==i[i.length-1].type)return r;"start"==e&&(t.match(/^.*[\{\(\[:]\s*$/)&&(r+=n));return r};var e={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(t,n,r){if("\r\n"!==r&&"\r"!==r&&"\n"!==r)return!1;var i=this.getTokenizer().getLineTokens(n.trim(),t).tokens;if(!i)return!1;do{var o=i.pop()}while(o&&("comment"==o.type||"text"==o.type&&o.value.match(/^\s+$/)));return!!o&&("keyword"==o.type&&e[o.value])},this.autoOutdent=function(e,t,n){n+=1;var r=this.$getIndent(t.getLine(n)),i=t.getTabString();r.slice(-i.length)==i&&t.remove(new a(n,r.length-i.length,n,r.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}.call(l.prototype),t.Mode=l})),ace.require(["ace/mode/python"],(function(t){e&&(e.exports=t)}))})),_((function(e,t){ace.define("ace/mode/plain_text",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/text_highlight_rules","ace/mode/behaviour"],(function(e,t,n){var r=e("../lib/oop"),i=e("./text").Mode,o=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour").Behaviour,a=function(){this.HighlightRules=o,this.$behaviour=new s};r.inherits(a,i),function(){this.type="text",this.getNextLineIndent=function(e,t,n){return""},this.$id="ace/mode/plain_text"}.call(a.prototype),t.Mode=a})),ace.require(["ace/mode/plain_text"],(function(t){e&&(e.exports=t)}))})),function(t){a(o,t);var i=f(o);function o(t){var n;e(this,o);var s=gp(t.messageText,{tagStyles:["slash"],postProcess:!0});return r(h(n=i.call(this,t)),"driver",void 0),r(h(n),"controller",void 0),n.state={parsedMessage:s,editorText:(s||{}).body||""},n.checkVerticalPlacement=Nh.debounce(n.checkVerticalPlacement.bind(h(n)),50),n}return n(o,[{key:"render",value:function(){var e=this.state.parsedMessage;if(e)switch(e.tag){case"pymarkup":return this.renderPyMarkup(e);case"python":case"pywindow":return this.renderPyWindow(e)}}},{key:"componentDidMount",value:function(){this.checkVerticalPlacement()}},{key:"checkVerticalPlacement",value:function(){this.props.onSizeChange&&this.props.onSizeChange(),this.props.doScroll&&this.props.doScroll()}},{key:"componentDidUpdate",value:function(e){this.props.height!==e.height&&this.checkVerticalPlacement()}},{key:"renderPyMarkup",value:function(e){var t=this;return ue.createElement("div",{className:vp},ue.createElement(yg,{mode:"python",value:e.body,theme:"xcode",width:"inherit",height:"inherit",minLines:1,maxLines:10,editorProps:{$blockScrolling:!0},readOnly:!0,ref:function(e){if(e){var n=e.editor.renderer;n.once("afterRender",(function(){n.$cursorLayer.element.style.display="none",t.checkVerticalPlacement()}))}},focus:!1,cursorStart:1,setOptions:{highlightActiveLine:!1,highlightGutterLine:!1,showLineNumbers:!0,tabSize:4}}))}},{key:"renderPyWindow",value:function(e){var t=this,n=this.props.client,r=e.files||[],i=e.commands||[],o=!1,s={language:"python",minEditorLines:1,maxEditorLines:20,maxIoHeight:"360px",files:r,editorText:e.body,resetEditorText:e.body,bypassModals:!0};if(Nh.each(i,(function(e){var t=e.args||[];switch(e.type.toLowerCase()){case"autoStart".toLowerCase():break;case"canSubmit".toLowerCase():o=!t[0]||"false"!==t[0];break;case"canEdit".toLowerCase():s.canEdit=!t[0]||"false"!==t[0];break;case"canExecute".toLowerCase():s.canExecute=!t[0]||"false"!==t[0];break;case"canReset".toLowerCase():s.canReset=!t[0]||"false"!==t[0];break;case"minEditorLines".toLowerCase():t[0]&&parseInt(t[0])&&(s.minEditorLines=parseInt(t[0]));break;case"maxEditorLines".toLowerCase():t[0]&&parseInt(t[0])&&(s.maxEditorLines=parseInt(t[0]));break;case"outputLimit".toLowerCase():t[0]&&parseInt(t[0])&&(s.outputLimit=parseInt(t[0]));break;case"minIoHeight".toLowerCase():t[0]&&(s.minIoHeight=t[0]);break;case"maxIoHeight".toLowerCase():t[0]&&(s.maxIoHeight=t[0]);break;case"canvasHeight".toLowerCase():t[0]&&(s.canvasHeight=t[0]);break;case"canvasWidth".toLowerCase():t[0]&&(s.canvasWidth=t[0])}})),!this.driver&&!this.controller){var a=window.Motors.Drivers.CodeWindowDriver;this.driver=new a,this.driver.addResolveListener((function(e){if(e.editorText!==t.state.editorText&&t.setState({editorText:e.editorText||""}),e.command)switch((e.command||{}).type||""){case"openResetDialog":n.modalUtils.addModalWithConstructor(qh,{title:"Are you sure?",text:["Do you really want to reset this Python window?","Any changes that you have made will be lost."],confirmButtonText:"Yes",onConfirm:function(){t.driver.outputs.sendData({command:{type:"reset"}}),n.modalUtils.removeModal()},cancelButtonText:"No",onCancel:function(){n.modalUtils.removeModal()},focus:"cancel"});break;case"openFile":var r=(e.command||{}).data||{},i={name:r.name||"",data:r.data||"",encoding:r.encoding||""};n.modalUtils.addModalWithConstructor(qh,{client:n,title:"Viewing ".concat(i.name),text:["Viewing ".concat(i.name,":")+("base64"===i.encoding?" (Binary File)":""),ue.createElement(yg,{mode:"plain_text",value:i.data,theme:"xcode",width:"inherit",height:"inherit",minLines:1,maxLines:20,editorProps:{$blockScrolling:!0},readOnly:!0,ref:function(e){if(e){var t=e.editor.renderer;t.once("afterRender",(function(){t.$cursorLayer.element.style.display="none"}))}},setOptions:{highlightActiveLine:!1,highlightGutterLine:!1,showLineNumbers:!0,tabSize:4}})],confirmButtonText:"Close",onConfirm:function(){n.modalUtils.removeModal()},modalTitleClassName:bp,modalTextClassName:_p,modalTextWrapperClassName:wp,modalButtonClassName:Sp})}t.checkVerticalPlacement()})),this.driver.addRenderListener((function(){t.checkVerticalPlacement()}))}return this.controller||(this.controller=new window.Motors.Controller({driver:this.driver}),this.controller.start(s)),ue.createElement("div",{className:yp},this.controller.render(),o&&this.props.submitPyWindow&&ue.createElement("button",{onClick:function(){t.props.submitPyWindow&&(""===t.state.editorText.trim()?n.modalUtils.addModalWithConstructor(qh,{title:"Error",text:["You may not submit an empty response."],confirmButtonText:"OK!",onConfirm:function(){n.modalUtils.removeModal()}}):t.state.editorText.trim()!==s.editorText.trim()?t.props.submitPyWindow({language:"python",editorText:t.state.editorText}):n.modalUtils.addModalWithConstructor(qh,{client:n,title:"Error",text:["Please make changes before you submit your answer."],confirmButtonText:"OK!",onConfirm:function(){n.modalUtils.removeModal()}}))}},"Submit Response"))}}]),o}(ue.Component)),wg=(zu(bg),zu(function(t){a(o,t);var i=f(o);function o(t){var n;e(this,o),r(h(n=i.call(this,t)),"height",void 0),r(h(n),"messageRef",he()),r(h(n),"messageContentWrapperRef",he()),r(h(n),"scrollWrapperRef",he()),r(h(n),"leftFadeRef",he()),r(h(n),"rightFadeRef",he()),n.onClickMessage=n.onClickMessage.bind(h(n)),n.onJaxRendered=n.onJaxRendered.bind(h(n)),n.onScroll=n.onScroll.bind(h(n)),n.onDoubleClick=n.onDoubleClick.bind(h(n)),n.setFadeColor=n.setFadeColor.bind(h(n)),n.checkHorizontalOverflow=n.checkHorizontalOverflow.bind(h(n)),n.onWindowResize=n.onWindowResize.bind(h(n)),n.checkVerticalSizeChange=n.checkVerticalSizeChange.bind(h(n)),n.submitPyWindow=n.submitPyWindow.bind(h(n)),n.onTopTrackerDisplay=n.onTopTrackerDisplay.bind(h(n));var s=n.props.client.userUtils.getWhitespaceOption(),a=!1;return n.props.isInMessageWindow||"compact"!==s&&!n.props.isInQueue||(a=!0),n.state={compact:a,horizontalOverflow:!1},n}return n(o,[{key:"render",value:function(){var e=this,t=this.props,n=t.client,r=t.renderPassedMessages,i=this.props.message;if(!n.messageUtils.shouldMessageViewRender({msg:i,renderPassedMessages:r}))return null;var s,a,l,c=i.isWhisper&&i.parentMessageId,u=n.userUtils.getUser(i.userId),h=i;if(i.isCleared||i.type&&("deleted"===i.type&&!i.queued||"plus-parent"===i.type))throw new Error("E_MESSAGEVIEW_NULL: MessageView should have returned null in helper");if(!this.props.nested){var d=c?n.messageUtils.getMessage(i.roomId,i.parentMessageId):void 0;i.type&&("private"===i.type||"group"===i.type)&&i.parentMessageId&&(d=n.messageUtils.getMessage(i.roomId,i.parentMessageId)),d&&(h=d,s=i,u=n.userUtils.getUser(h.userId),l=!this.props.nested&&s&&ue.createElement(o,{message:s,client:n,doScroll:this.props.doScroll,isWhisperedToOriginal:this.props.isWhisperedToOriginal,disableAvatars:this.props.disableAvatars,nested:!0,parentOverflowCheckedAt:this.state.overflowCheckedAt,messageClass:this.props.messageClass,usernameClass:this.props.usernameClass,avatarClass:this.props.avatarClass,renderPassedMessages:this.props.renderPassedMessages,isInQueue:this.props.isInQueue,getHoverElement:this.props.getHoverElement,onClick:this.props.onClick,preventDoubleClick:this.props.preventDoubleClick,onJaxRendered:this.checkVerticalSizeChange})),this.props.getHoverElement&&(a=ue.createElement("div",{className:hd},this.props.getHoverElement(this.props.message)),(i.type&&("private"===i.type||"group"===i.type)||"whisper"===i.type&&!s||i.isSystem)&&(a=void 0),i.type&&"whisper"===i.type&&s&&(a=ue.createElement("div",{className:hd},this.props.getHoverElement(h))))}if(i.bucketId&&!this.props.renderPassedMessages)throw new Error("E_MESSAGEVIEW_NULL: MessageView should have returned null in helper");if(i.type&&"bucket"===i.type){if(i.children&&i.children.length>0)return ue.createElement(ff,{getHoverElement:this.props.getHoverElement,doScroll:this.props.doScroll,bucket:i,wrapperClass:this.props.wrapperClass,viewId:this.props.viewId,client:n});throw new Error("E_MESSAGEVIEW_NULL: MessageView should have returned null in helper")}var f,p=n.userUtils.getActiveUser();if(p&&p.isAssistant&&i.type&&"queue"===i.type&&i.userId===p.id&&!this.props.renderPassedMessages)throw new Error("E_MESSAGEVIEW_NULL: MessageView should have returned null in helper");if("motor"===h.type)if(this.props.getMotorMenu)f=this.props.getMotorMenu(h,(function(){e.checkHorizontalOverflow(),e.checkVerticalSizeChange()}),this.props.doScroll);else{var g=n.messageUtils.getCurrentMotorInput(h),m=n.messageUtils.isMotorStatic(h);f=ue.createElement(dp,{key:"size-me-motor-".concat(i.id),monitorHeight:!0,monitorWidth:!1},(function(t){var r=t.size;return ue.createElement(wf,{client:n,message:h,isStatic:m,input:g,height:r.height,onSizeChange:e.checkVerticalSizeChange,doScroll:e.props.doScroll})}))}else f=pp(h.message)?ue.createElement(dp,{key:"size-me-python-renderer-".concat(i.id),monitorHeight:!0,monitorWidth:!1},(function(t){var r=t.size;return ue.createElement(bg,{client:n,message:h,messageText:h.message,height:r.height||void 0,onSizeChange:e.checkVerticalSizeChange,doScroll:e.props.doScroll,submitPyWindow:e.submitPyWindow})})):ue.createElement(cd,{renderAsHTML:!0,onJaxRendered:this.onJaxRendered},h.message);return ue.createElement("div",{key:"message-".concat(h.id),className:this.props.wrapperClass},ue.createElement("div",{className:this.getMessageClasses(h),onClick:this.onClickMessage,onDoubleClick:this.onDoubleClick,ref:this.messageRef},a,ue.createElement("div",{className:wd},ue.createElement(yf,{client:n,user:u,avatarClass:this.props.avatarClass,avatarLocation:this.props.isInQueue?"queue":"main"})),ue.createElement("div",{ref:this.messageContentWrapperRef,className:i.isSpy?Ud:Sd},this.renderUsername(h,i),this.buildSpyHeader(),ue.createElement("div",{className:xd},ue.createElement("div",{className:Rd},ue.createElement("div",{ref:this.leftFadeRef,className:kd}),ue.createElement("div",{ref:this.scrollWrapperRef,className:Td,onScroll:this.onScroll},f),ue.createElement("div",{ref:this.rightFadeRef,className:Ed})),l))))}},{key:"renderUsername",value:function(e,t){return t.isSpy||"panic"===t.type?null:ue.createElement("span",{className:this.getUsernameClasses(e.userId)},e.username,this.onlyMeBlurb(t,e))}},{key:"onJaxRendered",value:function(){this.props.doScroll&&this.props.doScroll(),this.props.onJaxRendered&&this.props.onJaxRendered(),this.checkHorizontalOverflow(),this.checkVerticalSizeChange()}},{key:"componentDidMount",value:function(){if(this.messageRef.current&&this.props.viewId&&void 0!==this.props.message.id){var e=this.props,t=e.client,n=e.renderPassedMessages,r=this.props.message;t.messageUtils.shouldMessageViewRender({msg:r,renderPassedMessages:n})&&(df.addMessage(this.props.viewId,this.props.message,this.messageRef.current,this.onTopTrackerDisplay),this.checkVerticalSizeChange())}this.checkHorizontalOverflow(),window.addEventListener("resize",this.onWindowResize)}},{key:"componentDidUpdate",value:function(e,t){if(t.horizontalOverflow!==this.state.horizontalOverflow&&this.onOverflowChanged(),this.messageRef.current&&void 0!==this.props.message.id&&(this.props.viewId||e.viewId)){var n=this.props.client,r=!n.messageUtils.shouldMessageViewRender({msg:e.message,renderPassedMessages:e.renderPassedMessages}),i=!n.messageUtils.shouldMessageViewRender({msg:this.props.message,renderPassedMessages:this.props.renderPassedMessages});r!==i?i&&e.viewId?df.removeMessage(e.viewId,this.props.message.id):r&&this.props.viewId&&df.addMessage(this.props.viewId,this.props.message,this.messageRef.current):this.props.message.bucketId!==e.message.bucketId&&(this.props.message.bucketId&&e.viewId?df.removeMessage(e.viewId,this.props.message.id):e.message.bucketId&&this.props.viewId&&df.addMessage(this.props.viewId,this.props.message,this.messageRef.current)),!this.props.viewId||i||this.props.message.bucketId||df.updateMessage(this.props.viewId,this.props.message.id,this.messageRef.current)}e.messageClass!==this.props.messageClass&&(this.checkHorizontalOverflow(),this.state.horizontalOverflow&&this.setFadeColor()),e.parentOverflowCheckedAt!==this.props.parentOverflowCheckedAt&&this.onTopTrackerDisplay()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize),this.props.viewId&&void 0!==this.props.message.id&&df.removeMessage(this.props.viewId,this.props.message.id)}},{key:"onWindowResize",value:function(){this.setState({overflowCheckedAt:void 0}),this.checkVerticalSizeChange(),this.checkHorizontalOverflow(),this.onScroll()}},{key:"onTopTrackerDisplay",value:function(){var e=this.props.client.userUtils.getColumnWidthsChangedAt();(!this.state.overflowCheckedAt||e&&e>this.state.overflowCheckedAt)&&this.checkHorizontalOverflow()}},{key:"checkHorizontalOverflow",value:function(){var e=this.scrollWrapperRef.current;!this.state.horizontalOverflow&&this.state.compact&&(e=this.messageContentWrapperRef.current),e&&(e.clientWidth||e.scrollWidth)?e.scrollWidth>e.clientWidth?this.state.horizontalOverflow||this.setState({horizontalOverflow:!0}):this.state.horizontalOverflow&&this.setState({horizontalOverflow:!1}):this.setState({overflowCheckedAt:void 0})}},{key:"onOverflowChanged",value:function(){this.state.horizontalOverflow?this.addOverflowStyles():this.removeOverflowStyles(),this.checkVerticalSizeChange()}},{key:"addOverflowStyles",value:function(){var e=this.rightFadeRef.current,t=this.scrollWrapperRef.current;e&&e.classList.add(Ad),t&&t.classList.add(Md),this.setFadeColor()}},{key:"removeOverflowStyles",value:function(){var e=this.rightFadeRef.current,t=this.leftFadeRef.current;e&&e.classList.remove(Ad),t&&t.classList.remove(Ad)}},{key:"checkVerticalSizeChange",value:function(){if(this.messageRef.current&&this.props.viewId&&void 0!==this.props.message.id){var e=parseFloat(getComputedStyle(this.messageRef.current).height);Number.isNaN(e)||e===this.height||df.onHeightChange(this.props.viewId,this.props.message.id,e)}}},{key:"onDoubleClick",value:function(){this.props.preventDoubleClick||this.props.client.getIsMobile()||this.props.message.type&&"motor"===this.props.message.type||this.props.client.messageUtils.addMessageWindow(this.props.message)}},{key:"onScroll",value:function(){if(this.state.horizontalOverflow||!this.state.compact){var e=this.scrollWrapperRef.current,t=this.leftFadeRef.current,n=this.rightFadeRef.current;e&&t&&n&&(t.classList.remove(Ad),n.classList.remove(Ad),e.scrollWidth>e.clientWidth&&(e.scrollLeft<=0?n.classList.add(Ad):(e.scrollLeft+e.clientWidth>=e.scrollWidth-2||n.classList.add(Ad),t.classList.add(Ad))))}}},{key:"onClickMessage",value:function(e){this.props.onClick&&this.props.onClick(this.props.message,e)}},{key:"buildSpyHeader",value:function(){var e=this.props.message;if(this.props.nested||!e.isSpy&&"panic"!==e.type)return null;var t=this.props.client,n=t.userUtils.getUser(e.userId),r=e.recipientId?t.userUtils.getUser(e.recipientId):void 0,i="";n&&(i=n.username);var o=e.recipientName;return"panic"===e.type?ue.createElement("span",{className:Fd},ue.createElement("span",{className:n?this.getUsernameClasses(n.id):this.getUsernameClasses()},i)," sent an "," ",ue.createElement("strong",null,"HQ Alert")):ue.createElement("span",{className:Fd},("private"===e.type||"group"===e.type)&&"PM: ","whisper"===e.type&&"W: ",ue.createElement("span",{className:n?this.getUsernameClasses(n.id):this.getUsernameClasses()},i),r?" to ":" says",ue.createElement("span",{className:r?this.getUsernameClasses(r.id):""},o))}},{key:"onlyMeBlurb",value:function(e,t){var n=this.props.client.userUtils.getActiveUser(),r=n&&n.id===t.userId,i=e!==t;if(t.isWhisper)return r?ue.createElement("span",{className:Pd},ue.createElement("span",{className:Dd},"N"),ue.createElement("span",null,"Whispered to ",t.recipientName)):ue.createElement("span",{className:Pd},"Only visible to you");if("queue"===t.type||"deleted"===t.type&&t.queued){if(r&&n&&!n.isAssistant)return ue.createElement("span",{className:Pd},ue.createElement("span",{className:Dd},"N"),ue.createElement("span",null,"Sent to instructor"));if(!this.props.isInQueue)return ue.createElement("span",{className:Pd},ue.createElement("span",null,"Queued"))}else if("classroom"===t.type){var o=e.isWhisper&&e.parentMessageId;if(i&&this.props.isWhisperedToOriginal);else if(o)return ue.createElement("span",{className:Pd},ue.createElement("span",null,"Only visible to you"))}return null}},{key:"getMessageClasses",value:function(e){var t=this.props.client.userUtils.getActiveUser(),n=[ud];return this.state.compact&&(this.state.horizontalOverflow?n.push(Vd):n.push(Hd)),this.props.disableAvatars&&n.push(Od),this.props.client.roomUtils.getRenderAvatars()||n.push(Kd),this.props.message&&this.props.message.motor&&("BarGraph"===this.props.message.motor.type||!this.props.message.motor.displayOnly&&this.props.getMotorMenu)&&n.push(Cd),"string"==typeof this.props.messageClass?((e.isSystem||"system"===e.type)&&n.push(Ld),n.push(this.props.messageClass),n.join(" ")):((e.isSystem||"system"===e.type)&&n.push(Id),"private"!==e.type&&"group"!==e.type||n.push(Gd),e.isSpy?(n.push(Od),n.push(Bd),this.props.nested?(n.push(Wd),n.push(jd)):n.push(zd),("whisper"===e.type&&!e.parentMessageId||"private"===e.type&&!e.parentMessageId||"group"===e.type&&!e.parentMessageId||"panic"===e.type)&&n.push(jd),n.join(" ")):(e.queued&&(this.props.renderPassedMessages?n.push(bd):n.push(dd)),t&&t.id===e.userId&&(n.push(fd),n.push(this.getSelfBackgroundColor())),e.isWhisper&&(n.push($d),n.push(this.getSelfBackgroundColor())),this.props.nested&&n.push(Nd),n.join(" ")))}},{key:"setFadeColor",value:function(){var e=this.messageRef.current,t=this.rightFadeRef.current,n=this.leftFadeRef.current;if(t&&n&&e){var r=getComputedStyle(e).backgroundColor;"rgba(0, 0, 0, 0)"===r&&(r="rgb(256, 256, 256)");var i=r.slice(0,r.length-1)+", 0)";t.style.backgroundImage="linear-gradient(to right, "+i+", "+r+")",n.style.backgroundImage="linear-gradient(to left, "+i+", "+r+")"}}},{key:"getUsernameClasses",value:function(e){var t=[_d,qd];if(this.props.usernameClass)return t.push(this.props.usernameClass),t.join(" ");var n=void 0;if(e&&(n=this.props.client.userUtils.getUser(e)),n){n.isInstructor?t.push(nf):n.isAssistant&&t.push(tf);var r=this.props.client.userUtils.getActiveUser();r&&e&&e===r.id&&(t.push(Xd),t.push(this.getSelfUsernameColor()))}return t.join(" ")}},{key:"getSelfUsernameColor",value:function(){switch(this.props.client.userUtils.getPreferredColor()){case"green":return Yd;case"orange":return Qd;case"pink":return Jd;case"purple":return Zd;case"blue":return ef}}},{key:"getSelfBackgroundColor",value:function(){switch(this.props.client.userUtils.getPreferredColor()){case"green":return pd;case"orange":return gd;case"pink":return md;case"purple":return vd;case"blue":return yd}}},{key:"submitPyWindow",value:function(e){"python"===(e||{}).language&&this.props.client.messageUtils.sendPlainMessage(";pymarkup\n"+((e||{}).editorText||""))}}]),o}(ue.Component))),_g={modalContent:"styles_modalContent__2nD-F",modalText:"styles_modalText__QgITZ",inputWrapper:"styles_inputWrapper__TsCOC",radioButton:"styles_radioButton__3LoCO",layoutTypes:"styles_layoutTypes__10vuN",layoutTypeWrapper:"styles_layoutTypeWrapper__2QHZE",smallInputField:"styles_smallInputField__2jP43",inputField:"styles_inputField__Mtw5I"};Ku('.styles_modalContent__2nD-F {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 30px;\n}\n\n.styles_modalText__QgITZ {\n\tfont-size: 1.1em;\n\tmargin-bottom: 30px;\n}\n\n.styles_inputWrapper__TsCOC {\n\twidth: 100%;\n}\n\n.styles_radioButton__3LoCO {\n\tflex-shrink: 0;\n}\n\n.styles_layoutTypes__10vuN {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: 15px;\n\twidth: 100%;\n}\n\n.styles_layoutTypes__10vuN > .styles_layoutTypeWrapper__2QHZE {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tcursor: pointer;\n\tpadding: 7px 10px;\n}\n\n.styles_layoutTypes__10vuN > .styles_layoutTypeWrapper__2QHZE:hover {\n\tbackground-color: #ededed;\n}\n\n.styles_layoutTypes__10vuN .styles_modalText__QgITZ {\n\tfont-size: 1.1em;\n\tmargin: 0 7px;\n\tflex-shrink: 0;\n}\n\n.styles_layoutTypeWrapper__2QHZE .styles_smallInputField__2jP43 {\n\tflex-grow: 1;\n}\n\n.styles_inputField__Mtw5I {\n\twidth: 70px;\n\theight: 45px;\n\tmin-height: 45px;\n\tmax-height: 200px;\n\tresize: none;\n\tpadding: 0.8em;\n\tbackground-color: #cdcdcd;\n\tborder: none;\n\tborder-radius: 0;\n\toutline: none;\n\tfont-size: 1.1em;\n\tfont-family: Roboto, sans-serif;\n\tcolor: #444444;\n\tmargin: 0px 10px;\n\ttext-align: center;\n}\n\n/* Chrome, Safari, Edge, Opera */\n.styles_inputField__Mtw5I::-webkit-outer-spin-button,\n.styles_inputField__Mtw5I::-webkit-inner-spin-button {\n\t-webkit-appearance: none;\n\tmargin: 0;\n}\n\n/* Firefox */\n.styles_inputField__Mtw5I[type="number"] {\n\t-moz-appearance: textfield;\n}\n');var Sg=zu(function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"radioLargeRef",he()),r(h(n),"radioDefaultRef",he()),r(h(n),"radioEvenRef",he()),r(h(n),"radioCustomRef",he()),r(h(n),"mainRoomRef",he()),r(h(n),"queueRef",he()),r(h(n),"userListRef",he()),r(h(n),"submitButtonRef",he()),r(h(n),"cancelButtonRef",he()),n.onSubmit=n.onSubmit.bind(h(n)),n.onCancel=n.onCancel.bind(h(n)),n.close=n.onCancel,n.closeOnMask=!1,n.onChangeScreenLayout=n.onChangeScreenLayout.bind(h(n)),n.buildRadioButtons=n.buildRadioButtons.bind(h(n)),n.checkValidity=n.checkValidity.bind(h(n)),n.checkCompletion=n.checkCompletion.bind(h(n)),n.state={screenLayout:n.props.client.userUtils.getScreenLayout(),validInput:!0},n.addToOrderedRefs(n.radioDefaultRef),n.addToOrderedRefs(n.radioLargeRef),n.addToOrderedRefs(n.radioEvenRef),n.addToOrderedRefs(n.radioCustomRef),n.props.queueLocation&&"left"===n.props.queueLocation?(n.addToOrderedRefs(n.queueRef),n.addToOrderedRefs(n.mainRoomRef)):(n.addToOrderedRefs(n.mainRoomRef),n.addToOrderedRefs(n.queueRef)),n.addToOrderedRefs(n.userListRef),n.addToOrderedRefs(n.submitButtonRef),n.addToOrderedRefs(n.cancelButtonRef),n.autoFocusOnItem="none",n}return n(o,[{key:"modalDidMount",value:function(){var e=this.submitButtonRef.current;e&&e.focus()}},{key:"render",value:function(){var e=ue.createElement("div",{className:Dh.closeButton,onClick:this.onCancel,key:"close-button"},ue.createElement("span",{className:"aops-font",key:"close-icon"},"J"));return ue.createElement("div",{className:Dh.modal,key:"modal"},ue.createElement("div",{className:Dh.modalTitle,key:"modal-title"},"Screen Layout",e),ue.createElement("div",{className:_g.modalContent,key:"modal-content"},ue.createElement("div",{className:[_g.layoutTypes].join(" "),key:"options"},this.buildRadioButtons()),ue.createElement("div",{className:Dh.twoButtonWrapper,key:"buttons"},ue.createElement("button",{ref:this.submitButtonRef,className:Dh.modalButton,onClick:this.onSubmit,key:"submit-button"},"Apply"),ue.createElement("button",{ref:this.cancelButtonRef,className:[Dh.modalButton,Dh.cancelButton].join(" "),onClick:this.onCancel,key:"cancel-button"},"Cancel"))))}},{key:"buildRadioButtons",value:function(){var e=this,t=this.props.client.userUtils.getActiveUser(),n=this.props.client.userUtils.getScreenLayout(),r=!1;t&&t.isAssistant||(r=!0);var i=void 0,o=void 0,s=void 0;this.props.columnRatios&&(i=this.props.columnRatios.mainRoom,o=this.props.columnRatios.queue,s=this.props.columnRatios.userList);var a=[];if(a.push(ue.createElement("label",{className:_g.layoutTypeWrapper,key:"default-wrapper"},ue.createElement("input",{ref:this.radioDefaultRef,className:_g.radioButton,type:"radio",value:"default",name:"layoutType",key:"default",checked:"default"===n,onChange:function(){return e.onChangeScreenLayout("default")}}),ue.createElement("div",{className:_g.modalText,key:"default-title"},"Default"))),r?a.push(ue.createElement("label",{className:_g.layoutTypeWrapper,key:"one-third-userlist-wrapper"},ue.createElement("input",{ref:this.radioLargeRef,className:_g.radioButton,type:"radio",value:"one-third-userlist",name:"layoutType",key:"one-third-userlist",checked:"one-third-userlist"===n,onChange:function(){return e.onChangeScreenLayout("one-third-userlist")}}),ue.createElement("div",{className:_g.modalText,key:"one-third-userlist-title"},"Larger User List"))):a.push(ue.createElement("label",{className:_g.layoutTypeWrapper,key:"large-queue-wrapper"},ue.createElement("input",{ref:this.radioLargeRef,className:_g.radioButton,type:"radio",value:"large-queue",name:"layoutType",key:"large-queue",checked:"large-queue"===n,onChange:function(){return e.onChangeScreenLayout("large-queue")}}),ue.createElement("div",{className:_g.modalText,key:"large-queue-title"},"Large Queue"))),a.push(ue.createElement("label",{className:_g.layoutTypeWrapper,key:"even-wrapper"},ue.createElement("input",{ref:this.radioEvenRef,className:_g.radioButton,type:"radio",value:"even",name:"layoutType",key:"even",checked:"even"===n,onChange:function(){return e.onChangeScreenLayout("even")}}),ue.createElement("div",{className:_g.modalText,key:"even-title"},"Evenly Spaced"))),!r){var l=this.props.queueLocation&&"left"===this.props.queueLocation,c="",u="";l?(o&&(c=o),i&&(u=i)):(o&&(u=o),i&&(c=i)),a.push(ue.createElement("label",{className:_g.layoutTypeWrapper,key:"custom-wrapper"},ue.createElement("input",{ref:this.radioCustomRef,className:_g.radioButton,type:"radio",value:"custom",name:"layoutType",key:"custom",checked:"custom"===n,onChange:function(){return e.onChangeScreenLayout("custom")}}),ue.createElement("div",{className:[_g.modalText,_g.inputWrapper].join(" "),key:"custom-title"},"Custom Ratio (Mods Only):",ue.createElement("div",null,ue.createElement("input",{ref:l?this.queueRef:this.mainRoomRef,type:"number",min:"1",key:"mainRoom",defaultValue:c,className:_g.inputField,onClick:function(){return e.onChangeScreenLayout("custom")},onInput:function(){e.onChangeScreenLayout("custom"),e.checkValidity()}}),":",ue.createElement("input",{ref:l?this.mainRoomRef:this.queueRef,type:"number",min:"1",key:"queue",defaultValue:u,className:_g.inputField,onClick:function(){return e.onChangeScreenLayout("custom")},onInput:function(){e.onChangeScreenLayout("custom"),e.checkValidity()}}),":",ue.createElement("input",{ref:this.userListRef,type:"number",min:"1",key:"userList",defaultValue:s||"",className:_g.inputField,onClick:function(){return e.onChangeScreenLayout("custom")},onInput:function(){e.onChangeScreenLayout("custom"),e.checkValidity()}})))))}return a}},{key:"onChangeScreenLayout",value:function(e){var t=this.props.client.userUtils.getActiveUser();t&&t.isAssistant?"default"!==e&&"even"!==e&&"large-queue"!==e&&"custom"!==e||(this.props.client.userUtils.locallySetScreenLayout(e),this.setState({screenLayout:e})):"default"!==e&&"even"!==e&&"one-third-userlist"!==e||(this.props.client.userUtils.locallySetScreenLayout(e),this.setState({screenLayout:e}))}},{key:"checkValidity",value:function(){var e=!0,t={mainRoom:0,queue:0,userList:0};if(this.mainRoomRef.current&&""!==this.mainRoomRef.current.value.trim()){var n=this.mainRoomRef.current.valueAsNumber;n<=0||isNaN(n)?(this.mainRoomRef.current.style.color="red",e=!1):(this.mainRoomRef.current.style.color="black",this.mainRoomRef.current.style.border="none",t.mainRoom=n)}if(this.queueRef.current&&""!==this.queueRef.current.value.trim()){var r=this.queueRef.current.valueAsNumber;r<=0||isNaN(r)?(this.queueRef.current.style.color="red",e=!1):(this.queueRef.current.style.color="black",this.queueRef.current.style.border="none",t.queue=r)}if(this.userListRef.current&&""!==this.userListRef.current.value.trim()){var i=this.userListRef.current.valueAsNumber;i<=0||isNaN(i)?(this.userListRef.current.style.color="red",e=!1):(this.userListRef.current.style.color="black",this.userListRef.current.style.border="none",t.userList=i)}e&&this.props.locallySetColumnRatios&&this.props.locallySetColumnRatios(t),this.state.validInput!==e&&this.setState({validInput:e})}},{key:"checkCompletion",value:function(){var e=!0;if(this.mainRoomRef.current){var t=this.mainRoomRef.current.value,n=this.mainRoomRef.current.valueAsNumber;(""===t.trim()||isNaN(n)||n<=0)&&(e=!1,this.mainRoomRef.current.style.color="red",this.mainRoomRef.current.style.border="1px solid red")}if(this.queueRef.current){var r=this.queueRef.current.value,i=this.queueRef.current.valueAsNumber;(""===r.trim()||isNaN(i)||i<=0)&&(e=!1,this.queueRef.current.style.color="red",this.queueRef.current.style.border="1px solid red")}if(this.userListRef.current){var o=this.userListRef.current.value,s=this.userListRef.current.valueAsNumber;(""===o.trim()||isNaN(s)||s<=0)&&(e=!1,this.userListRef.current.style.color="red",this.userListRef.current.style.border="1px solid red")}return e}},{key:"onSubmit",value:function(){if("custom"===this.state.screenLayout){if(!this.checkCompletion())return}else this.props.setColumnRatios&&this.props.columnRatios&&this.props.setColumnRatios(this.props.columnRatios);if("custom"!==this.state.screenLayout||this.state.validInput)if("custom"===this.state.screenLayout){if(!this.mainRoomRef.current||!this.queueRef.current||!this.userListRef.current)return;var e={mainRoom:this.mainRoomRef.current.valueAsNumber,queue:this.queueRef.current.valueAsNumber,userList:this.userListRef.current.valueAsNumber};this.props.onSubmit(this.state.screenLayout,e)}else this.props.onSubmit(this.state.screenLayout)}},{key:"onCancel",value:function(){this.props.client.userUtils.locallySetScreenLayout(this.props.currentLayout),this.props.setColumnRatios&&this.props.columnRatios&&this.props.setColumnRatios(this.props.columnRatios),this.props.onClose()}}]),o}(Gh)),xg=function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"appRef",null),r(h(n),"serverCheckInterval",void 0),n.checkServer=n.checkServer.bind(h(n)),n.clearServerCheckInterval=n.clearServerCheckInterval.bind(h(n)),n.setAppRef=n.setAppRef.bind(h(n)),n.onSwiped=n.onSwiped.bind(h(n)),n.onRightColumnSwiped=n.onRightColumnSwiped.bind(h(n)),n.isRightDrawerOpen=n.isRightDrawerOpen.bind(h(n)),n.restoreFocus=n.restoreFocus.bind(h(n)),n.setFontSize=n.setFontSize.bind(h(n)),n.clearClassroom=n.clearClassroom.bind(h(n)),n.onRenderAvatars=n.onRenderAvatars.bind(h(n)),n.getTotalUnreadMessageCount=n.getTotalUnreadMessageCount.bind(h(n)),n.onGlobalClick=n.onGlobalClick.bind(h(n)),n.modalMaskClick=n.modalMaskClick.bind(h(n)),n.modalMaskMouseDown=n.modalMaskMouseDown.bind(h(n)),n.modalMount=n.modalMount.bind(h(n)),n.onAlertModalClick=n.onAlertModalClick.bind(h(n)),n.openScreenLayoutModal=n.openScreenLayoutModal.bind(h(n)),n.onSmileySettings=n.onSmileySettings.bind(h(n)),n.openSmileySettingsModal=n.openSmileySettingsModal.bind(h(n)),n.toggleRightDrawerOpen=n.toggleRightDrawerOpen.bind(h(n)),n.onWindowResized=Fh(n.onWindowResized.bind(h(n)),200),n.toggleWhitespaceOption=n.toggleWhitespaceOption.bind(h(n)),n.state={isMobile:!1,isRightDrawerOpen:!1},n}return n(o,[{key:"render",value:function(){var e=this.props.client;return this.setFontSize(e.userUtils.getFontSize()),ue.createElement(hh,{value:{client:e,onRightColumnSwiped:this.onRightColumnSwiped,toggleRightDrawerOpen:this.toggleRightDrawerOpen,isRightDrawerOpen:this.isRightDrawerOpen,state:this.state,getUserListHandle:this.props.getUserListHandle,getUserListStyles:this.props.getUserListStyles,getStudentActionsMenu:this.props.getStudentActionsMenu,getPrivateMessageDrafts:this.props.getPrivateMessageDrafts,getLeavePrivateMessage:this.props.getLeavePrivateMessage,getMessageHoverMenu:this.props.getMessageHoverMenu,getMotorMenu:this.props.getMotorMenu}},ue.createElement(Gu,{innerRef:this.setAppRef,onSwiped:this.onSwiped,className:qu},this.buildMask(),this.buildMenuBar(),this.buildModalWrapper(),this.buildMessageWindows(),ue.createElement("div",{className:this.getAppStyles()},this.props.children)))}},{key:"restoreFocus",value:function(){var e=this.props.client;e.lastFocusedEntryBox&&e.lastFocusedEntryBox.focus()}},{key:"getAppStyles",value:function(){var e=this.props.client,t=e.userUtils.getWhitespaceOption(),n=[Xu,this.props.className];e.userUtils.getFullScreen()&&n.push(Yu);var r=e.userUtils.getScreenLayout();return"large-queue"===r?n.push(eh):"even"===r?n.push(th):"one-third-userlist"===r&&n.push(nh),"standard"===t?n.push("whitespaceSettingStandard"):"compact"===t&&n.push("whitespaceSettingCompact"),n.join(" ")}},{key:"checkServer",value:function(){var e=this;"function"==typeof getServerId?getServerId().then((function(t){!function(t){var n=e.props.client,r=n.userUtils.getActiveUser();if(r&&r.isConnected)e.clearServerCheckInterval();else{var i=n.getServerId();if(i&&"Unknown"!==i){if(t&&t!==i){var o=Math.floor(3e4*Math.random())+1;setTimeout((function(){document.location.href=document.location.href}),o),e.clearServerCheckInterval()}}else e.clearServerCheckInterval()}}(t.server_id)})).catch((function(){})):this.clearServerCheckInterval()}},{key:"clearServerCheckInterval",value:function(){this.serverCheckInterval&&(clearInterval(this.serverCheckInterval),this.serverCheckInterval=void 0)}},{key:"buildMask",value:function(){var e=this.props.client.userUtils.getActiveUser();if(!e||!e.isConnected)return this.serverCheckInterval||(this.serverCheckInterval=setInterval(this.checkServer,1e4)),ue.createElement("div",{className:rh})}},{key:"buildMessageWindows",value:function(){var e=this.props.client,t=e.messageUtils.getMessageWindow();if(t){var n=ue.createElement(wg,{client:e,message:t,doScroll:function(){},isInMessageWindow:!0,preventDoubleClick:!0,renderPassedMessages:!0});return"deleted"===t.type&&(n=ue.createElement("div",null,"This message has been deleted.")),ue.createElement(rd,{client:e,message:t,onClose:e.messageUtils.removeMessageWindow},n)}}},{key:"buildMenuBar",value:function(){var e=this.props.client,t=e.userUtils.getWhitespaceOption(),n=void 0;this.props.getSpyPanel&&(n=this.props.getSpyPanel);var r=void 0;this.props.openCrypt&&(r=this.props.openCrypt);var i=void 0;this.props.setModeratedStatus&&(i=this.props.setModeratedStatus);var o=void 0;return this.props.refreshQueue&&(o=this.props.refreshQueue),ue.createElement(Rh,{client:e,restoreFocus:this.restoreFocus,showingMenu:e.userUtils.getIsMenuBarOpen(),onClickUserList:this.toggleRightDrawerOpen,onClickPM:this.toggleRightDrawerOpen,onClearMessages:this.clearClassroom,onRefreshQueue:o,onSetModeratedStatus:i,onOpenPanicModal:this.props.openPanicModal,onShowSpyPanel:n,onCryptOpen:r,onRenderAvatars:this.onRenderAvatars,getTotalUnreadMessageCount:this.getTotalUnreadMessageCount,mobileView:this.state.isMobile,onFontSizeChange:this.setFontSize,onOpenScreenLayoutModal:this.props.openScreenLayoutModal?this.props.openScreenLayoutModal:this.openScreenLayoutModal,queueFlashing:this.props.queueFlashing,onToggleQueueFlashing:this.props.toggleQueueFlashing,showTimestamps:this.props.showTimestamps,onToggleTimestamps:this.props.toggleShowTimestamps,whitespaceOption:t,onToggleWhitespaceOption:this.toggleWhitespaceOption,onSwapQueueLocation:this.props.swapQueueLocation,onOpenSmileySettingsModal:this.openSmileySettingsModal})}},{key:"setFontSize",value:function(e){var t=this.props.client;this.appRef&&(this.appRef.style.fontSize=e.toString().concat("px"),t.userUtils.setFontSize(e))}},{key:"buildModalWrapper",value:function(){var e,t=this,n=this.props.client,r=n.userUtils.getAlert(),i=n.modalUtils.getModalUpdateHash();if(r?e=n.modalUtils.createModalFromConstructor(qh,{title:r.title,text:r.messages,closeOnMask:!1,onConfirm:function(){e&&t.onAlertModalClick(e)}}):i&&(e=n.modalUtils.getModal()),e)return ue.createElement(Mh,{modal:e,onClick:this.modalMaskClick,onMouseDown:this.modalMaskMouseDown,onMount:this.modalMount})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onWindowResized),window.addEventListener("click",this.onGlobalClick),this.onWindowResized(),this.hijackHistory()}},{key:"componentWillUnmount",value:function(){var e=this.props.client;window.removeEventListener("resize",this.onWindowResized),window.removeEventListener("click",this.onGlobalClick),this.clearServerCheckInterval(),e.destroy()}},{key:"setAppRef",value:function(e){this.appRef=e}},{key:"hijackHistory",value:function(){history.pushState(null,"",location.href),window.onpopstate=function(){history.go(1)}}},{key:"onGlobalClick",value:function(e){var t=this.props.client;t.userUtils.getIsMenuBarOpen()&&t.userUtils.setIsMenuBarOpen(!1)}},{key:"modalMaskClick",value:function(e,t){if(t.stopPropagation(),t.target instanceof HTMLElement&&t.target.className.split(/\s+/).includes("isModalWrapper")){var n=e.component,r=(n||{}).closeOnMask;n&&jh(n.close)&&r&&n.close()}}},{key:"modalMaskMouseDown",value:function(e,t){t.target instanceof HTMLElement&&t.target.className.split(/\s+/).includes("isModalWrapper")&&t.preventDefault()}},{key:"modalMount",value:function(e){var t=e.component;t&&jh(t.superModalDidMount)?t.superModalDidMount():t&&jh(t.modalDidMount)&&t.modalDidMount()}},{key:"onSwiped",value:function(e){if(this.appRef&&this.setRightDrawerOpen){var t=this.appRef.clientWidth;if(t<=o.MOBILE_WIDTH){var n=e.dir;p(e.initial,1)[0]>=t-o.SWIPE_MARGIN&&"Left"===n&&this.setRightDrawerOpen(!0)}}}},{key:"onRightColumnSwiped",value:function(e){this.appRef&&this.setRightDrawerOpen&&(this.appRef.clientWidth<=o.MOBILE_WIDTH&&"Right"===e.dir&&this.setRightDrawerOpen(!1))}},{key:"isRightDrawerOpen",value:function(){return this.state.isRightDrawerOpen}},{key:"onWindowResized",value:function(){this.appRef&&(this.appRef.clientWidth<=o.MOBILE_WIDTH?this.state.isMobile||this.setIsMobile(!0):this.state.isMobile&&this.setIsMobile(!1),df.updateAllViews())}},{key:"setIsMobile",value:function(e,t){this.setState({isMobile:e,isRightDrawerOpen:!1},t)}},{key:"clearClassroom",value:function(){var e=this.props.client;e.messageUtils.clearMessages(),e.userUtils.setIsMenuBarOpen(!1),this.restoreFocus()}},{key:"onRenderAvatars",value:function(){this.props.client.roomUtils.setRenderAvatars(),this.restoreFocus()}},{key:"getTotalUnreadMessageCount",value:function(){return this.props.client.messageUtils.getTotalUnreadMessageCount()}},{key:"toggleRightDrawerOpen",value:function(){this.setRightDrawerOpen(!this.state.isRightDrawerOpen),this.restoreFocus()}},{key:"setRightDrawerOpen",value:function(e,t){this.setState({isRightDrawerOpen:this.state.isMobile&&e},t)}},{key:"onAlertModalClick",value:function(e){var t=this.props.client;t.modalUtils.removeModal(e),t.userUtils.removeAlert()}},{key:"openScreenLayoutModal",value:function(){var e=this.props.client,t=e.modalUtils.removeModal;e.modalUtils.addModalWithConstructor(Sg,{client:e,currentLayout:e.userUtils.getScreenLayout(),onSubmit:function(t){"custom"!==t&&e.userUtils.setScreenLayout(t),e.modalUtils.removeModal()},onClose:t})}},{key:"openSmileySettingsModal",value:function(){var e=this.props.client;e.modalUtils.addModalWithConstructor(Zh,{smileySettings:e.userUtils.getSmileySettings(),onSubmit:this.onSmileySettings,onClose:e.modalUtils.removeModal})}},{key:"onSmileySettings",value:function(e){var t=this.props.client;t.userUtils.setSmileySettings(e),t.modalUtils.removeModal()}},{key:"toggleWhitespaceOption",value:function(){var e=this.props.client,t=e.userUtils.getWhitespaceOption();e.modalUtils.addModalWithConstructor(qh,{title:"Warning",text:["Warning! Changing this setting requires this page to reload.","Do you wish to continue?"],confirmButtonText:"Yes",onConfirm:function(){e.userUtils.setWhitespaceOption("standard"===t?"compact":"standard"),e.modalUtils.removeModal(),e.userUtils.setIsMenuBarOpen(!1),window.location.reload(!1)},cancelButtonText:"No",onCancel:function(){e.modalUtils.removeModal()}},{keepMenuBarOpen:!0})}}]),o}(ue.Component);r(xg,"MOBILE_WIDTH",768),r(xg,"SWIPE_MARGIN",75);var Cg=zu(xg),kg={column:"styles_column__3nt0A",shadow:"styles_shadow__1Pz-I"};Ku("/* Flex column container */\n.styles_column__3nt0A {\n\tdisplay: flex;\n\theight: auto;\n\tflex-direction: column;\n\toverflow: hidden;\n}\n\n/* When boxShadow prop is true */\n.styles_shadow__1Pz-I {\n\tbox-shadow: 0px 0px 10px -7px black;\n}\n");var Eg=function(t){a(o,t);var r=f(o);function o(t){return e(this,o),r.call(this,t)}return n(o,[{key:"render",value:function(){return ue.createElement(Gu,i({},this.props,{className:[kg.column,this.props.boxShadow?kg.shadow:"",this.props.className].join(" ")}),this.props.children)}}]),o}(ue.Component),Ag=_((function(e,t){!function(e,t){var n=function(){};function r(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||r(t)}var o=[];function s(e){-1===o.indexOf(e)&&(o.push(e),console.error("[mobx-utils] Deprecated: "+e))}function a(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}var l=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(l(Object.getPrototypeOf(e))||[])},c=function(e){return function(e){var t=l(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))};function u(e){switch(this.state){case"pending":return e.pending&&e.pending(this.value);case"rejected":return e.rejected&&e.rejected(this.value);case"fulfilled":return e.fulfilled?e.fulfilled(this.value):this.value}}function h(e,n){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var r=e;e.then(t.action("observableFromPromise-resolve",(function(e){r.value=e,r.state="fulfilled"})),t.action("observableFromPromise-reject",(function(e){r.value=e,r.state="rejected"}))),r.isPromiseBasedObservable=!0,r.case=u;var o=n&&"fulfilled"===n.state?n.value:void 0;return t.extendObservable(r,{value:o,state:"pending"},{},{deep:!1}),r}!function(e){e.reject=t.action("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state="rejected",n.value=t,n})),e.resolve=t.action("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state="fulfilled",n.value=t,n}))}(h||(h={}));var d=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};function f(e,n){if(n<0)throw new Error("[mobx.array] Index out of bounds: "+n+" is negative");var r=e[t.$mobx].values.length;if(n>=r)throw new Error("[mobx.array] Index out of bounds: "+n+" is not smaller than "+r)}function p(e,r,o){void 0===r&&(r=n),void 0===o&&(o=void 0);var s=!1,a=!1,l=o,c=function(){s&&(s=!1,r())},u=t.createAtom("ResourceBasedObservable",(function(){i(!s&&!a),s=!0,e((function(e){t._allowStateChanges(!0,(function(){l=e,u.reportChanged()}))}))}),c);return{current:function(){return i(!a,"subscribingObservable has already been disposed"),u.reportObserved()||s||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),l},dispose:function(){a=!0,c()},isAlive:function(){return s}}}var g=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},m=function(){function e(e,n){var r=this;t.runInAction((function(){r.current=n,r.subscription=e.subscribe(r)}))}return e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},g([t.observable.ref],e.prototype,"current",void 0),g([t.action.bound],e.prototype,"next",null),g([t.action.bound],e.prototype,"complete",null),g([t.action.bound],e.prototype,"error",null),e}(),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},y=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},b=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],w=function(){function e(e){var n=this;this.model=e,this.localValues=t.observable.map({}),this.localComputedValues=t.observable.map({}),this.isPropertyDirty=function(e){return n.localValues.has(e)},i(t.isObservableObject(e),"createViewModel expects an observable object"),c(e).forEach((function(r){if(r!==t.$mobx&&"__mobxDidRunLazyInitializers"!==r){if(i(-1===b.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),t.isComputedProp(e,r)){var o=t._getAdministration(e,r).derivation;n.localComputedValues.set(r,t.computed(o.bind(n)))}var s=Object.getOwnPropertyDescriptor(e,r),a=s?{enumerable:s.enumerable}:{};Object.defineProperty(n,r,v(v({},a),{configurable:!0,get:function(){return t.isComputedProp(e,r)?n.localComputedValues.get(r).get():n.isPropertyDirty(r)?n.localValues.get(r):n.model[r]},set:t.action((function(e){e!==n.model[r]?n.localValues.set(r,e):n.localValues.delete(r)}))}))}}))}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;t.keys(this.localValues).forEach((function(n){var r=e.localValues.get(n),i=e.model[n];t.isObservableArray(i)?i.replace(r):t.isObservableMap(i)?(i.clear(),i.merge(r)):t.isComputed(r)||(e.model[n]=r)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},y([t.computed],e.prototype,"isDirty",null),y([t.computed],e.prototype,"changedValues",null),y([t.action.bound],e.prototype,"submit",null),y([t.action.bound],e.prototype,"reset",null),y([t.action.bound],e.prototype,"resetProperty",null),e}(),_={},S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},C=0;function k(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function E(e){return t.isObservableObject(e)||t.isObservableArray(e)||t.isObservableMap(e)}var A,R=(A=function(e,t){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),T=function(e){function n(n,r,i){var o=void 0===i?{}:i,s=o.name,a=void 0===s?"ogm"+(1e3*Math.random()|0):s,l=o.keyToName,c=void 0===l?function(e){return""+e}:l,u=e.call(this)||this;u._keyToName=c,u._groupBy=r,u._ogmInfoKey=Symbol("ogmInfo"+a),u._base=n;for(var h=0;h<n.length;h++)u._addItem(n[h]);return u._disposeBaseObserver=t.observe(u._base,(function(e){if("splice"===e.type)t.transaction((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];u._removeItem(r)}for(var i=0,o=e.added;i<o.length;i++){var s=o[i];u._addItem(s)}}));else{if("update"!==e.type)throw new Error("illegal state");t.transaction((function(){u._removeItem(e.oldValue),u._addItem(e.newValue)}))}})),u}return R(n,e),n.prototype.clear=function(){throw new Error("not supported")},n.prototype.delete=function(e){throw new Error("not supported")},n.prototype.set=function(e,t){throw new Error("not supported")},n.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},n.prototype._getGroupArr=function(n){var r=e.prototype.get.call(this,n);return void 0===r&&(r=t.observable([],{name:"GroupArray["+this._keyToName(n)+"]",deep:!1}),e.prototype.set.call(this,n,r)),r},n.prototype._removeFromGroupArr=function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},n.prototype._addItem=function(e){var n=this,r=this._groupBy(e),i=this._getGroupArr(r),o={groupByValue:r,groupArrIndex:i.length,reaction:t.reaction((function(){return n._groupBy(e)}),(function(t,r){var i=e[n._ogmInfoKey];n._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var o=n._getGroupArr(t),s=o.length;o.push(e),i.groupByValue=t,i.groupArrIndex=s}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:o}),i.push(e)},n.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]},n}(t.ObservableMap),M=function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var i=new Map;n.set(this.args[r],i),n=i}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}(),O=function(){function e(){this.store=new Map,this.argsLength=-1}return e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new M(this.store,e)},e}(),$=function(){return($=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function L(e,t,n,r,i){if(i)return function(e,t,n,r){if(void 0!==r.get)return fail(e+" cannot be used with getters");if(r.value)return{value:t(n,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return t(n,i.call(this))}}}(e,t,r,i);!function(e,t,n){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){a(this,n,e(n,t))}})}(t,n,r)}var I,P,D=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},F=0,B=new Set,U=new Set,z=Promise.resolve();P="undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==Tu&&mu?function(e){mu(e)}:function(e){setTimeout(e,0)};var W=function(){return new Promise((function(e){P(e)}))};I=function(){return z=z.then(W)};var j=[];function H(e,n){return t._startAction&&t._endAction||r("'actionAsync' requires mobx >=5.13.1 or >=4.13.1"),i("function"==typeof n,"'asyncAction' expects a function"),"string"==typeof e&&e||r("actions should have valid names, got: '"+e+"'"),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return D(this,void 0,void 0,(function(){var o,s,a,l,c,u;return N(this,(function(h){switch(h.label){case 0:o=F++,B.add(o),s=t._startAction(V(e,o,0),this,i),j.push({runId:o,step:0,actionRunInfo:s,actionName:e,args:i,scope:this}),U.add(o),a=function(n){B.delete(o);var i=j.pop();if(!i||i.runId!==o){i&&j.push(i);var s="invalid 'actionAsync' context when finishing action '"+e+"'.";s+=i?" an action context for '"+i.actionName+"' was found instead.":" no action context could be found instead.",r(s+=" did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?")}if(i.actionRunInfo.error=n,t._endAction(i.actionRunInfo),U.delete(o),n)throw n};try{l=n.apply(this,i)}catch(e){a(e)}if(U.has(o))return a(void 0),[2,l];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,l];case 2:return c=h.sent(),[3,4];case 3:return u=h.sent(),a(u),[3,4];case 4:return a(void 0),[2,c]}}))}))}}function V(e,t,n){return e+" - runid "+t+" - step "+n}e.FULFILLED="fulfilled",e.IDENTITY=function(e){return e},e.NOOP=n,e.ObservableGroupMap=T,e.PENDING="pending",e.REJECTED="rejected",e.ViewModel=w,e.actionAsync=function(e,t,n){if("string"==typeof arguments[1])return L("@actionAsync",(function(e,t){return H(e,t)}),e,t,n);var r="string"==typeof e?e:e.name||"<unnamed action>",i="function"==typeof e?e:t;return H(r,i)},e.addHiddenProp=a,e.asyncAction=function(e,n){if("string"==typeof arguments[1]){var r=arguments[1],i=arguments[2];return i&&i.value?Object.assign({},i,{value:t.flow(i.value)}):Object.assign({},i,{set:function(e){Object.defineProperty(this,r,S(S({},i),{value:t.flow(e)}))}})}var o="string"==typeof e?n:e;return"string"==typeof e||o.name,s("asyncAction is deprecated. use mobx.flow instead"),t.flow(o)},e.chunkProcessor=function(e,n,r,i){if(void 0===r&&(r=0),void 0===i&&(i=0),!t.isObservableArray(e))throw new Error("Expected observable array as first argument");t.isAction(n)||(n=t.action("chunkProcessor",n));var o=function(){for(var r=function(){var r=0===i?e.length:Math.min(e.length,i),o=e.slice(0,r);t.runInAction((function(){return e.splice(0,r)})),n(o)};e.length>0;)r()};return r>0?t.autorun(o,{delay:r}):t.autorun(o)},e.computedFn=function(e,n){if(void 0===n&&(n=!1),t.isAction(e))throw new Error("computedFn shouldn't be used on actions");var r=!1,i=0,o="boolean"==typeof n?{keepAlive:n}:n,s=new O;return function(){for(var n=this,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=s.entry(a);if(c.exists())return c.get().get();if(!o.keepAlive&&!t._isComputingDerivation())return r||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),r=!0),e.apply(this,a);var u=t.computed((function(){return e.apply(n,a)}),$($({},o),{name:"computedFn("+e.name+"#"+ ++i+")"}));return c.set(u),o.keepAlive||t.onBecomeUnobserved(u,(function(){s.entry(a).delete()})),u.get()}},e.createTransformer=function(e,n){i("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var r={},o=void 0,s=!1,l=void 0;"object"==typeof n?(o=n.onCleanup,s=void 0!==n.keepAlive&&n.keepAlive,l=n.debugNameGenerator):"function"==typeof n&&(o=n);var c=!1;return function(i){var u=function(e){var t=typeof e;if("string"===t)return"string:"+e;if("number"===t)return"number:"+e;if(null===e||"object"!==t&&"function"!==t)throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(e));var n=e.$transformId;return void 0===n&&(n="memoizationId:"+ ++C,a(e,"$transformId",n)),n}(i),h=r[u];if(h)return h.get();if(!s&&!t._isComputingDerivation()){c||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),c=!0);var d=e(i);return o&&o(d,i),d}return(h=r[u]=function(i,a){var c,u={};"object"==typeof n?(o=n.onCleanup,l=n.debugNameGenerator,u=n):"function"==typeof n?o=n:(o=void 0,l=void 0);var h=l?l(a):"Transformer-"+e.name+"-"+i,d=t.computed((function(){return c=e(a)}),x(x({},u),{name:h}));if(!s)var f=t.onBecomeUnobserved(d,(function(){delete r[i],f(),o&&o(c,a)}));return d}(u,i)).get()}},e.createViewModel=function(e){return new w(e)},e.deepObserve=function(e,n){var r=new WeakMap;function i(t){var i=r.get(t.object);!function(e,t){switch(e.type){case"add":o(e.newValue,t,e.name);break;case"update":s(e.oldValue),o(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":s(e.oldValue);break;case"splice":e.removed.map(s),e.added.forEach((function(n,r){return o(n,t,""+(e.index+r))}));for(var n=e.index+e.addedCount;n<e.object.length;n++)if(E(e.object[n])){var i=r.get(e.object[n]);i&&(i.path=""+n)}}}(t,i),n(t,k(i),e)}function o(e,n,s){if(E(e)){var a=r.get(e);if(a){if(a.parent!==n||a.path!==s)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+k(n)+"/"+s+"', but it already exists at '"+k(a.parent)+"/"+a.path+"'")}else{var l={parent:n,path:s,dispose:t.observe(e,i)};r.set(e,l),t.entries(e).forEach((function(e){var t=e[0];return o(e[1],l,t)}))}}}function s(e){if(E(e)){var n=r.get(e);if(!n)return;r.delete(e),n.dispose(),t.values(e).forEach(s)}}return o(e,void 0,""),function(){s(e)}},e.deprecated=s,e.expr=function(e){return t._isComputingDerivation()||console.warn("'expr' should only be used inside other reactive functions."),t.computed(e).get()},e.fail=r,e.fromPromise=h,e.fromResource=p,e.fromStream=function(e,t){return void 0===t&&(t=void 0),new m(e,t)},e.getAllMethodsAndProperties=c,e.invariant=i,e.isPromiseBasedObservable=function(e){return e&&!0===e.isPromiseBasedObservable},e.keepAlive=function(e,n){var r=t.getAtom(e,n);if(!r)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return r.observe((function(){}))},e.lazyObservable=function(e,n){void 0===n&&(n=void 0);var r=!1,i=t.observable.box(n,{deep:!1}),o=t.observable.box(!1),s=function(){return r||(r=!0,t._allowStateChanges(!0,(function(){o.set(!0)})),e((function(e){t._allowStateChanges(!0,(function(){i.set(e),o.set(!1)}))}))),i.get()},a=t.action("lazyObservable-reset",(function(){return r=!1,i.set(n),i.get()}));return{current:s,refresh:function(){return r?(r=!1,s()):i.get()},reset:function(){return a()},get pending(){return o.get()}}},e.moveItem=function(e,n,r){if(f(e,n),f(e,r),n!==r){var i,o=e[t.$mobx].values;return i=n<r?d(o.slice(0,n),o.slice(n+1,r+1),[o[n]],o.slice(r+1)):d(o.slice(0,r),[o[n]],o.slice(r,n),o.slice(n+1)),e.replace(i),e}},e.now=function(e){return void 0===e&&(e=1e3),t._isComputingDerivation()?(_[e]||(_[e]="number"==typeof e?function(e){var t;return p((function(n){n(Date.now()),t=setInterval((function(){return n(Date.now())}),e)}),(function(){clearInterval(t)}),Date.now())}(e):n=p((function(e){e(Date.now()),function t(){window.requestAnimationFrame((function(){e(Date.now()),n.isAlive()&&t()}))}()}),(function(){}),Date.now())),_[e].current()):Date.now();var n},e.queueProcessor=function(e,n,r){if(void 0===r&&(r=0),!t.isObservableArray(e))throw new Error("Expected observable array as first argument");t.isAction(n)||(n=t.action("queueProcessor",n));var i=function(){var r=e.slice(0);t.runInAction((function(){return e.splice(0)})),r.forEach(n)};return r>0?t.autorun(i,{delay:r}):t.autorun(i)},e.task=function(e){return D(this,void 0,void 0,(function(){var n,i,o,s,a,l,c,u,h,d,f;return N(this,(function(p){switch(p.label){case 0:(n=j[j.length-1])||r("'actionAsync' context not present when running 'task'. did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?"),i=n.runId,o=n.actionName,s=n.args,a=n.scope,l=n.actionRunInfo,c=n.step,u=c+1,j.pop(),t._endAction(l),U.delete(i),p.label=1;case 1:return p.trys.push([1,4,6,7]),[4,e];case 2:return h=p.sent(),[4,I()];case 3:return p.sent(),[2,h];case 4:return d=p.sent(),[4,I()];case 5:throw p.sent(),d;case 6:return B.has(i)&&(f=t._startAction(V(o,i,u),this,s),j.push({runId:i,step:u,actionRunInfo:f,actionName:o,args:s,scope:a}),U.add(i)),[7];case 7:return[2]}}))}))},e.toStream=function(e,n){var r;void 0===n&&(n=!1);var i=t.computed(e);return(r={subscribe:function(e){return"function"==typeof e?{unsubscribe:i.observe((function(t){var n=t.newValue;return e(n)}),n)}:e&&"object"==typeof e&&e.next?{unsubscribe:i.observe((function(t){var n=t.newValue;return e.next(n)}),n)}:{unsubscribe:function(){}}}})["function"==typeof Symbol&&Symbol.observable||"@@observable"]=function(){return this},r},e.whenAsync=function(e,n){return void 0===n&&(n=0),s("whenAsync is deprecated, use mobx.when without effect instead"),t.when(e,{timeout:n})},e.whenWithTimeout=function(e,n,r,i){return void 0===r&&(r=1e4),void 0===i&&(i=function(){}),s("whenWithTimeout is deprecated, use mobx.when with timeout option instead"),t.when(e,n,{timeout:r,onError:i})},Object.defineProperty(e,"__esModule",{value:!0})}(t,$u)}));w(Ag);var Rg=Ag.computedFn,Tg=Ag.expr,Mg="styles_messageList__2Gz0Y",Og="styles_topTracked__wDRH_",$g="styles_thread__3HaEQ";Ku(".styles_messageList__2Gz0Y {\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\tposition: relative;\n}\n.styles_messageList__2Gz0Y.styles_topTracked__wDRH_ {\n\theight: 100%;\n}\n\n.styles_thread__3HaEQ.styles_topTracked__wDRH_ {\n\tposition: absolute;\n\tdisplay: block;\n\twidth: 100%;\n}\n");var Lg={tip:"styles_tip__vTEuv",tipAnimateIn:"styles_tipAnimateIn__3iU26",inputWrapper:"styles_inputWrapper__2TpCL",inputField:"styles_inputField__1XqH2",hasTip:"styles_hasTip__3QBSm",disabled:"styles_disabled__2yOJ9",resizeForMediumFontSize:"styles_resizeForMediumFontSize__3COC-",resizeForSmallFontSize:"styles_resizeForSmallFontSize__13XYU",previewIcon:"styles_previewIcon__pbwCD",previewWrapper:"styles_previewWrapper__1udDe",previewBoxOuter:"styles_previewBoxOuter__1NV9p",previewBoxInner:"styles_previewBoxInner__2UgX7",previewContent:"styles_previewContent__3STso",closePreviewButton:"styles_closePreviewButton__dVgbs",largerIcon:"styles_largerIcon__3vn58"};Ku("@keyframes styles_tipAnimateIn__3iU26 {\n\tfrom {\n\t\ttransform: translate(-50%, 50%);\n\t}\n\tto {\n\t\ttransform: translate(-50%, -50%);\n\t}\n}\n\n.styles_tip__vTEuv {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\tpadding: 2px 5px;\n\tfont-size: 0.8em;\n\tcolor: rgb(255, 255, 255);\n\tbackground: rgb(64, 194, 204);\n\tbox-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.2);\n\tanimation-name: styles_tipAnimateIn__3iU26;\n\tanimation-duration: 0.2s;\n\tanimation-iteration-count: 1;\n\tanimation-timing-function: ease;\n\tz-index: -1;\n\ttext-shadow: 2px 2px 3px rgba(0, 0, 0, 0.2);\n\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tmax-width: 90%;\n}\n\n.styles_inputWrapper__2TpCL {\n\tposition: relative;\n\tpadding: 10px;\n\tbackground: white;\n\tz-index: 16;\n\tbox-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.2);\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.styles_inputField__1XqH2 {\n\twidth: 100%;\n\theight: 1em;\n\tmin-height: 2.8em;\n\tmax-height: 200px;\n\tresize: none;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\tpadding: 0.8em;\n\tbackground-color: #ededed;\n\tborder: none;\n\tborder-radius: 0;\n\toutline: none;\n\tfont-size: 1em;\n\tfont-family: Roboto, sans-serif;\n\tcolor: #444444;\n}\n\n.styles_hasTip__3QBSm .styles_inputField__1XqH2 {\n\toutline: 2px solid rgb(64, 194, 204);\n\toutline-offset: -2px;\n}\n\n.styles_disabled__2yOJ9 .styles_inputField__1XqH2 {\n\tcolor: grey;\n\tfont-style: italic;\n}\n\n.styles_resizeForMediumFontSize__3COC- {\n\tfont-size: 16px;\n\twidth: 106.66666667%;\n\ttransform: scale(0.9375);\n\ttransform-origin: left top;\n\n\tmargin-bottom: -7px;\n\tmargin-right: -6.666666667%;\n}\n\n.styles_resizeForSmallFontSize__13XYU {\n\tfont-size: 16px;\n\twidth: 123.07692308%;\n\ttransform: scale(0.8125);\n\ttransform-origin: left top;\n\n\tmargin-bottom: -10px;\n\tmargin-right: -23.07691308%;\n}\n\n.styles_previewIcon__pbwCD {\n\tdisplay: flex;\n\tbackground-color: #1b365d;\n\tcolor: white;\n\tmin-height: 100%;\n\talign-items: center;\n\tjustify-content: center;\n\talign-self: stretch;\n\twidth: 45px;\n\tfont-size: 1.2em;\n}\n\n.styles_previewIcon__pbwCD:hover {\n\tcursor: pointer;\n\tbackground-color: #2d5691;\n\tuser-select: none;\n}\n\n.styles_previewWrapper__1udDe {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\tflex-shrink: 0;\n}\n\n.styles_previewBoxOuter__1NV9p {\n\tposition: absolute;\n\tbottom: 100%;\n\tdisplay: flex;\n\tz-index: 15;\n\tbackground-color: #ededed;\n\tborder: 2px solid #1b365d;\n\tmin-height: 2.8em;\n\theight: auto;\n\tmax-width: 100%;\n\twidth: 100%;\n}\n\n.styles_previewBoxInner__2UgX7 {\n\tposition: relative;\n\tdisplay: flex;\n\tbackground-color: inherit;\n\tmax-width: 100%;\n\twidth: 100%;\n\tmax-height: 100%;\n}\n\n.styles_previewContent__3STso {\n\tbackground-color: inherit;\n\tflex-grow: 1;\n\tmax-width: 100%;\n\toverflow: hidden;\n}\n\n.styles_closePreviewButton__dVgbs {\n\tposition: relative;\n\tflex-shrink: 0;\n\twidth: 2.2em;\n\theight: auto;\n}\n\n.styles_largerIcon__3vn58 {\n\tfont-size: 1.4em;\n}\n");var Ig={messageContentWrapper:"styles_messageContentWrapper__1gM8w",scrollWrapper:"styles_scrollWrapper__lIHbR",messageContent:"styles_messageContent__2l74g",leftFade:"styles_leftFade__SnhAt",rightFade:"styles_rightFade__2ZjY7",fadeWrapper:"styles_fadeWrapper__1-vUr",forceScrollbar:"styles_forceScrollbar__37xiq",message:"styles_message__3e4EW",system:"styles_system__4GT8n",visible:"styles_visible__NbX9C",problemText:"styles_problemText__rR5Tz"};Ku('.styles_messageContentWrapper__1gM8w {\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tflex-basis: auto;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tbackground-color: inherit;\n\theight: 100%;\n\tpadding: 0.8em;\n}\n\n.styles_messageContentWrapper__1gM8w:hover .styles_scrollWrapper__lIHbR {\n\tvisibility: visible;\n}\n\n.styles_messageContent__2l74g {\n\tvisibility: visible;\n\tposition: relative;\n\tfont-size: 1em;\n\toverflow-wrap: break-word;\n\twhite-space: pre-line;\n\tuser-select: auto;\n\t-webkit-user-select: auto;\n\t-moz-user-select: auto;\n\t-ms-user-select: auto;\n}\n\n.styles_leftFade__SnhAt {\n\tz-index: 1;\n\tvisibility: hidden;\n\tcontent: "";\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\twidth: 15%;\n\tpointer-events: none;\n\tbackground-image: linear-gradient(to left, #ffffff00, white);\n}\n\n.styles_rightFade__2ZjY7 {\n\tvisibility: hidden;\n\tcontent: "";\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\twidth: 15%;\n\tpointer-events: none;\n\tbackground-image: linear-gradient(to right, #ffffff00, #ffffff);\n}\n\n.styles_fadeWrapper__1-vUr {\n\tposition: relative;\n\tvisibility: hidden;\n\toverflow: hidden;\n}\n\n.styles_scrollWrapper__lIHbR {\n\tposition: relative;\n\tvisibility: hidden;\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tflex-basis: auto;\n\toverflow-y: hidden;\n\toverflow-x: auto;\n\twidth: 100%;\n}\n\n.styles_forceScrollbar__37xiq {\n\toverflow-x: scroll;\n}\n\n.styles_scrollWrapper__lIHbR > * {\n\tvisibility: visible;\n}\n\n.styles_message__3e4EW:hover .styles_scrollWrapper__lIHbR {\n\tvisibility: visible;\n}\n\n.styles_system__4GT8n {\n\tcolor: grey;\n\tfont-style: italic;\n\tpadding-left: 18px;\n}\n\n.styles_messageContent__2l74g img {\n\tmax-width: 100%;\n\theight: auto;\n}\n\n.styles_messageContent__2l74g img[class^="latex"] {\n\tmax-width: none;\n}\n\n.styles_messageContent__2l74g img[src^="//latex"] {\n\tmax-width: none;\n}\n\n.styles_visible__NbX9C {\n\tvisibility: visible;\n}\n\n.styles_problemText__rR5Tz {\n\tmargin-bottom: 10px;\n}\n');var Pg=zu(function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"driver",void 0),r(h(n),"renderedMotor",void 0),r(h(n),"messageRef",he()),r(h(n),"scrollWrapperRef",he()),r(h(n),"leftFadeRef",he()),r(h(n),"rightFadeRef",he()),n.onJaxRendered=n.onJaxRendered.bind(h(n)),n.onScroll=n.onScroll.bind(h(n)),n.checkHorizontalOverflow=n.checkHorizontalOverflow.bind(h(n)),n.onWindowResize=n.onWindowResize.bind(h(n)),n.getMessageClasses=n.getMessageClasses.bind(h(n)),n.setFadeColor=n.setFadeColor.bind(h(n)),n}return n(o,[{key:"render",value:function(){var e=null;if(this.props.opt&&this.props.opt.motor)e=ue.createElement(ue.Fragment,null,this.props.opt.motor.problemText&&ue.createElement("div",{className:Ig.problemText},ue.createElement(cd,{renderAsHTML:!0,onJaxRendered:this.onJaxRendered},this.props.opt.motor.problemText)),this.renderMotor());else if(pp(this.props.message)){var t=this.props.client;e=ue.createElement(bg,{client:t,messageText:this.props.message,submitPyWindow:function(){t.modalUtils.addModalWithConstructor(qh,{client:t,title:"Python Student Submit",text:["If you were a student, your response would have been submitted here."],confirmButtonText:"OK!",onConfirm:t.modalUtils.removeModal})}})}else this.driver=void 0,this.renderedMotor=void 0,e=ue.createElement(cd,{renderAsHTML:!0,onJaxRendered:this.onJaxRendered},this.props.message);return ue.createElement("div",{className:Ig.messageContentWrapper,ref:this.messageRef},ue.createElement("div",{className:[Ig.messageContent,this.getMessageClasses()].join(" ")},ue.createElement("div",{className:Ig.fadeWrapper},ue.createElement("div",{ref:this.leftFadeRef,className:Ig.leftFade}),ue.createElement("div",{ref:this.scrollWrapperRef,className:Ig.scrollWrapper,onScroll:this.onScroll},e),ue.createElement("div",{ref:this.rightFadeRef,className:Ig.rightFade}))))}},{key:"onJaxRendered",value:function(){this.checkHorizontalOverflow()}},{key:"componentDidMount",value:function(){this.checkHorizontalOverflow(),window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"componentDidUpdate",value:function(e){this.props.opt&&e.opt&&this.props.opt.motor!==e.opt.motor&&this.updateMotor()}},{key:"onWindowResize",value:function(){this.checkHorizontalOverflow(),this.onScroll()}},{key:"checkHorizontalOverflow",value:function(){var e=this.scrollWrapperRef.current,t=this.rightFadeRef.current;e&&t&&(e.scrollWidth>e.clientWidth?(t.classList.add(Ig.visible),e.classList.add(Ig.forceScrollbar),this.setFadeColor()):(t.classList.remove(Ig.visible),e.classList.remove(Ig.forceScrollbar)))}},{key:"onScroll",value:function(){var e=this.scrollWrapperRef.current,t=this.leftFadeRef.current,n=this.rightFadeRef.current;e&&t&&n&&(t.classList.remove(Ig.visible),n.classList.remove(Ig.visible),e.scrollWidth>e.clientWidth&&(e.scrollLeft<=0?n.classList.add(Ig.visible):(e.scrollLeft+e.clientWidth>=e.scrollWidth||n.classList.add(Ig.visible),t.classList.add(Ig.visible))))}},{key:"getMessageClasses",value:function(){return this.props.willSend?"":Ig.system}},{key:"setFadeColor",value:function(){var e=this.messageRef.current,t=this.rightFadeRef.current,n=this.leftFadeRef.current;if(t&&n&&e){var r=getComputedStyle(e).backgroundColor,i=r.slice(0,r.length-1)+", 0)";t.style.backgroundImage="linear-gradient(to right, "+i+", "+r+")",n.style.backgroundImage="linear-gradient(to left, "+i+", "+r+")"}}},{key:"renderMotor",value:function(){if(this.renderedMotor)return this.renderedMotor;var e=this.props.opt;if(e.motor&&e.motor.type&&e.motor.options){var t=e.motor,n=t.type+"Driver",r=window.Motors.Drivers[n];if(r){this.driver=new r;var i=new window.Motors.Controller({driver:this.driver}),o=JSON.parse(JSON.stringify(t.options));return i.start(o),this.renderedMotor=i.render(),this.renderedMotor}}}},{key:"updateMotor",value:function(){if(this.props.opt.motor&&this.props.opt.motor.type&&this.props.opt.motor.options&&this.driver){var e=this.props.opt.motor;if("MultipleChoice"===e.type){var t=JSON.parse(JSON.stringify(e.options));this.driver.outputs.sendData(t)}}}}]),o}(ue.Component)),Dg=[13],Ng=[46],Fg=function(t){a(o,t);var i=f(o);function o(t){var n;return e(this,o),r(h(n=i.call(this,t)),"wrapperRef",he()),r(h(n),"textareaRef",he()),r(h(n),"previewBoxOuterRef",he()),r(h(n),"history",void 0),r(h(n),"historyPosition",void 0),n.state={value:"",showingPreview:!1,consecutiveTabs:0,lastUsernameStart:""},n.history=[],n.historyPosition=0,n.onKeyDown=n.onKeyDown.bind(h(n)),n.onChange=n.onChange.bind(h(n)),n.onKeyPress=n.onKeyPress.bind(h(n)),n.onFocus=n.onFocus.bind(h(n)),n.appendToHistory=n.appendToHistory.bind(h(n)),n.buildPreview=n.buildPreview.bind(h(n)),n.buildPreviewButton=n.buildPreviewButton.bind(h(n)),n.onShowPreview=n.onShowPreview.bind(h(n)),n.onHidePreview=n.onHidePreview.bind(h(n)),n.computeMaxPreviewHeight=n.computeMaxPreviewHeight.bind(h(n)),n}return n(o,[{key:"render",value:function(){var e;this.props.tipMessage&&(e=ue.createElement("div",{className:Lg.tip,title:this.props.tipMessage.toString()},this.props.tipMessage));var t="";if(this.props.client.getIsMobile()){var n=this.props.client.userUtils.getFontSize();n===this.props.client.FONT_SIZE_SMALL?t=Lg.resizeForSmallFontSize:n===this.props.client.FONT_SIZE_MEDIUM&&(t=Lg.resizeForMediumFontSize)}return ue.createElement("div",{className:Lg.previewWrapper},this.buildPreview(),ue.createElement("div",{ref:this.wrapperRef,className:[Lg.inputWrapper,this.props.className,e?Lg.hasTip:void 0,this.props.disabled?Lg.disabled:void 0].join(" ")},e,this.buildPreviewButton(),ue.createElement("textarea",{ref:this.textareaRef,disabled:this.props.disabled,value:this.props.disabled?"Text entry disabled.":this.state.value,onFocus:this.onFocus,onChange:this.onChange,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown,className:[Lg.inputField,t].join(" ")})))}},{key:"buildPreview",value:function(){if(this.state.showingPreview){var e=this.props.messagePreview,t=e?e.message:"",n=!!e&&e.willSend,r=e?e.opt:void 0;return ue.createElement("div",{className:Lg.previewBoxOuter,ref:this.previewBoxOuterRef},ue.createElement("div",{className:Lg.previewBoxInner},ue.createElement("div",{className:Lg.previewContent},ue.createElement(Pg,{client:this.props.client,message:t,willSend:n,opt:r})),ue.createElement("div",{className:[Lg.previewIcon,Lg.closePreviewButton,"aops-font"].join(" "),onClick:this.onHidePreview,title:"Close Preview"},"#")))}}},{key:"buildPreviewButton",value:function(){if(this.props.mainWindow){var e=this.state.showingPreview?"r":"h",t=this.state.showingPreview?"Refresh preview":"Preview message",n=this.state.showingPreview?Lg.largerIcon:"";return ue.createElement("div",{className:[Lg.previewIcon,n,"aops-font"].join(" "),onClick:this.onShowPreview,title:t},e)}}},{key:"onShowPreview",value:function(){this.props.client.messageUtils.previewMessage(this.state.value),this.setState({showingPreview:!0})}},{key:"onHidePreview",value:function(){this.props.client.messageUtils.setMessagePreview(void 0),this.setState({showingPreview:!1})}},{key:"setValue",value:function(e,t){this.setState({value:e},t),(this.state.consecutiveTabs||this.state.lastUsernameStart)&&this.setState({consecutiveTabs:0,lastUsernameStart:""})}},{key:"onFocus",value:function(){this.props.client.lastFocusedEntryBox=this}},{key:"onChange",value:function(e){this.setValue(e.target.value),this.props.onChange&&this.props.onChange(e.target.value)}},{key:"onKeyPress",value:function(e){if(this.textareaRef.current){var t=e.which,n=this.textareaRef.current.value;if(""!==n.trim()&&Dg.includes(t)){if(e.shiftKey&&!this.props.client.getIsMobile())return;e.preventDefault(),this.props.onSubmit(n),this.appendToHistory(n),this.setValue(""),this.setState({showingPreview:!1})}}}},{key:"onKeyDown",value:function(e){if(this.textareaRef.current){if("Escape"===e.key&&this.props.onEscape){e.preventDefault();var t=this.props.onEscape();return t||this.setValue(""),t}if(this.props.mainWindow&&"Tab"===e.key){e.preventDefault();var n="",r=0;if(this.state.consecutiveTabs&&this.state.lastUsernameStart)n=this.state.lastUsernameStart,r=this.state.consecutiveTabs;else{var i=this.state.value.split(" ");n=i[i.length-1]}if(n){var o=this.props.client.userUtils.getMatchingUsername(n,r);if(o){var s=this.state.value.lastIndexOf(" ")+1,a=this.state.value.substring(0,s)+o;this.setState({value:a}),this.setState({lastUsernameStart:n}),this.setState({consecutiveTabs:this.state.consecutiveTabs+1})}}}else{if(Ng.includes(e.keyCode)&&e.shiftKey&&this.props.onShiftDel)return e.preventDefault(),this.props.onShiftDel();if(e.metaKey||e.ctrlKey){var l=this.getCrypt();38!=e.keyCode||l&&e.shiftKey?40!==e.keyCode||l&&e.shiftKey||(this.historyPosition<this.history.length-1?(this.historyPosition++,this.setValue(this.history[this.historyPosition])):(this.historyPosition=this.history.length,this.setValue(""))):this.historyPosition>0&&(this.historyPosition--,this.setValue(this.history[this.historyPosition]))}(e.metaKey||e.ctrlKey)&&e.shiftKey&&e.keyCode>=37&&e.keyCode<=40&&(e.stopPropagation(),e.preventDefault(),38===e.keyCode?this.cryptUp():40===e.keyCode?this.cryptDown():37===e.keyCode?this.cryptGet():39===e.keyCode&&(this.cryptGet(),this.cryptDown()))}}}},{key:"appendToHistory",value:function(e){this.history.push(e),this.historyPosition=this.history.length}},{key:"getCrypt",value:function(){if(this.props.mainWindow&&this.props.client&&this.props.client.cryptWindow){var e=this.props.client.cryptWindow;if(e.AoPS&&e.AoPS.Crypt&&e.AoPS.Crypt.Utils&&!e.closed)return this.props.client.cryptWindow.AoPS.Crypt.Utils}return!1}},{key:"cryptUp",value:function(){var e=this.getCrypt();e&&e.SelectUp()}},{key:"cryptDown",value:function(){var e=this.getCrypt();e&&e.SelectDown()}},{key:"cryptGet",value:function(){var e=this.getCrypt();if(e){var t=e.FetchSelectedText();this.setState({value:this.state.value+t})}}},{key:"autoGrow",value:function(){if(this.wrapperRef.current&&this.textareaRef.current){var e=this.wrapperRef.current,t=this.textareaRef.current,n=e.offsetHeight;t.style.height="",t.style.height="".concat(t.scrollHeight,"px");var r=e.offsetHeight,i=r-n;n!==r&&this.props.onAutoGrow&&this.props.onAutoGrow(i)}}},{key:"focus",value:function(){if(this.textareaRef.current){var e=document.activeElement;e&&this.isTextBox(e)&&e.value||this.textareaRef.current.focus()}}},{key:"isTextBox",value:function(e){if(e){var t=e.tagName.toLowerCase();if("textarea"===t)return!0;if("input"===t){var n=(e.getAttribute("type")||"").toLowerCase();return["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].includes(n)}}return!1}},{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.focus(),this.props.replacementText&&(this.setValue(this.props.replacementText),this.props.onSetReplacementText&&this.props.onSetReplacementText())}},{key:"componentDidUpdate",value:function(e,t){this.autoGrow(),!t.showingPreview&&this.state.showingPreview&&this.computeMaxPreviewHeight(),this.props.replacementText&&this.props.replacementText!==this.state.value&&(this.setValue(this.props.replacementText),this.props.onSetReplacementText&&this.props.onSetReplacementText())}},{key:"computeMaxPreviewHeight",value:function(){this.previewBoxOuterRef.current&&(parseInt(getComputedStyle(this.previewBoxOuterRef.current).maxHeight)!==window.innerHeight-300&&(this.previewBoxOuterRef.current.style.maxHeight=(window.innerHeight-300).toString()+"px"))}}]),o}(ue.Component),Bg="styles_stickyWrapper__25MUY",Ug="styles_handleLabel__3j-Mm",zg="styles_stickyPanel__2zNQC",Wg="styles_stickyList__1ASdH",jg="styles_messageList__mDqsG",Hg="styles_handleContent__2Oa2Y",Vg="styles_noPadding__1NPXS";Ku(".styles_stickyWrapper__25MUY {\n\tbox-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.3);\n\tz-index: 10;\n}\n.styles_stickyWrapper__25MUY .styles_handleLabel__3j-Mm {\n\tmargin-left: 10px;\n}\n\n.styles_stickyWrapper__25MUY .styles_stickyPanel__2zNQC {\n\tbox-shadow: none;\n\tborder-left: 5px solid #40c2cc;\n\tborder-right: 5px solid #40c2cc;\n\tborder-bottom: 5px solid #40c2cc;\n}\n\n.styles_stickyWrapper__25MUY .styles_stickyList__1ASdH {\n\tpadding: 0;\n\theight: auto;\n\tmax-height: none;\n}\n\n.styles_responses__mvBEo {\n\tborder-top: 1px solid #bbbbbb;\n\tborder-bottom: 1px solid #bbbbbb;\n}\n\n.styles_messageList__mDqsG {\n\tmax-height: 100%;\n}\n\n.styles_handleContent__2Oa2Y {\n\tdisplay: flex;\n\talign-items: center;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twidth: 100%;\n\tmax-height: 100%;\n}\n\n.styles_handleLabel__3j-Mm {\n\tmargin-left: 10px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tmax-width: 100%;\n}\n\n.styles_noPadding__1NPXS {\n\tpadding: 0px !important;\n}\n");var Gg={tooltipWrapper:"styles_tooltipWrapper__3Q_wx",tooltipIcon:"styles_tooltipIcon__1iGD2",tooltip:"styles_tooltip__m-tQi"};Ku(".styles_tooltipWrapper__3Q_wx {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-left: 5px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tmax-width: 100%;\n\theight: 1em;\n}\n\n.styles_tooltipIcon__1iGD2 {\n\tposition: absolute;\n\toverflow: visible;\n}\n\n.styles_tooltipIcon__1iGD2 .aops-font {\n\tmargin: 0px !important;\n}\n\n.styles_tooltipIcon__1iGD2:hover .styles_tooltip__m-tQi {\n\tvisibility: visible;\n}\n\n.styles_tooltip__m-tQi {\n\tposition: absolute;\n\tvisibility: hidden;\n\tmargin-left: 5px;\n\tpadding: 5px;\n\tz-index: 200;\n\tbackground-color: white;\n\tborder: 1px solid #1b365d;\n\tborder-radius: 5px;\n\twidth: 300px;\n\theight: auto;\n\twhite-space: normal;\n\tfont-weight: normal;\n\tcolor: black;\n}\n");var Kg=function(t){a(i,t);var r=f(i);function i(t){return e(this,i),r.call(this,t)}return n(i,[{key:"render",value:function(){return ue.createElement("div",{className:Gg.tooltipWrapper},ue.createElement("div",{className:[Gg.tooltipIcon,this.props.tooltipIconClassName].join(" ")},ue.createElement(xh,null,"3"),ue.createElement("span",{className:Gg.tooltip+(this.props.tooltipClassName?" "+this.props.tooltipClassName:""),style:this.props.tooltipStyle},this.props.content)))}}]),i}(ue.Component),qg=zu(function(t){a(i,t);var r=f(i);function i(t,n){var o;return e(this,i),(o=r.call(this,t)).state={forceExpand:!1},o}return n(i,[{key:"componentDidMount",value:function(){this.props.doScroll()}},{key:"componentDidUpdate",value:function(e){var t=e.stickies||[],n=this.props.stickies||[];n!==t?t.length<n.length||1===n.length&&void 0===t.find((function(e){return e.id===n[0].id}))?(this.setState({forceExpand:!0}),this.props.doScroll()):this.setState({forceExpand:!1}):this.state.forceExpand&&this.setState({forceExpand:!1})}},{key:"render",value:function(){var e=this.props.stickies,t=this.props.client,n=!1,r=t.roomUtils.getRoom("main");r&&r.isModerated&&(n=!0);var i=void 0;if(n){var o=ue.createElement("div",null,"The classroom is moderated. ",ue.createElement("br",null),"This means that the messages you type will come to the instructors rather than going directly into the room. ",ue.createElement("br",null),"We'll choose some of the messages to share with all the students.");i=ue.createElement("div",{className:Hg},ue.createElement("span",{className:Ug,title:"Classroom is moderated"},"Classroom is moderated"),ue.createElement(Kg,{tooltipStyle:{width:"300px"},content:o}))}return e&&e.length?ue.createElement(nd,{key:"sticky-panel",forceExpand:this.state.forceExpand,minContentHeight:10,resizeFromBottom:!0,scrollable:!1,wrapperClassName:Bg,className:zg,contentClassName:Wg,handle:{collapsible:!0,resizable:!0,onResizeEnd:this.props.doScroll,content:i,postCollapse:this.props.doScroll},maxAutoSize:"50%"},ue.createElement(Yg,{className:jg,client:t,messages:e,isStickyList:!0,getMessageHoverMenu:this.props.getMessageHoverMenu,renderPassedMessages:!0,getMotorMenu:this.props.getMotorMenu})):n?ue.createElement(nd,{key:"mod-status-panel",contentClassName:Vg,handle:{collapsible:!1,resizable:!1,content:i}}):null}}]),i}(ue.Component)),Xg=function(t){a(s,t);var o=f(s);function s(t){var n;return e(this,s),r(h(n=o.call(this,t)),"wrapperRef",he()),r(h(n),"lastScrollHeight",0),r(h(n),"lastScrollTop",0),r(h(n),"lastClientHeight",0),r(h(n),"onScrollListener",void 0),n.scrollToBottom=n.scrollToBottom.bind(h(n)),n.onMessageEntryBoxAutoGrow=n.onMessageEntryBoxAutoGrow.bind(h(n)),n.onScroll=n.onScroll.bind(h(n)),n.getHoverElement=n.getHoverElement.bind(h(n)),n.getDistanceToBottom=n.getDistanceToBottom.bind(h(n)),n.state={isMounting:0,isScrolledToBottom:!0},t.viewId?n.onScrollListener=Bh(n.onScroll,df.THROTTLE_TIME):n.onScrollListener=n.onScroll,n}return n(s,[{key:"render",value:function(){var e=this.props,t=e.messages,n=e.plusOriginals,r=e.stickies,o=e.client,s=null;r&&(s=ue.createElement(qg,{key:"sticky-list",doScroll:this.scrollToBottom,stickies:r,client:o,getMessageHoverMenu:this.props.getMessageHoverMenu,getMotorMenu:this.props.getMotorMenu,disableAvatars:this.props.disableAvatars}));var a,l=this.buildMessageList(t,n);return this.props.messageEntryBoxProps&&(a=ue.createElement(Fg,i({key:"message-entry-box"},this.props.messageEntryBoxProps,{onAutoGrow:this.onMessageEntryBoxAutoGrow}))),ue.createElement(ue.Fragment,null,s,l,a)}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.wrapperRef.current&&(this.lastClientHeight=this.wrapperRef.current.clientHeight),e===this.props&&t.isScrolledToBottom!==this.state.isScrolledToBottom||(e.scroll!==this.props.scroll?this.forceScrollToBottom():setTimeout((function(){n.scrollToBottom()}),0))}},{key:"componentDidMount",value:function(){this.wrapperRef.current&&this.wrapperRef.current.addEventListener("scroll",this.onScrollListener)}},{key:"componentWillUnmount",value:function(){this.wrapperRef.current&&this.wrapperRef.current.removeEventListener("scroll",this.onScrollListener)}},{key:"onScroll",value:function(){if(this.state.isMounting<2&&this.setState({isMounting:this.state.isMounting+1}),this.wrapperRef.current){if(this.lastScrollTop=this.wrapperRef.current.scrollTop,this.props.viewId&&df.updateViewOnScroll(this.props.viewId,this.wrapperRef.current),this.lastClientHeight!==this.wrapperRef.current.clientHeight)return;var e=this.getDistanceToBottom();void 0!==e&&(e>=s.AUTOSCROLL_THRESHOLD&&this.state.isScrolledToBottom?this.setState({isScrolledToBottom:!1}):e<s.AUTOSCROLL_THRESHOLD&&!this.state.isScrolledToBottom&&this.setState({isScrolledToBottom:!0}))}}},{key:"buildMessageList",value:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=!!(t&&t.length>=r+1)&&t[r],o=[$g];this.props.viewId&&this.wrapperRef.current&&(df.hasView(this.props.viewId)||df.initView(this.props.viewId,this.wrapperRef.current),o.push(Og)),n.push(ue.createElement(wg,{key:"messageViewOuter-".concat(e[r].id),messageClass:this.props.messageClass,message:e[r],wrapperClass:o.join(" "),isWhisperedToOriginal:i,client:this.props.client,doScroll:this.scrollToBottom,disableAvatars:this.props.disableAvatars,getHoverElement:this.props.getMessageHoverMenu?this.getHoverElement:void 0,getMotorMenu:this.props.getMotorMenu,renderPassedMessages:this.props.renderPassedMessages,viewId:this.props.viewId}))}return ue.createElement("div",{key:"message-list-outer",ref:this.wrapperRef,className:this.getMessageListClasses()},n)}},{key:"getHoverElement",value:function(e){var t=this,n=Tg((function(){return t.props.getMessageHoverMenu})),r=Tg((function(){return t.props.isStickyList}));return n?n(e,r?"sticky":"main"):ue.createElement("div",null)}},{key:"scrollToBottom",value:function(){var e=this.wrapperRef.current;if(e){e.scrollTop=this.lastScrollTop;var t=e.scrollHeight,n=e.clientHeight,r=this.getDistanceToBottom();(!r||r<s.AUTOSCROLL_THRESHOLD||this.props.stickies&&this.state.isMounting<2||this.state.isScrolledToBottom)&&(e.scrollTop=t-n),this.lastScrollHeight=t,this.lastScrollTop=e.scrollTop}}},{key:"forceScrollToBottom",value:function(){var e=this.wrapperRef.current;if(e){e.scrollTop=this.lastScrollTop;var t=e.scrollHeight,n=e.clientHeight;e.scrollTop=t-n,this.lastScrollHeight=t,this.lastScrollTop=e.scrollTop}}},{key:"getDistanceToBottom",value:function(){var e=this.wrapperRef.current;if(e){e.scrollTop=this.lastScrollTop;var t=e.scrollHeight,n=e.clientHeight,r=e.scrollTop,i=t-this.lastScrollHeight;return i<0&&(i=0),t-(r+n)-i}}},{key:"onMessageEntryBoxAutoGrow",value:function(e){e>=0&&this.scrollToBottom()}},{key:"getMessageListClasses",value:function(){var e=[Mg];return this.props.className&&e.push(this.props.className),this.props.viewId&&e.push(Og),e.join(" ")}}]),s}(ue.Component);r(Xg,"AUTOSCROLL_THRESHOLD",100);var Yg=fh(zu(Xg)),Qg=fh(zu(function(t){a(i,t);var r=f(i);function i(t){return e(this,i),r.call(this,t)}return n(i,[{key:"render",value:function(){var e=this.props.appContext,t=e.client,n=t.roomUtils.getRoom("main"),r=t.userUtils.getMuteStatus(),i=r&&r.isMuted;i&&n&&n.isModerated&&!r.isQueueMuted&&(i=!1);var o=t.userUtils.getActiveUser();n&&n.isClosed&&o&&!o.isAdmin&&(i=!0);var s=p(t.messageUtils.getMessageThreads("main"),2),a=s[0],l=s[1];return ue.createElement(Eg,{className:Ju,boxShadow:!0,style:this.props.ratio?{flexGrow:this.props.ratio}:{}},ue.createElement(nd,{scrollable:!1,wrapperClassName:sh,contentClassName:ah},ue.createElement(Yg,{className:ih,client:t,messages:a,plusOriginals:l,stickies:t.messageUtils.getStickies("main"),getMessageHoverMenu:e.getMessageHoverMenu,getMotorMenu:e.getMotorMenu,viewId:n?"main-".concat(n.id):void 0,messageEntryBoxProps:{client:t,mainWindow:!0,focusOnMount:!0,ref:this.props.messageEntryBoxRef,onSubmit:this.props.onSubmit,onEscape:this.props.onEscape,onShiftDel:this.props.onShiftDel,tipMessage:this.props.tipMessage,disabled:i,messagePreview:t.messageUtils.getMessagePreview()}})))}}]),i}(ue.Component))),Jg="styles_handleContent__1WaOm",Zg="styles_handleLabel__3m42Y",em="styles_userListHandle__1lJey";Ku(".styles_handleContent__1WaOm {\n\tdisplay: flex;\n\talign-items: center;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twidth: 100%;\n}\n\n.styles_handleLabel__3m42Y {\n\tmargin-left: 10px;\n\tflex: 1;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.styles_hiddenOverflow__3LtQV {\n\toverflow: hidden !important;\n}\n\n.styles_hiddenResizerActive__3p1Yg {\n\tborder-bottom: 1px solid #40c2cc !important;\n\tborder-top: 1px solid #40c2cc !important;\n}\n\n.styles_hiddenResizerActive__3p1Yg:hover {\n\tborder-bottom: 1px solid #40c2cc !important;\n\tborder-top: 1px solid #40c2cc !important;\n\tfilter: brightness(120%) !important;\n}\n\n.styles_hiddenResizerInactive__hqVab {\n\tborder-bottom: 1px solid #bbbbbb !important;\n\tborder-top: 1px solid #bbbbbb !important;\n}\n\n.styles_hiddenResizerInactive__hqVab:hover {\n\tborder-bottom: 1px solid #bbbbbb !important;\n\tborder-top: 1px solid #bbbbbb !important;\n\tfilter: brightness(120%) !important;\n}\n\n.styles_userListHandle__1lJey {\n\tz-index: 2;\n\tbox-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2);\n}\n");var tm="styles_user__3XOFN",nm="styles_interactive__1oYSt",rm="styles_selected__32uYL",im="styles_username__2sifQ",om="styles_invisibleModerator__3rG_d",sm="styles_statusWrapper__3fPCu",am="styles_newSymbol__1OJwa",lm="styles_close__ZoqoQ";Ku("/* User row element */\n.styles_user__3XOFN {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 0px;\n\tpadding: 5px;\n}\n\n.whitespaceSettingCompact .styles_user__3XOFN {\n\tpadding: 3px;\n}\n\n.styles_interactive__1oYSt:hover {\n\tcursor: pointer;\n\tbox-shadow: 0px 0px 7px -2px rgba(0, 0, 0, 0.5);\n\toutline: 2px solid #40c2cc;\n\toutline-offset: -2px;\n}\n\n.styles_selected__32uYL {\n\tbackground: #d0fcff;\n\tmargin-bottom: 0;\n}\n\n.styles_user__3XOFN:last-of-type {\n\tmargin-bottom: 0px;\n}\n\n.styles_username__2sifQ {\n\tmargin-left: 10px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tpadding-right: 0.5em;\n}\n\n.styles_invisibleModerator__3rG_d {\n\tfont-style: italic;\n\tcolor: #80adaf;\n}\n\n/* The wrapper div around the emblem or new circle. */\n.styles_statusWrapper__3fPCu {\n\tdisplay: flex;\n\tposition: relative;\n\tjustify-content: center;\n\talign-items: center;\n\ttop: 0;\n\tleft: 0;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\twidth: 20px;\n\theight: 20px;\n\tuser-select: none;\n\tmargin-right: 5px;\n}\n\n.whitespaceSettingCompact .styles_statusWrapper__3fPCu {\n\twidth: 16px;\n\theight: 16px;\n\tmargin-right: 3px;\n}\n\n.styles_usernameWrapper__jWwEU {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 0px;\n\tpadding: 5px;\n}\n\n.styles_interactive__1oYSt {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 0px;\n\tpadding: 5px;\n}\n\n.styles_newSymbol__1OJwa {\n\tdisplay: visible;\n\theight: 10px;\n\twidth: 10px;\n\tborder-radius: 5px;\n\tbackground-color: #8ac53e;\n}\n\n.whitespaceSettingCompact .styles_newSymbol__1OJwa {\n\theight: 8px;\n\twidth: 8px;\n\tborder-radius: 4px;\n}\n\n.styles_close__ZoqoQ {\n\tcolor: #1b365d;\n\tfont-size: 0.9em;\n\theight: 0.9em;\n\tmargin-left: auto;\n\tright: 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-shrink: 0;\n\ttransition: color 0.2s, transform 0.2s;\n\tuser-select: none;\n}\n\n.styles_close__ZoqoQ:hover {\n\tcursor: pointer;\n\ttransform: scale(1.2);\n}\n");var cm="styles_emblemWrapper__17VXv",um="styles_emblem__27NOn",hm="styles_symbol__1TLFX";Ku("/* The wrapper div around the emblem. */\n.styles_emblemWrapper__17VXv {\n\tdisplay: flex;\n\tposition: relative;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: 100%;\n\tuser-select: none;\n}\n\n/* The emblem SVG */\n.styles_emblem__27NOn {\n\theight: 100%;\n\tfill: #40c2cc;\n}\n\n/* The text path inside the SVG */\n.styles_symbol__1TLFX {\n\tfill: white;\n}\n");var dm=function(t){a(i,t);var r=f(i);function i(t){return e(this,i),r.call(this,t)}return n(i,[{key:"render",value:function(){var e,t=this.props.user,n=this.props.room;if(n)return n.designatedAssistants&&-1!==n.designatedAssistants.indexOf(t.id)&&(e="assistant"),n.designatedInstructors&&-1!==n.designatedInstructors.indexOf(t.id)&&(e="instructor"),e?ue.createElement("div",{className:cm},i.svg[e]):null}}]),i}(ue.Component);r(dm,"svg",{instructor:ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:um,x:"0px",y:"0px",viewBox:"0 0 20 23.1"},ue.createElement("path",{d:"M0,5.8v11.5l10,5.8l10-5.8V5.8L10,0L0,5.8z"}),ue.createElement("g",null,ue.createElement("path",{className:hm,d:"M7.7,6.7V5.4h4.4v1.3L11,6.9v7.7l1.1,0.2v1.3H7.7v-1.3l1.1-0.2V6.9L7.7,6.7z"}))),assistant:ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:um,x:"0px",y:"0px",viewBox:"0 0 20 23.1"},ue.createElement("path",{d:"M0,5.8v11.5l10,5.8l10-5.8V5.8L10,0L0,5.8z"}),ue.createElement("g",null,ue.createElement("path",{className:hm,d:"M4.8,14.8l0.8-0.1l3.2-9.3H11l3.2,9.3l0.8,0.1v1.3h-3.6v-1.3l0.7-0.1l-0.5-1.5H8.2l-0.5,1.5l0.7,0.1v1.3H4.8   V14.8z M8.7,11.6h2.4L9.9,7.9h0L8.7,11.6z"}))),admin:null});var fm=zu(dm),pm=fh(zu(function(t){a(i,t);var r=f(i);function i(t){var n;return e(this,i),(n=r.call(this,t)).state={selectedUser:null},n}return n(i,[{key:"render",value:function(){var e,t=this.props.appContext,n=t.client.userUtils.getActiveUser(),r=this.props.users,i=t.getStudentActionsMenu,o=[],s=y(r);try{for(s.s();!(e=s.n()).done;){var a=e.value;if(a.isVisible||!n||n.isAssistant){var l=null;a.isAssistant?l=ue.createElement(fm,{user:a,room:t.client.roomUtils.getRoom("main")}):n&&n.isAssistant&&a.newStatus&&a.newStatus.isNew&&a.newStatus.newTimestamp&&(l=ue.createElement("div",{className:am}));var c=void 0;if(this.state.selectedUser===a&&(c=ue.createElement("div",{key:"close-icon",className:lm},ue.createElement(xh,null,"J"))),o.push(ue.createElement("div",{key:"user-".concat(a.id),className:this.getUserClasses(a),onClick:this.onClickUser(a)},ue.createElement("div",{className:sm},l),ue.createElement(yf,{client:this.props.appContext.client,user:a,avatarLocation:"userlist"}),ue.createElement("div",{className:this.getUsernameClasses(a).join(" "),title:a.username},a.username),c)),this.state.selectedUser===a&&i){var u=i(a,this.unselectUser());o.push(u)}}}}catch(e){s.e(e)}finally{s.f()}return ue.createElement("div",null,o)}},{key:"getUserClasses",value:function(e){var t=[tm],n=this.props.appContext.getUserListStyles;return n&&t.push(n(e)),this.props.appContext.getStudentActionsMenu&&t.push(nm),this.state.selectedUser===e&&t.push(rm),t.join(" ")}},{key:"getUsernameClasses",value:function(e){var t=[im,qd],n=this.props.appContext.client.userUtils.getActiveUser();return n&&n.id===e.id&&(t.push(Xd),t.push(this.getSelfUsernameColor())),e.isVisible?e.isInstructor?t.push(nf):e.isAssistant&&t.push(tf):t.push(om),t}},{key:"onClickUser",value:function(e){var t=this;if(this.props.appContext.getStudentActionsMenu)return function(){t.state.selectedUser===e?t.unselectUser()():t.setState({selectedUser:e})}}},{key:"getSelfUsernameColor",value:function(){switch(this.props.appContext.client.userUtils.getPreferredColor()){case"green":return Yd;case"orange":return Qd;case"pink":return Jd;case"purple":return Zd;case"blue":return ef}}},{key:"unselectUser",value:function(){var e=this;return function(){e.setState({selectedUser:null})}}}]),i}(ue.Component))),gm=fh(zu(function(t){a(i,t);var r=f(i);function i(t){var n;return e(this,i),(n=r.call(this,t)).state={updatePanelForScroll:new Map,resizing:""},n.getSpyPanelRoom=n.getSpyPanelRoom.bind(h(n)),n.getModPanelRoom=n.getModPanelRoom.bind(h(n)),n.buildPrivateWindows=n.buildPrivateWindows.bind(h(n)),n.buildPrivateMessageDrafts=n.buildPrivateMessageDrafts.bind(h(n)),n.buildSpyPanel=n.buildSpyPanel.bind(h(n)),n.buildModPanel=n.buildModPanel.bind(h(n)),n.onPanelResizeStart=n.onPanelResizeStart.bind(h(n)),n.onPanelResizeEnd=n.onPanelResizeEnd.bind(h(n)),n.scrollPanel=n.scrollPanel.bind(h(n)),n}return n(i,[{key:"render",value:function(){var e=this.props.appContext,t=[Zu];return e.state.isRightDrawerOpen&&t.push(ch),ue.createElement(Eg,{onSwiped:function(t){return e.onRightColumnSwiped(t)},className:t.join(" "),boxShadow:!0,style:this.props.ratio?{flexGrow:this.props.ratio,flexShrink:1,flexBasis:0}:{}},this.buildUserListPanel(),this.buildPrivateMessageDrafts(),this.buildPrivateWindows(),this.buildModPanel(),this.buildSpyPanel())}},{key:"getSpyPanelRoom",value:function(){var e=this.props.appContext.client.roomUtils.getAllRooms({include:["SPY"]});for(var t in e)if(0===t.indexOf("SPY-"))return e[t];return null}},{key:"getModPanelRoom",value:function(){var e=this.props.appContext.client.roomUtils.getAllRooms({include:["MOD"]});for(var t in e)if(0===t.indexOf("MOD-"))return e[t];return null}},{key:"buildUserListPanel",value:function(){var e=this.props.appContext,t=e.client,n=e.getUserListHandle,r=t.userUtils.getActiveUser(),i=g(t.userUtils.getUsersByRank(!0));r&&!r.isAssistant&&(i=i.filter((function(e){return e.isVisible})));var o=n?n():ue.createElement("div",null,ue.createElement("span",{className:"aops-font"},"u"),ue.createElement("span",{className:Zg},"Users: ",i.length));return ue.createElement(nd,{key:"user-list-panel",wrapperClassName:Qu,contentClassName:oh,handle:{className:em,collapsible:!1,resizable:!1,content:o},onClose:this.props.appContext.isRightDrawerOpen()?this.props.appContext.toggleRightDrawerOpen:void 0},ue.createElement(pm,{users:i}))}},{key:"buildPrivateMessageDrafts",value:function(){var e=this.props.appContext.getPrivateMessageDrafts;if(!e)return null;var t=e({onResizeStart:this.onPanelResizeStart,onResizeEnd:this.onPanelResizeEnd,resizing:this.state.resizing});return t||null}},{key:"buildPrivateWindows",value:function(){var e=this,t=this.props.appContext.client,n=t.userUtils.getActiveUser(),r=t.roomUtils.getRoom("main"),i=t.roomUtils.getAllRooms({exclude:["main","SPY","MOD"]}),o=[],s=function(s){var a=i[s];if(!a)return"continue";var l=function(){t.messageUtils.sendLastReadMessageId(a.id)},c=void 0;e.props.appContext.getLeavePrivateMessage&&(c=e.props.appContext.getLeavePrivateMessage(a));var u=a.name;n&&!n.isAssistant&&(u="Private Messages");var h=a.isClosed;r&&r.isClosed&&(h=!0);var d=p(t.messageUtils.getMessageThreads(a.id),2),f=d[0],g=d[1],m=t.roomUtils.getRoomTarget(a),v=m&&"MODERATORS"!==m?m:0,y=function(){t.messageUtils.removeSavedPrivateMessageDraft(v)},b=t.messageUtils.getSavedPrivateMessageDrafts(v),w=ue.createElement(dp,{key:"size-me-".concat(s),monitorHeight:!0,monitorWidth:!1,refreshRate:32},(function(n){var r=n.size;return ue.createElement(nd,{height:r.height,minContentHeight:50,key:a.id,roomId:a.id,scrollable:!1,className:sh,contentClassName:ah,maxAutoSize:"500px",lockSize:""!==e.state.resizing&&e.state.resizing!==a.id,handle:{collapsible:!0,resizable:!0,onResizeStart:e.onPanelResizeStart,onResizeEnd:e.onPanelResizeEnd,content:ue.createElement("div",{className:Jg},ue.createElement(kh,{client:t,roomId:a.id,isInPanelHandle:!0}),ue.createElement("span",{className:Zg,title:a.name},u))},inactive:a.isClosed,onPanelClick:l,onClose:c},ue.createElement(Yg,{className:lh,disableAvatars:!0,client:t,messages:f,plusOriginals:g,messageEntryBoxProps:{client:t,replacementText:b,onSetReplacementText:y,mainWindow:!1,disabled:h,onSubmit:function(e){return t.messageUtils.sendMessage(e,a.id)}},scroll:e.state.updatePanelForScroll.get(s)}))}));o.unshift(w)};for(var a in i)s(a);return o}},{key:"buildModPanel",value:function(){var e=this,t=this.props.appContext.client,n=this.getModPanelRoom();if(n){var r=p(t.messageUtils.getMessageThreads(n.id),2),i=r[0],o=r[1],s=function(){t.messageUtils.sendLastReadMessageId(n.id)};return ue.createElement(dp,{key:"size-me-mod",monitorHeight:!0,monitorWidth:!1,refreshRate:32},(function(r){var a=r.size;return ue.createElement(nd,{key:n.id,height:a.height,minContentHeight:50,collapsed:0===i.length,roomId:n.id,scrollable:!1,className:sh,contentClassName:ah,maxAutoSize:"500px",lockSize:""!==e.state.resizing&&e.state.resizing!==n.id,handle:{collapsible:!0,resizable:!0,onResizeStart:e.onPanelResizeStart,onResizeEnd:e.onPanelResizeEnd,content:ue.createElement("div",{className:Jg,onClick:s},ue.createElement(kh,{client:t,roomId:n.id,isInPanelHandle:!0}),ue.createElement("span",{className:Zg,title:n.name},n.name))},inactive:n.isClosed,onPanelClick:s},ue.createElement(Yg,{className:lh,disableAvatars:!0,client:t,messages:i,plusOriginals:o,messageEntryBoxProps:{client:t,mainWindow:!1,disabled:!1,onSubmit:function(e){return t.messageUtils.sendMessage(e,n.id)}},scroll:e.state.updatePanelForScroll.get(n.id)}))}))}}},{key:"buildSpyPanel",value:function(){var e=this,t=this.props.appContext.client,n=this.getSpyPanelRoom();if(n){var r;this.props.appContext.getLeavePrivateMessage&&(r=this.props.appContext.getLeavePrivateMessage(n));var i=p(t.messageUtils.getMessageThreads(n.id),2),o=i[0],s=i[1];return ue.createElement(dp,{key:"size-me-spy",monitorHeight:!0,monitorWidth:!1,refreshRate:32},(function(i){var a=i.size;return ue.createElement(nd,{key:n.id,roomId:n.id,height:a.height,minContentHeight:15,collapsed:!0,scrollable:!1,className:sh,contentClassName:ah,maxAutoSize:"300px",lockSize:""!==e.state.resizing&&e.state.resizing!==n.id,handle:{collapsible:!0,resizable:!0,onResizeStart:e.onPanelResizeStart,onResizeEnd:e.onPanelResizeEnd,content:ue.createElement("div",{className:Jg},ue.createElement(kh,{client:t,amount:0,isInPanelHandle:!0}),ue.createElement("span",{className:Zg,title:n.name},n.name))},inactive:n.isClosed,onClose:r},ue.createElement(Yg,{className:lh,disableAvatars:!0,client:t,messages:o,plusOriginals:s,scroll:e.state.updatePanelForScroll.get(n.id)}))}))}}},{key:"onPanelResizeStart",value:function(e){this.setState({resizing:e})}},{key:"onPanelResizeEnd",value:function(){this.scrollPanel("all")(),this.setState({resizing:""})}},{key:"scrollPanel",value:function(e){var t=this;return function(){if("all"===e){var n=t.props.appContext.client.roomUtils.getAllRooms({exclude:["main"]});for(var r in n){var i=t.state.updatePanelForScroll.get(r);(!i||i>1e3)&&(i=0),t.state.updatePanelForScroll.set(r,i+1),t.setState({updatePanelForScroll:t.state.updatePanelForScroll})}}else{var o=t.state.updatePanelForScroll.get(e);(!o||o>1e3)&&(o=0),t.state.updatePanelForScroll.set(e,o+1),t.setState({updatePanelForScroll:t.state.updatePanelForScroll})}}}}]),i}(ue.Component))),mm=zu(function(t){a(i,t);var r=f(i);function i(t){var n;return e(this,i),(n=r.call(this,t)).onMainRoomSubmit=n.onMainRoomSubmit.bind(h(n)),n.updateMainMessageEntryBox=n.updateMainMessageEntryBox.bind(h(n)),n}return n(i,[{key:"render",value:function(){return ue.createElement(Cg,{client:this.props.client},ue.createElement(Qg,{onSubmit:this.onMainRoomSubmit,messageEntryBoxRef:this.updateMainMessageEntryBox}),ue.createElement(gm,null))}},{key:"updateMainMessageEntryBox",value:function(e){this.props.client.mainInput=e}},{key:"onMainRoomSubmit",value:function(e){this.props.client.messageUtils.sendMessage(e)}}]),i}(ue.Component));function vm(){this.socket&&this.state.activeUser?(this.socket.send("authenticate",{user:this.state.activeUser,roomId:this.roomId,role:this.role,classroomSettingsPreset:"default"}),this.socket.send("get-server-id")):this.error("onConnect","No activeUser set, or socket doesn't exist.",this.state.activeUser)}function ym(){vm.bind(this)(),this.log("Connected to server with student client.")}function bm(e){this.setError(e),this.log("Unable to connect",e.toString())}function wm(e){this.log("Connection timeout",e)}function _m(e){this.userUtils.addAlert({title:"Socket Error",messages:[e.toString()]})}function Sm(e){var t=e.user,n=e.roomId;t=this.userUtils.getOrAddUser(t);var r=this.roomUtils.getRoom(n);if(r&&r.users[t.id]&&(delete r.users[t.id],!this.roomUtils.isMainRoom(n)&&0!==n.indexOf("SPY-"))){var i="".concat(t.username," has left the PM");0===r.id.indexOf("MOD-")&&(i="".concat(t.username," has left the room"));var o={id:Date.now(),isSystem:!0,userId:0,roomId:r.id,timestamp:Date.now(),message:i};r.history.set(o.timestamp,o);var s=!1;for(var a in r.users){var l=this.userUtils.getUser(parseInt(a));if(l&&l.isAssistant&&l.isConnected){s=!0;break}}s||this.socket.send("close-room",{roomId:r.id})}this.log("onUserLeave",t,n)}function xm(e){var t=e.user,n=e.roomId;if(t=this.userUtils.getOrAddUser(t),!this.state.activeUser||this.state.activeUser.id!==t.id){var r=this.roomUtils.getRoom(n);if(r&&(r.users[t.id]=t,!this.roomUtils.isMainRoom(n)&&0!==r.id.indexOf("SPY-"))){var i="".concat(t.username," has joined the PM");0===r.id.indexOf("MOD-")&&(i="".concat(t.username," has joined the room"));var o={id:Date.now(),isSystem:!0,userId:0,roomId:r.id,timestamp:Date.now(),message:i};r.history.set(o.timestamp,o)}this.log("onUserJoined",t,n)}}function Cm(e){var t=this.userUtils.getUser(e.user.id);if(t){for(var n={},r=0,i=Object.keys(e.user);r<i.length;r++){var o=i[r];e.user[o]!==t[o]&&(t[o]=e.user[o],n[o]=e.user[o])}if(!1===n.isConnected&&e.user.isAssistant&&this.state.activeUser&&!this.state.activeUser.isAssistant){var s=this.roomUtils.getAllRooms({exclude:["main"]});for(var a in s){var l=this.roomUtils.getRoom(a);if(l&&!l.isClosed){var c=!1;for(var u in l.users){var h=this.userUtils.getUser(parseInt(u));if(h&&h.isAssistant&&h.isConnected){c=!0;break}}c||this.socket.send("close-room",{roomId:l.id})}}}if(void 0!==n.isConnected){var d=this.roomUtils.getAllRooms({exclude:["main"]});for(var f in d){var p=this.roomUtils.getRoom(f);if(p&&p.users[e.user.id]&&0!==p.id.indexOf("SPY-")){var g=n.isConnected?"".concat(t.username," has joined the room"):"".concat(t.username," has left the room"),m={id:Date.now(),isSystem:!0,userId:0,roomId:p.id,timestamp:Date.now(),message:g};p.history.set(m.timestamp,m)}}}this.log("onUserUpdated",{user:e.user,diff:n})}else this.userUtils.addUser(e.user)}function km(e){var t=e.id,n=e.message,r=e.roomId;if(this.log("onRoomMessage","\n\tMessage in room: ".concat(r),"\n\t".concat(e.username,': "').concat(n,'"')),t){var i=this.roomUtils.getRoom(e.roomId);if(i&&i.id===e.roomId){if(0===e.roomId.indexOf("SPY-")&&(e.isSpy=!0),i.history.set(t,e),e.parentMessageId){var o=i.history.get(e.parentMessageId);o&&(o.children||(o.children=[]),o.children.push(t))}this.roomUtils.tracksNotifications(r)&&this.state.activeUser&&(this.state.lastReceivedMessages[r]=t,this.state.activeUser.id!==e.userId?this.state.unreadMessages[r].push(t):this.messageUtils.sendLastReadMessageId(r))}else this.error("onRoomMessage",'\n\tRoom "'.concat(e.roomId,'" does not exist.'),e)}else this.error("onRoomMessage","\n\tReceived message with no id.\n\t",e)}function Em(e){this.log("onDisconnect!",e),this.state.activeUser&&(this.state.activeUser.isConnected=!1),"io server disconnect"===e&&this.connect()}function Am(){var e=this.getError(),t=e?e.toString():"",n=["Unable to connect to server."];t&&"Error: xhr poll error"!==t&&n.push(t),n.push('Click <a href="https://artofproblemsolving.com/schoolhouse/unabletoconnect.php" target="_blank">here</a> for troubleshooting tips.'),this.userUtils.addAlert({title:"Error",messages:n})}function Rm(e){var t=e.title?e.title:"Alert";this.userUtils.addAlert({title:t,messages:[e.message]})}function Tm(e){var t=this.userUtils.getOrAddUser(s({},this.state.activeUser,{},e));if(this.userUtils.setActiveUser(t),this.userUtils.setMuteStatus(e.muteStatus),this.userUtils.setFontSize(e.fontSize),this.userUtils.setPreferredColor(e.preferredColor),this.userUtils.setFullScreen(e.fullScreen),this.userUtils.setNotificationFlashing(e.notificationFlashing),this.userUtils.setScreenLayout(e.screenLayout),this.userUtils.setSmileySettings({smileyTheme:e.smileyTheme,smileyCharacter:e.smileyCharacter}),this.userUtils.setWhitespaceOption(e.whitespaceOption),this.userUtils.setModeratedWarningSnoozeUntil(e.moderatedWarningSnoozeUntil),1===this.roomId.split("-").length){var n,r=y(e.rooms);try{for(r.s();!(n=r.n()).done;){var i=n.value;(i===this.roomId||i.endsWith("-"+this.roomId)||-1!==i.indexOf("-"+this.roomId+"-"))&&this.roomUtils.joinRoom(i)}}catch(e){r.e(e)}finally{r.f()}}e.rooms.includes(this.roomId)||this.roomUtils.joinRoom(this.roomId);var o=this.roomUtils.getAllRooms({exclude:["main","SPY"]});for(var a in o)-1===e.rooms.indexOf(a)&&this.roomUtils.deleteRoom(a)}function Mm(e){this.userUtils.setLatency(e)}function Om(e){this.log("Reconnecting. Attempt number ",e),e>=2&&this.state.activeUser&&(this.state.activeUser.isConnected=!1)}function $m(e){this.log("Reconnect Attempt",e)}var Lm=function(){function t(){e(this,t)}return n(t,null,[{key:"display",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.displaying)t.queue.push({html:e,opts:n});else{var r=Nh.get(n,"id",rf),i=document.getElementById(r);i||((i=document.createElement("div")).id=r,document.body.append(i)),i.innerHTML=e,i.classList.add(of),setTimeout((function(){if(i.classList.remove(of),t.displaying=!1,t.queue.length){var e=t.queue.pop();setTimeout((function(){t.display(e.html,e.opts)}),500)}}),3e3),t.displaying=!0}}}]),t}();function Im(e){var t=this,n=e.room,r=!1,i=!1,o=!1,a=!1;this.log("Joined room ".concat(n.id),e),this.state.activeUser&&(this.state.activeUser.isConnected=!0),0===n.id.indexOf("GM-")?r=!0:0===n.id.indexOf("PM-")?i=!0:0===n.id.indexOf("SPY-")?o=!0:0===n.id.indexOf("MOD-")&&(a=!0);var l=Nh.mapValues(s({},n.users),(function(e){return t.userUtils.getOrAddUser(e)}));void 0!==n.renderAvatars&&this.state.activeUser&&void 0!==this.state.activeUser.renderAvatars&&(this.state.renderAvatars=n.renderAvatars&&this.state.activeUser.renderAvatars,this.state.canToggleAvatarRendering=e.room.renderAvatars||this.state.activeUser.isInstructor);var c=new Map;Nh.forEach(n.history,(function(e){c.set(e.id,e)}));var u=e.lastReadMessageId?e.lastReadMessageId:0;if(this.roomUtils.tracksNotifications(n.id)){this.state.lastReadMessages[n.id]=u,this.state.unreadMessages[n.id]=[];var h,d=0,f=y(c.keys());try{for(f.s();!(h=f.n()).done;){var p=h.value;p>u&&this.state.unreadMessages[n.id].push(p),p>d&&(d=p)}}catch(e){f.e(e)}finally{f.f()}this.state.lastReceivedMessages[n.id]=d}var g=n.isClosed;(r||i)&&g&&this.state.activeUser&&this.state.activeUser.isAssistant&&(g=!1,this.socket.send("open-room",{roomId:n.id}));var m={id:n.id,classId:n.classId,section:n.section,name:n.name,users:l,history:c,isModerated:n.isModerated,isClosed:g,renderAvatars:n.renderAvatars,stickies:n.stickies,designatedInstructors:n.designatedInstructors,designatedAssistants:n.designatedAssistants},v=this.roomUtils.getRoom("main");if(!v||v.id!==n.id){var b=!(r||i||o||a);this.roomUtils.setRoom(m.id,m),b&&this.roomUtils.setRoomAsMain(m.id),Lm.display("Joined room "+m.name)}}function Pm(e){this.log("Left room "+e.roomId),this.roomUtils.deleteRoom(e.roomId)}function Dm(e){var t=this.roomUtils.getRoom(e.roomId);t?(t.isClosed=!0,console.log("Classroom "+e.roomId+" has closed.")):console.log("Invalid room onRoomClosed")}function Nm(e){var t=this.userUtils.getActiveUser(),n={agent:navigator.userAgent,now:e.now,url:window.location.href,latency:this.state.latency,username:"",ip:"",userId:0};t&&(n.username=t.username,n.ip=t.ip||"",n.userId=t.id),this.socket.send("return-pong",{metadata:n,clientId:e.clientId})}function Fm(e){var t=e.metadata,n=t.username+" ("+t.userId+")",r=[];r.push("<strong>Ping time</strong>: "+(Date.now()-t.now)+"ms"),r.push("<strong>Latency</strong>: Current: "+t.latency.current+", Min: "+t.latency.min+", Max: "+t.latency.max),r.push("<strong>Browser</strong>: "+t.agent),r.push("<strong>URL</strong>: "+t.url),t.ip&&r.push("<strong>IP Address</strong>: <a target='_blank' href='https://myip.ms/info/whois/"+t.ip+"'>"+t.ip+"</a>"),this.userUtils.addAlert({title:n,messages:r})}function Bm(e){if(!this.socket)return this.error("onPrivateMessageInvite error: No socket.");this.log("Received PM invite from ".concat(e.clientId),e),this.socket.send("pm-ack",e)}function Um(e){if(e.roomRefresh)if(this.state.activeUser&&this.state.activeUser.isAssistant)this.userUtils.addAlert({title:"Refresh",messages:["An instructor or administrator has refreshed the room.","Please go to <a href="+document.location.href+' target="_self">'+document.location.href+"</a> when you are ready."]});else{this.userUtils.addAlert({title:"Refresh",messages:["Classroom will refresh within 30 seconds."]});var t=Math.floor(3e4*Math.random())+1;setTimeout((function(){document.location.href=document.location.href}),t)}else document.location.href=document.location.href}function zm(e){var t=e.roomId,n=!!e.isModerated,r=this.roomUtils.getRoom(t);r&&r.id===e.roomId?r.isModerated!==n&&(this.log("onModeratedStatus","Room ".concat(t," moderated status has changed to ").concat(n)),r.isModerated=n):this.error("onModeratedStatus",'\n\tRoom "'.concat(e.roomId,'" does not exist.'),e)}function Wm(e){var t=e.roomId,n=e.stickies,r=this.roomUtils.getRoom(t);if(r&&r.id===e.roomId){if(!((r.stickies||[]).length===n.length&&(r.stickies||[]).every((function(e,t){return e.id===n[t].id})))){var i=(r.stickies||[]).slice();r.stickies=[];for(var o=function(e){var t=void 0,o=n[e].id,s=i.findIndex((function(e){return e.id===o}));!(t=s>-1?i[s]:n[e])||"classroom"!==t.type&&"motor"!==t.type||r.stickies.push(t)},s=0;s<n.length;s++)o(s);this.log("onUpdateStickies","Room ".concat(t," stickies have been updated (length ").concat(n.length,")."),n)}}else this.error("onUpdateStickies",'\n\tRoom "'.concat(e.roomId,'" does not exist.'),e)}function jm(e){var t=e.roomId,n=e.messages,r=e.bucketMessage,i=this.roomUtils.getRoom(t);if(this.log("onPassedMessages",n),i&&i.id===e.roomId){r.id&&i.history.set(r.id,r);var o,s=y(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(a.id){var l=i.history.get(a.id);if(l)l.type="classroom",l.bucketId=r.id;else if(i.history.set(a.id,a),a.parentMessageId){var c=i.history.get(a.parentMessageId);c&&(c.children||(c.children=[]),c.children.push(a.id))}}}}catch(e){s.e(e)}finally{s.f()}}else this.error("onPassedMessages",'\n\tRoom "'.concat(e.roomId,'" does not exist.'),e)}function Hm(e){var t=e.roomId,n=!!e.renderAvatars,r=this.roomUtils.getRoom(t);r&&r.id===e.roomId?(n||this.state.activeUser&&this.state.activeUser.isInstructor?this.state.canToggleAvatarRendering=!0:this.state.canToggleAvatarRendering=!1,this.state.renderAvatars!==n&&(this.log("onRenderAvatarsStatus","User ".concat(this.state.activeUser," render avatars status has changed to ").concat(n)),this.state.activeUser&&!this.state.activeUser.renderAvatars||(this.state.renderAvatars=n,setTimeout((function(){df.updateAllViews()}),0)))):this.error("onRenderAvatarsStatus",'\n\tRoom "'.concat(e.roomId,'" does not exist.'),e)}function Vm(e){if(!this.userUtils.getMuteStatus()||this.userUtils.getMuteStatus().isMuted!==e.isMuted){this.log("onMuteStatus","Mute status has changed to ".concat(e.isMuted));var t=Date.now(),n="You have been muted.";e.isMuted||(n="You are no longer muted.");var r=this.roomUtils.getRoom("main");r&&r.history.set(t,{id:Date.now(),isSystem:!0,userId:0,roomId:r.id,timestamp:t,message:n}),this.userUtils.setMuteStatus(e),this.state.activeUser&&(this.state.activeUser.muteStatus=e)}}function Gm(e){var t=this.roomUtils.getRoom(e.roomId);t?(t.isClosed=!1,console.log("Classroom "+e.roomId+" has opened.")):console.log("Invalid room onRoomClosed")}function Km(e){var t=e.roomId,n=e.message,r=e.bucketMessage,i=this.roomUtils.getRoom(t);this.log("onUnpassedMessage",n),i&&i.id===e.roomId?(r.id&&i.history.set(r.id,r),n.id&&i.history.set(n.id,n)):this.error("onPassedMessages",'\n\tRoom "'.concat(e.roomId,'" does not exist.'),e)}function qm(e){var t=e.roomId,n=e.messages,r=this.roomUtils.getRoom(t);if(this.log("onDeletedMessage",n),r&&r.id===e.roomId){var i,o=y(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.id){var a=r.history.get(s.id);if(!a)continue;a.type="deleted",a.queued||r.history.delete(s.id),this.state.messageWindow&&this.state.messageWindow.id===s.id&&this.messageUtils.removeMessageWindow()}}}catch(e){o.e(e)}finally{o.f()}}else this.error("onPassedMessages",'\n\tRoom "'.concat(e.roomId,'" does not exist.'),e)}function Xm(e){Lm.display(e.message)}function Ym(e){this.setServerId(e.serverId)}function Qm(e){this.messageUtils.setMessagePreview(e)}function Jm(e){var t=e.userId,n=e.message,r=e.response;this.messageUtils.recordMotorResponse(t,n,r)}function Zm(e){var t=e.message,n=e.isClosed;this.messageUtils.setMotorIsClosed(t,n)}function ev(){return{connect:vm,connect_error:bm,connect_timeout:wm,error:_m,disconnect:Em,reconnect:vm,reconnect_attempt:$m,reconnecting:Om,reconnect_failed:Am,pong:Mm,alert:Rm,toast:Xm,"server-id":Ym,"room-message":km,"motor-response":Jm,"set-motor-is-closed":Zm,"message-preview":Qm,"user-joined":xm,"user-leave":Sm,"user-updated":Cm,"room-joined":Im,"room-left":Pm,"room-closed":Dm,"room-opened":Gm,"ping-pong":Nm,"pong-response":Fm,authenticated:Tm,"pm-invite":Bm,refresh:Um,"moderated-status":zm,"update-stickies":Wm,"render-avatars-status":Hm,"mute-status":Vm,"passed-messages":jm,"unpassed-message":Km,"delete-message":qm}}function tv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",n=this.roomUtils.getRoom(t);if(!n)return this.error("getUsersByRank","Room ".concat(t," does not exist.")),[];var r=Object.values(n.users).filter((function(t){return t&&(!e||t.isConnected)}));return r.sort((function(e,t){var r=0,i=0;return e.isAssistant&&(r=1),t.isAssistant&&(i=1),n.designatedAssistants&&(-1!==n.designatedAssistants.indexOf(e.id)&&(r=2),-1!==n.designatedAssistants.indexOf(t.id)&&(i=2)),n.designatedInstructors&&(-1!==n.designatedInstructors.indexOf(e.id)&&(r=3),-1!==n.designatedInstructors.indexOf(t.id)&&(i=3)),r!==i?i-r:e.username.toLowerCase()<t.username.toLowerCase()?-1:e.username.toLowerCase()>t.username.toLowerCase()?1:0})),r}function nv(e){var t=this.userUtils.getUser(e.id);return t||this.userUtils.addUser(e)}function rv(e){if(0!==e){var t=this.state.users[e];return t||this.error("getUser","User ".concat(e," does not exist.")),t}}function iv(e){for(var t in this.state.users){var n=this.state.users[t];if(n&&n.username.toLowerCase()===e.toLowerCase())return n}}function ov(e){return this.log("addUser","Adding user ".concat(e.id,".")),this.state.users[e.id]=e,this.state.users[e.id]}function sv(){return this.state.activeUser}function av(e){this.state.activeUser=e}function lv(e){this.state.latency.current=e,e>this.state.latency.max&&(this.state.latency.max=e),(0===this.state.latency.min||e>0&&e<this.state.latency.min)&&(this.state.latency.min=e)}function cv(){return this.state.latency.current}function uv(e){this.state.alerts.push(e)}function hv(){if(0!==this.state.alerts.length)return this.state.alerts[0]}function dv(){this.state.alerts.shift()}function fv(e){this.state.muteStatus=e}function pv(){return this.state.muteStatus}function gv(e){e!==this.state.fontSize&&(this.state.fontSize=e,this.socket.send("set-font-size",{fontSize:e}),df.updateAllViews())}function mv(){return this.state.fontSize}function vv(e){e!==this.state.preferredColor&&(this.state.preferredColor=e,this.socket&&this.socket.send("set-preferred-color",{preferredColor:e}))}function yv(){return"default"===this.state.preferredColor?"green":this.state.preferredColor}function bv(e){e!==this.state.fullScreen&&(this.state.columnWidthsChangedAt=Date.now(),this.state.fullScreen=e,this.socket.send("set-full-screen",{fullScreen:e}))}function wv(){var e=!this.state.fullScreen;setTimeout((function(){df.updateAllViews()}),0),this.state.fullScreen=e,this.socket.send("set-full-screen",{fullScreen:e})}function _v(){return this.state.fullScreen}function Sv(e){if(this.state.screenLayout!==e){var t=this.userUtils.getActiveUser();if(t&&t.isAssistant){if("one-third-userlist"===e)return}else if("large-queue"===e||"custom"===e)return;this.state.columnWidthsChangedAt=Date.now(),this.state.screenLayout=e,df.updateAllViews()}}function xv(e){var t=this.userUtils.getActiveUser();if(t&&t.isAssistant){if("one-third-userlist"===e)return}else if("large-queue"===e||"custom"===e)return;this.state.screenLayout=e,this.socket.send("set-screen-layout",{screenLayout:e}),df.updateAllViews()}function Cv(){return this.state.columnWidthsChangedAt}function kv(){return{smileyTheme:this.state.smileyTheme,smileyCharacter:this.state.smileyCharacter}}function Ev(e){var t=e.smileyTheme,n=e.smileyCharacter;this.state.smileyTheme=t,this.state.smileyCharacter=n,this.socket.send("set-smiley-settings",{smileyTheme:t,smileyCharacter:n}),df.updateAllViews()}function Av(){return this.state.whitespaceOption}function Rv(e){this.state.whitespaceOption=e,this.socket.send("set-whitespace-option",{whitespaceOption:e}),df.updateAllViews()}function Tv(){return this.state.screenLayout}function Mv(e){e!==this.state.notificationFlashing&&(this.state.notificationFlashing=e,this.socket.send("set-notification-flashing",{notificationFlashing:e}))}function Ov(){var e=!this.state.notificationFlashing;this.state.notificationFlashing=e,this.socket.send("set-notification-flashing",{notificationFlashing:e})}function $v(){return this.state.notificationFlashing}function Lv(e,t){var n=this.roomUtils.getRoom("main");if(!n)return"";var r,i=Object.values(n.users).filter((function(e){return e&&e.isConnected})),o=[],s=y(Nh.sortBy(i,"username"));try{for(s.s();!(r=s.n()).done;){var a=r.value;a.username.toLowerCase().startsWith(e.toLowerCase())&&o.push(a.username)}}catch(e){s.e(e)}finally{s.f()}var l=t%o.length;return o.length>0?o[l]:""}function Iv(){return this.state.moderatedWarningSnoozeUntil}function Pv(e){this.state.moderatedWarningSnoozeUntil=e,this.socket.send("set-moderated-warning-snooze-until",{moderatedWarningSnoozeUntil:e})}function Dv(){return this.state.isMenuBarOpen}function Nv(e){this.state.isMenuBarOpen=e}function Fv(e,t){var n=this.roomUtils.getRoom(e);if(n)return n.history.get(t);this.error("getMessage","Room ".concat(e," does not exist."))}function Bv(e){var t=this,n=this.roomUtils.getRoom(e);if(!n)return this.error("getMessageThreads","Room ".concat(e," does not exist.")),[[],[]];var r=this.state.activeUser&&this.state.activeUser.id,i=g(n.history.values()).filter((function(e){return!e.isCleared&&(!("deleted"===e.type&&!e.queued)&&("deleted"!==e.type&&"queue"!==e.type||e.userId===r&&t.state.activeUser&&!t.state.activeUser.isAssistant))})).sort((function(e,t){return e.timestamp-t.timestamp})),o=i.length,s=i.slice().reverse().reduce((function(e,t,n,r){var s=!1;if(n>0){var a=r[n-1];if(a.isWhisper&&a.parentMessageId===t.id){s=!0;var l=o-(n+1);i.splice(l,1),e.shift()}}return e.unshift(s),e}),[]);return[i,s]}function Uv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",n=!1;if("/"===e.charAt(0))n=this.runCommand(e,t);else if("!"===e.charAt(0)){var r="!"===e.charAt(1),i=r?"/replace-stickies "+e.slice(2):"/new-sticky "+e.slice(1);n=this.runCommand(i,t)}n||this.messageUtils.sendPlainMessage(e,t)}function zv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(!this.socket)return this.error("sendPlainMessage","No socket available to send message.");if(!this.state.activeUser)return this.error("sendPlainMessage","Cannot send message, no active user is set.");var n=this.roomUtils.getRoom(t);if(!n)return this.error("sendPlainMessage","Room ".concat(t," does not exist."));this.socket.send("room-message",{message:e,userId:this.state.activeUser.id,timestamp:Date.now(),roomId:n.id})}function Wv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(!this.state.activeUser)return this.error("previewMessage","Cannot preview message, no active user is set.");var n=this.roomUtils.getRoom(t);if(!n)return this.error("previewMessage","Room ".concat(t," does not exist."));var r="";if("/"===e.charAt(0))r=this.getCommand(e);else if("!"===e.charAt(0)){var i="!"===e.charAt(1),o=i?"/replace-stickies "+e.slice(2):"/new-sticky "+e.slice(1);r=this.getCommand(o)}var s=void 0;if(e.startsWith("/poll")){var a=this.userUtils.getActiveUser();if(a&&a.isAssistant){var l="Invalid syntax for poll options.";if(!r.data)return void(this.state.messagePreview={message:l,willSend:!1});if(!r.data.items)return void(this.state.messagePreview={message:r.data.errorMessage?r.data.errorMessage:l,willSend:!1});s={motor:{type:"MultipleChoice",problemText:r.data.problemText,options:{items:r.data.items}}}}}r&&"string"==typeof r?this.state.messagePreview={message:r,willSend:!1}:""!==e.trim()?(this.state.messagePreview&&this.state.messagePreview.opt&&(this.state.messagePreview.opt=void 0),this.socket.send("message-preview",{roomId:n.id,message:e,opt:s})):this.state.messagePreview={message:"",willSend:!1}}function jv(e){this.state.messagePreview=e}function Hv(){return this.state.messagePreview}function Vv(e){var t=e.msg,n=e.renderPassedMessages;if(t.isCleared||t.type&&("deleted"===t.type&&!t.queued||"plus-parent"===t.type))return!1;if(t.bucketId&&!n)return!1;if(t.type&&"bucket"===t.type&&(!t.children||t.children.length<=0))return!1;var r=this.userUtils.getActiveUser();return!(r&&r.isAssistant&&t.type&&"queue"===t.type&&t.userId===r.id&&!n)}function Gv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",t=this.userUtils.getActiveUser(),n=this.roomUtils.getRoom(e);if(!n)return this.error("clearMessages","Room ".concat(e," does not exist.")),[];n.history.forEach((function(e,n){t&&t.isAssistant&&"queue"===e.type||(e.isCleared=!0)}))}function Kv(e){if(!this.roomUtils.getRoom(e))return 0;if(!this.roomUtils.tracksNotifications(e))return 0;var t=this.state.unreadMessages[e];return t?t.length:0}function qv(){var e=0;for(var t in this.state.unreadMessages){e+=this.messageUtils.getUnreadMessageCount(t)}return e}function Xv(e){if(!this.socket)return this.error("sendLastReadMesssageId","No socket available to send message.");if(!this.state.activeUser)return this.error("sendLastReadMessageId","Cannot send message, no active user is set.");var t=this.roomUtils.getRoom(e);if(!t)return this.error("sendLastReadMessageId","Room ".concat(e," does not exist."));if(this.roomUtils.tracksNotifications(e)){if(!this.state.unreadMessages[e])return this.error("sendLastReadMessageId","unreadMessages is not iterable."),0;var n=this.state.lastReceivedMessages[e];n&&(this.state.lastReadMessages[e]=n,this.socket.send("set-last-read-message",{roomId:t.id,lastReadMessageId:n}),this.state.unreadMessages[e]=[])}}function Yv(e){var t=void 0;return(t=e?this.roomUtils.getRoom(e):this.roomUtils.getRoom("main"))?e.startsWith("MOD-")||e.startsWith("SPY-")||e.startsWith("PM-")||e.startsWith("GM-")?(this.error("getStickies","Stickies are only implemented for the main classroom."),[]):t.stickies||[]:(this.error("getStickies","Room ".concat(e," does not exist.")),[])}function Qv(e){this.state.messageWindow=e}function Jv(){this.state.messageWindow=void 0}function Zv(){return this.state.messageWindow}function ey(e){return this.state.savedPrivateMessageDrafts.get(e)}function ty(e){this.state.savedPrivateMessageDrafts.delete(e)}function ny(e,t){if(e.id){var n=this.messageUtils.getMessage(e.roomId,e.id);if(n&&n.motor){var r=this.state.activeUser;r&&n.motor.responses&&n.motor.responses[r.id]&&(t=!1),n.motor.canSubmit!==t&&(n.motor.canSubmit=t)}}}function ry(e){if(e.id){var t=this.messageUtils.getMessage(e.roomId,e.id);if(t&&t.motor)return!t.motor.isClosed&&t.motor.canSubmit}}function iy(e,t){if(e.id){var n=this.messageUtils.getMessage(e.roomId,e.id);if(n&&n.motor){var r=n.motor,i=t[r.parseFormat];if(JSON.stringify(n.motor.currentInput)!==JSON.stringify(t)){var o=!0;switch(i||(o=!1),r.type){case"DragDropMathjax":var s=t.draggableInEachDropArea;if(s&&Array.isArray(s)&&0!==s.length){var a,l=y(s);try{for(l.s();!(a=l.n()).done;){if(-1===a.value){o=!1;break}}}catch(e){l.e(e)}finally{l.f()}}else o=!1;break;case"MultipleChoice":Array.isArray(i)&&0===i.length&&(o=!1);break;case"DynamicGraph":case"MathjaxBlank":var c=t.values;if(c&&0!==c.length){var u,h=y(c);try{for(h.s();!(u=h.n()).done;){""===u.value&&(o=!1)}}catch(e){h.e(e)}finally{h.f()}}else o=!1}this.messageUtils.setMotorCanSubmit(n,o),n.motor.currentInput=JSON.parse(JSON.stringify(t))}}}}function oy(e){if(e.id){var t=this.messageUtils.getMessage(e.roomId,e.id);if(t&&t.motor)return t.motor.currentInput}}function sy(e){if(e.id){var t=this.messageUtils.getMessage(e.roomId,e.id);t&&t.motor&&(this.messageUtils.setMotorCanSubmit(t,!1),this.socket.send("send-motor-response",{message:e,output:t.motor.currentInput}))}}function ay(e,t,n){if(t.id){var r=this.messageUtils.getMessage(t.roomId,t.id),i=this.userUtils.getUser(e);if(r&&r.motor&&i){r.motor.responses||(r.motor.responses={}),r.motor.responses[i.id]=n;var o=this.userUtils.getActiveUser();o&&o.id===e&&this.mainInput instanceof Fg&&this.mainInput.appendToHistory(n.outputPredisplayResponse)}}}function ly(e){if(e.id){var t=this.messageUtils.getMessage(e.roomId,e.id),n=this.userUtils.getActiveUser();if(t&&t.motor&&n&&n.id)return t.motor.responses&&t.motor.responses[n.id]?t.motor.responses[n.id]:void 0}}function cy(e){if(!e.id)return!0;var t=this.messageUtils.getMessage(e.roomId,e.id);if(!t||!t.motor)return!0;if(t.motor.isClosed)return!0;var n=this.state.activeUser;return!!(n&&t.motor.responses&&t.motor.responses[n.id])}function uy(e,t){if(e.id){var n=this.messageUtils.getMessage(e.roomId,e.id);n&&n.motor&&(n.motor.isClosed=t)}}function hy(e){if(!e.id)return!0;var t=this.messageUtils.getMessage(e.roomId,e.id);return!t||!t.motor||!!t.motor.isClosed}function dy(e){var t=this.roomUtils.getRoom(e);if(!t)return this.error("setMainRoom","Room ".concat(e," does not exist."));t.name&&t.name!==t.id||(t.name=this.roomName),this.state.rooms.main=t}function fy(e){return this.state.rooms.main&&this.state.rooms.main.id===e}function py(e){return!!(e.startsWith("PM-")||e.startsWith("GM-")||e.startsWith("MOD-"))}function gy(e){if("main"!==e||this.state.rooms.main){if(this.state.rooms[e])return this.state.rooms[e];this.error("getRoom","Room ".concat(e," does not exist."))}else this.error("getRoom","The main room has not been loaded yet, or went missing.")}function my(e,t){if("main"===e)return this.error("setRoom","Please use setRoomToMain to designate an existing room as the main room.");this.state.rooms[t.id]=t}function vy(e){this.state.rooms[e]&&delete this.state.rooms[e]}function yy(e){var t=this,n=s({},this.state.rooms),r=function(e){return function(n){return n&&Nh.some(e,(function(e){return"main"===e&&t.state.rooms.main?n.id===t.state.rooms.main.id:0===n.id.indexOf(e)}))}};return e&&(e.include&&(n=Nh.pickBy(n,r(e.include))),e.exclude&&(n=Nh.omitBy(n,r(e.exclude)))),n}function by(e){if(!this.socket)return this.error("joinRoom","Socket does not exist.");this.socket.send("join-room",{roomId:e})}function wy(){this.state.canToggleAvatarRendering?(this.state.renderAvatars=!this.state.renderAvatars,setTimeout((function(){df.updateAllViews()}),0),this.state.activeUser&&!this.state.activeUser.isInstructor&&(this.state.activeUser.renderAvatars=this.state.renderAvatars,setTimeout((function(){df.updateAllViews()}),0)),this.socket.send("set-render-avatars",{roomId:this.roomUtils.getRoom("main").id,renderAvatars:this.state.renderAvatars})):this.userUtils.addAlert({title:"Alert",messages:["Avatars are currently disabled in this room."]})}function _y(){return this.state.renderAvatars}function Sy(e){if(0===e.id.indexOf("MOD-"))return"MODERATORS";if(0===e.id.indexOf("GM-")){var t=e.id.split("-");return parseInt(t[t.length-1])}var n=this.userUtils.getActiveUser();if(n&&n.id&&0===e.id.indexOf("PM-")){var r=e.id.split("-");if(r.length<4)return;var i=parseInt(r[r.length-2]),o=parseInt(r[r.length-1]);if(i===n.id)return o;if(o===n.id)return i}}r(Lm,"displaying",!1),r(Lm,"queue",[]);var xy=function(){function t(n){e(this,t),r(this,"userPrefix",""),r(this,"store",void 0),this.setUser(n),"localStorage"in window?this.store=window.localStorage:console.warn("ClientStorage: localStorage not available on this device.")}return n(t,[{key:"setUser",value:function(e){this.userPrefix=void 0!==e?e+"-":""}},{key:"set",value:function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i="".concat(r?t.prefix+this.userPrefix:"").concat(e);this.store instanceof Storage&&this.store.setItem(i,n)}},{key:"get",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r="".concat(n?t.prefix+this.userPrefix:"").concat(e);if(this.store instanceof Storage)return this.store.getItem(r)}},{key:"remove",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r="".concat(n?t.prefix+this.userPrefix:"").concat(e);this.store instanceof Storage&&this.store.removeItem(r)}}]),t}();function Cy(){return this.state.modalUpdateHash}function ky(){return this.modals.length?this.state.modalUpdateHash=this.modals.length+"-"+Math.random().toString(36).slice(2):this.state.modalUpdateHash="",this.state.modalUpdateHash}function Ey(e,t){var n=t||{};return this.modals=this.modals.concat([e]),n.keepMenuBarOpen||this.userUtils.setIsMenuBarOpen(!1),this.modalUtils.updateModalUpdateHash(),e}function Ay(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return this.modalUtils.addModal((r=this.modalUtils).createModalFromConstructor.apply(r,[e,t].concat(o)),n)}function Ry(e,t){for(var n={node:null},r=Hh({},t,{ref:function(e){n.component=e}}),i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];return n.node=ue.createElement.apply(ue,[e,r].concat(o)),n}function Ty(){return this.modals[0]}function My(e){var t=(e||{}).node?e:this.modalUtils.getModal(),n=(t||{}).component;return n&&jh(n.superModalWillUnmount)?n.superModalWillUnmount():n&&jh(n.modalWillUnmount)&&n.modalWillUnmount(),t&&(this.modals=Vh(this.modals,t)),this.modalUtils.updateModalUpdateHash(),this.lastFocusedEntryBox&&this.lastFocusedEntryBox.focus(),t}r(xy,"prefix","classroom6-"),Pu({enforceActions:"always",isolateGlobalState:!0});var Oy=function(){function t(n){var i=this;e(this,t),r(this,"userUtils",{getUsersByRank:Rg(tv).bind(this),getUser:Rg(rv).bind(this),getUserWithUsername:Rg(iv).bind(this),getMatchingUsername:Rg(Lv).bind(this),getOrAddUser:Iu(nv).bind(this),addUser:Iu(ov).bind(this),getActiveUser:Rg(sv).bind(this),setActiveUser:Iu(av).bind(this),setLatency:Iu(lv).bind(this),getLatency:Rg(cv).bind(this),addAlert:Iu(uv).bind(this),getAlert:Rg(hv).bind(this),removeAlert:Iu(dv).bind(this),setMuteStatus:Iu(fv).bind(this),getMuteStatus:Rg(pv).bind(this),setFontSize:Iu(gv).bind(this),getFontSize:Rg(mv).bind(this),setPreferredColor:Iu(vv).bind(this),getPreferredColor:Rg(yv).bind(this),setFullScreen:Iu(bv).bind(this),toggleFullScreen:Iu(wv).bind(this),getFullScreen:Rg(_v).bind(this),setNotificationFlashing:Iu(Mv).bind(this),toggleNotificationFlashing:Iu(Ov).bind(this),getNotificationFlashing:Rg($v).bind(this),locallySetScreenLayout:Iu(Sv).bind(this),setScreenLayout:Iu(xv).bind(this),getScreenLayout:Rg(Tv).bind(this),getColumnWidthsChangedAt:Rg(Cv).bind(this),getSmileySettings:Rg(kv).bind(this),setSmileySettings:Iu(Ev).bind(this),getWhitespaceOption:Rg(Av).bind(this),setWhitespaceOption:Iu(Rv).bind(this),getModeratedWarningSnoozeUntil:Rg(Iv).bind(this),setModeratedWarningSnoozeUntil:Iu(Pv).bind(this),getIsMenuBarOpen:Rg(Dv).bind(this),setIsMenuBarOpen:Iu(Nv).bind(this)}),r(this,"messageUtils",{getMessage:Rg(Fv).bind(this),getMessageThreads:Rg(Bv).bind(this),sendMessage:Iu(Uv).bind(this),sendPlainMessage:Iu(zv).bind(this),previewMessage:Iu(Wv).bind(this),setMessagePreview:Iu(jv).bind(this),getMessagePreview:Rg(Hv).bind(this),shouldMessageViewRender:Rg(Vv).bind(this),clearMessages:Iu(Gv).bind(this),getUnreadMessageCount:Rg(Kv).bind(this),getTotalUnreadMessageCount:Rg(qv).bind(this),sendLastReadMessageId:Iu(Xv).bind(this),getStickies:Rg(Yv).bind(this),addMessageWindow:Iu(Qv).bind(this),removeMessageWindow:Iu(Jv).bind(this),getMessageWindow:Rg(Zv).bind(this),getSavedPrivateMessageDrafts:Rg(ey).bind(this),removeSavedPrivateMessageDraft:Iu(ty).bind(this),setMotorCanSubmit:Iu(ny).bind(this),getMotorCanSubmit:Rg(ry).bind(this),setCurrentMotorInput:Iu(iy).bind(this),getCurrentMotorInput:Rg(oy).bind(this),submitMotorResponse:Iu(sy).bind(this),getMyMotorResponse:Iu(ly).bind(this),recordMotorResponse:Iu(ay).bind(this),isMotorStatic:Rg(cy).bind(this),setMotorIsClosed:Iu(uy).bind(this),getMotorIsClosed:Rg(hy).bind(this)}),r(this,"roomUtils",{setRoomAsMain:Iu(dy).bind(this),isMainRoom:Rg(fy).bind(this),tracksNotifications:Rg(py).bind(this),getRoom:Rg(gy).bind(this),setRoom:Iu(my).bind(this),deleteRoom:Iu(vy).bind(this),getAllRooms:Rg(yy).bind(this),joinRoom:Iu(by).bind(this),setRenderAvatars:Iu(wy).bind(this),getRenderAvatars:Rg(_y).bind(this),getRoomTarget:Rg(Sy).bind(this)}),r(this,"modalUtils",{getModalUpdateHash:Rg(Cy).bind(this),updateModalUpdateHash:Iu(ky).bind(this),addModal:Iu(Ey).bind(this),addModalWithConstructor:Iu(Ay).bind(this),createModalFromConstructor:Ry.bind(this),removeModal:Iu(My).bind(this),getModal:Ty.bind(this)}),r(this,"modals",[]),r(this,"state",{rooms:{main:void 0},users:{},activeUser:void 0,latency:{current:0,max:0,min:0},canToggleAvatarRendering:!0,renderAvatars:!0,error:null,serverId:"",alerts:[],messageWindow:void 0,messagePreview:void 0,lastReadMessages:{},lastReceivedMessages:{},unreadMessages:{},muteStatus:{isMuted:!1,isQueueMuted:!1,endTimestamp:void 0},fontSize:15,preferredColor:"default",fullScreen:!1,screenLayout:"default",notificationFlashing:!0,savedPrivateMessageDrafts:new Map,smileyTheme:null,smileyCharacter:null,whitespaceOption:"standard",modalUpdateHash:"",moderatedWarningSnoozeUntil:null,isMenuBarOpen:!1}),r(this,"FONT_SIZE_SMALL",13),r(this,"FONT_SIZE_MEDIUM",15),r(this,"FONT_SIZE_LARGE",17),r(this,"FONT_SIZE_EXTRA_LARGE",19),r(this,"isLoggingEnabled",!1),r(this,"socket",void 0),r(this,"url","//localhost"),r(this,"port",9099),r(this,"isMobile",!1),r(this,"roomId",""),r(this,"roomName",""),r(this,"tld",void 0),r(this,"role",void 0),r(this,"storage",new xy),r(this,"mainInput",null),r(this,"lastFocusedEntryBox",null),r(this,"cryptWindow",!1),n&&(this.url=n.socketOptions.url||this.url,this.port=n.socketOptions.port||this.port,this.roomId=n.roomId||this.roomId,this.roomName=n.roomName||this.roomName,this.tld=n.tld||void 0,this.role=n.role||void 0),(navigator.userAgent.includes("Android")||navigator.userAgent.includes("like Mac"))&&(this.isMobile=!0),this.userUtils.setPreferredColor("default"),this.state=Lu(this.state),Fu((function(){i.storage.setUser(i.state.activeUser?i.state.activeUser.id:void 0)}))}return n(t,[{key:"connect",value:function(){this.socket=this.getNewSocket(),this.listenToSocketEvents()}},{key:"destroy",value:function(){if(this.socket){var e=this.state.activeUser;e&&this.socket.send("user-leave",{user:e,roomId:void 0}),this.socket.destroy(),this.socket=void 0}}},{key:"setLoggingEnabled",value:function(e){this.isLoggingEnabled=e}},{key:"log",value:function(){if(this.isLoggingEnabled){for(var e,t="font-weight: bold; color: lime;",n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=console).warn.apply(e,["%cClient",t].concat(r))}}},{key:"error",value:function(){if(this.isLoggingEnabled){for(var e,t="font-weight: bold; color: lime;",n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=console).error.apply(e,["%cClient",t].concat(r))}}},{key:"spyOnStateChanges",value:function(){var e=this;Nu((function(t){if(["update","add","delete","splice"].indexOf(t.type)>=0){var n={type:t.type,key:Du(t.index||t.key),targetObject:Du(t.object),oldValue:Du(t.oldValue),newValue:Du(t.newValue),newClientState:Du(e.state)};"splice"===t.type&&(n.added=Du(t.added),n.removed=Du(t.removed),n.addedCount=t.addedCount,n.removedCount=t.removedCount),console.warn("%cMobX Spy","font-weight: bold; color: black; background: rgba(255, 255, 255, 0.5); padding: 2px;","\n\t",n)}}))}},{key:"getSocketId",value:function(){return!(!this.socket||!this.socket.socket)&&this.socket.socket.id}},{key:"getIsMobile",value:function(){return this.isMobile}},{key:"setError",value:function(e){this.state.error=e}},{key:"getError",value:function(){return this.state.error}},{key:"setServerId",value:function(e){this.state.serverId=e}},{key:"getServerId",value:function(){return this.state.serverId}},{key:"getCanToggleAvatarRendering",value:function(){return this.state.canToggleAvatarRendering}},{key:"listenToSocketEvents",value:function(){var e=this;if(!this.socket)return this.error("listenToSocketEvents","Client socket has not been created.");var t=this.getEventListeners(),n=function(n){var r=n,i=Iu(t[r]).bind(e);i&&e.socket.on(r,(function(){i.apply(void 0,arguments)}))};for(var r in t)n(r)}},{key:"getEventListeners",value:function(){return ev()}}]),t}(),$y=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ly=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Iy=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=$y.exec(e||""),o={},s=14;s--;)o[Ly[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},Py=1e3,Dy=6e4,Ny=60*Dy,Fy=24*Ny,By=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*Fy;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ny;case"minutes":case"minute":case"mins":case"min":case"m":return n*Dy;case"seconds":case"second":case"secs":case"sec":case"s":return n*Py;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Fy)return Uy(e,t,Fy,"day");if(t>=Ny)return Uy(e,t,Ny,"hour");if(t>=Dy)return Uy(e,t,Dy,"minute");if(t>=Py)return Uy(e,t,Py,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Fy)return Math.round(e/Fy)+"d";if(t>=Ny)return Math.round(e/Ny)+"h";if(t>=Dy)return Math.round(e/Dy)+"m";if(t>=Py)return Math.round(e/Py)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Uy(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}var zy=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let o;function s(...e){if(!s.enabled)return;const t=s,r=Number(new Date),i=r-(o||r);t.diff=i,t.prev=o,t.curr=r,o=r,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return r;a++;const o=n.formatters[i];if("function"==typeof o){const n=e[a];r=o.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=r,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function r(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=By,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},Wy=_((function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==Tu&&"env"in Tu&&(e=Tu.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=zy(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),jy=(Wy.log,Wy.formatArgs,Wy.save,Wy.load,Wy.useColors,Wy.storage,Wy.colors,Wy("socket.io-client:url")),Hy=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(jy("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),jy("parse %s",e),n=Iy(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n};var Vy=36e5,Gy=24*Vy,Ky=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*Gy;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Vy;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){return qy(e,Gy,"day")||qy(e,Vy,"hour")||qy(e,6e4,"minute")||qy(e,1e3,"second")||e+" ms"}(e):function(e){if(e>=Gy)return Math.round(e/Gy)+"d";if(e>=Vy)return Math.round(e/Vy)+"h";if(e>=6e4)return Math.round(e/6e4)+"m";if(e>=1e3)return Math.round(e/1e3)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function qy(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var Xy=_((function(e,t){function n(e){var n;function i(){if(i.enabled){var e=i,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"==typeof i){var o=s[l];n=i.call(e,o),s.splice(l,1),l--}return n})),t.formatArgs.call(e,s);var c=i.log||t.log||console.log.bind(console);c.apply(e,s)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),i.destroy=r,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Ky,t.instances=[],t.names=[],t.skips=[],t.formatters={}})),Yy=(Xy.coerce,Xy.disable,Xy.enable,Xy.enabled,Xy.humanize,Xy.instances,Xy.names,Xy.skips,Xy.formatters,_((function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==Tu&&"env"in Tu&&(e=Tu.env.DEBUG),e}(t=e.exports=Xy).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}))),Qy=(Yy.log,Yy.formatArgs,Yy.save,Yy.load,Yy.useColors,Yy.storage,Yy.colors,_((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}))),Jy={}.toString,Zy=Array.isArray||function(e){return"[object Array]"==Jy.call(e)},eb=function(e){return tb&&Buffer.isBuffer(e)||nb&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))},tb="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,nb="function"==typeof ArrayBuffer;var rb=Object.prototype.toString,ib="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===rb.call(Blob),ob="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===rb.call(File);var sb=function(e){var t=[],n=e.data,r=e;return r.data=function e(t,n){if(!t)return t;if(eb(t)){var r={_placeholder:!0,num:n.length};return n.push(t),r}if(Zy(t)){for(var i=new Array(t.length),o=0;o<t.length;o++)i[o]=e(t[o],n);return i}if("object"==typeof t&&!(t instanceof Date)){i={};for(var s in t)i[s]=e(t[s],n);return i}return t}(n,t),r.attachments=t.length,{packet:r,buffers:t}},ab=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Zy(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"==typeof t)for(var i in t)t[i]=e(t[i],n);return t}(e.data,t),e.attachments=void 0,e},lb=function(e,t){var n=0,r=e;!function e(i,o,s){if(!i)return i;if(ib&&i instanceof Blob||ob&&i instanceof File){n++;var a=new FileReader;a.onload=function(){s?s[o]=this.result:r=this.result,--n||t(r)},a.readAsArrayBuffer(i)}else if(Zy(i))for(var l=0;l<i.length;l++)e(i[l],l,i);else if("object"==typeof i&&!eb(i))for(var c in i)e(i[c],c,i)}(r),n||t(r)},cb=_((function(e,t){var n=Yy("socket.io-parser");function r(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=s;var i=t.ERROR+'"encode error"';function o(e){var r=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(r+=e.nsp+","),null!=e.id&&(r+=e.id),null!=e.data){var o=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===o)return i;r+=o}return n("encoded %j as %s",e,r),r}function s(){this.reconstructor=null}function a(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:t.ERROR,data:"parser error: "+e}}r.prototype.encode=function(e,r){(n("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){lb(e,(function(e){var n=sb(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}))}(e,r):r([o(e)])},Qy(s.prototype),s.prototype.add=function(e){var r;if("string"==typeof e)r=function(e){var r=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return l("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o="";"-"!==e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!==e.charAt(r))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(r+1))for(i.nsp="";++r;){if(","===(a=e.charAt(r)))break;if(i.nsp+=a,r===e.length)break}else i.nsp="/";var s=e.charAt(r+1);if(""!==s&&Number(s)==s){for(i.id="";++r;){var a;if(null==(a=e.charAt(r))||Number(a)!=a){--r;break}if(i.id+=e.charAt(r),r===e.length)break}i.id=Number(i.id)}if(e.charAt(++r)){var c=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(r));if(!(!1!==c&&(i.type===t.ERROR||Zy(c))))return l("invalid payload");i.data=c}return n("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new a(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!eb(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",r))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=ab(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}})),ub=(cb.protocol,cb.types,cb.CONNECT,cb.DISCONNECT,cb.EVENT,cb.ACK,cb.ERROR,cb.BINARY_EVENT,cb.BINARY_ACK,cb.Encoder,cb.Decoder,_((function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}}))),hb=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||ub))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}},db=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},fb={}.toString,pb=Array.isArray||function(e){return"[object Array]"==fb.call(e)},gb=Object.prototype.toString,mb="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===gb.call(Blob),vb="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===gb.call(File),yb=function e(t){if(!t||"object"!=typeof t)return!1;if(pb(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||mb&&t instanceof Blob||vb&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1};var bb=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer},wb=function(e,t,n){var r=!1;return n=n||_b,i.count=e,0===e?t():i;function i(e,o){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(r=!0,t(e),t=n):0!==i.count||r||t(null,o)}};function _b(){}
/*! https://mths.be/utf8js v2.1.2 by @mathias */var Sb,xb,Cb,kb=String.fromCharCode;function Eb(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function Ab(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Rb(e,t){return kb(e>>t&63|128)}function Tb(e,t){if(0==(4294967168&e))return kb(e);var n="";return 0==(4294965248&e)?n=kb(e>>6&31|192):0==(4294901760&e)?(Ab(e,t)||(e=65533),n=kb(e>>12&15|224),n+=Rb(e,6)):0==(4292870144&e)&&(n=kb(e>>18&7|240),n+=Rb(e,12),n+=Rb(e,6)),n+=kb(63&e|128)}function Mb(){if(Cb>=xb)throw Error("Invalid byte index");var e=255&Sb[Cb];if(Cb++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function Ob(e){var t,n;if(Cb>xb)throw Error("Invalid byte index");if(Cb==xb)return!1;if(t=255&Sb[Cb],Cb++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Mb())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Mb()<<6|Mb())>=2048)return Ab(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Mb()<<12|Mb()<<6|Mb())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var $b={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=Eb(e),i=r.length,o=-1,s="";++o<i;)s+=Tb(r[o],n);return s},decode:function(e,t){var n=!1!==(t=t||{}).strict;Sb=Eb(e),xb=Sb.length,Cb=0;for(var r,i=[];!1!==(r=Ob(n));)i.push(r);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=kb((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=kb(t);return i}(i)}},Lb=_((function(e,t){!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,s,a=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(t=0;t<l;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],h[c++]=r<<2|i>>4,h[c++]=(15&i)<<4|o>>2,h[c++]=(3&o)<<6|63&s;return u}}()})),Ib=(Lb.encode,Lb.decode,void 0!==Ib?Ib:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder),Pb=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),Db=Pb&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),Nb=Ib&&Ib.prototype.append&&Ib.prototype.getBlob;function Fb(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function Bb(e,t){t=t||{};var n=new Ib;return Fb(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function Ub(e,t){return new Blob(Fb(e),t||{})}"undefined"!=typeof Blob&&(Bb.prototype=Blob.prototype,Ub.prototype=Blob.prototype);var zb=Pb?Db?Blob:Ub:Nb?Bb:void 0,Wb=_((function(e,t){var n;"undefined"!=typeof ArrayBuffer&&(n=Lb);var r="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),i="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),o=r||i;t.protocol=3;var s=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=db(s),l={type:"error",data:"parser error"};function c(e,t,n){for(var r=new Array(e.length),i=wb(e.length,n),o=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},s=0;s<e.length;s++)o(s,e[s],i)}t.encodePacket=function(e,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=s[e.type];for(var l=0;l<o.length;l++)a[l+1]=o[l];return r(a.buffer)}(e,n,i);if(void 0!==zb&&a instanceof zb)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(o)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=s[e.type];var a=new zb([i.buffer,e.data]);return r(a)}(e,n,i);if(a&&a.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,i);var l=s[e.type];return void 0!==e.data&&(l+=r?$b.encode(String(e.data),{strict:!1}):String(e.data)),i(""+l)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type];if(void 0!==zb&&e.data instanceof zb){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),a=new Array(s.length),l=0;l<s.length;l++)a[l]=s[l];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return l;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=$b.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return l;var i=e.charAt(0);return Number(i)==i&&a[i]?e.length>1?{type:a[i],data:e.substring(1)}:{type:a[i]}:l}i=new Uint8Array(e)[0];var o=bb(e,1);return zb&&"blob"===n&&(o=new zb([o])),{type:a[i],data:o}},t.decodeBase64Packet=function(e,t){var r=a[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var i=n.decode(e.substr(1));return"blob"===t&&zb&&(i=new zb([i])),{type:r,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=yb(e);if(n&&i)return zb&&!o?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");c(e,(function(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===e)return r(l,0,1);for(var o,s,a="",c=0,u=e.length;c<u;c++){var h=e.charAt(c);if(":"===h){if(""===a||a!=(o=Number(a)))return r(l,0,1);if(a!=(s=e.substr(c+1,o)).length)return r(l,0,1);if(s.length){if(i=t.decodePacket(s,n,!1),l.type===i.type&&l.data===i.data)return r(l,0,1);if(!1===r(i,c+o,u))return}c+=o,a=""}else a+=h}return""!==a?r(l,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));c(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}i[o++]=t?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){c(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,zb){var a=new zb([t.buffer,s.buffer,e]);n(null,a)}}))}),(function(e,t){return n(new zb(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),a=0===s[0],c="",u=1;255!==s[u];u++){if(c.length>310)return r(l,0,1);c+=s[u]}i=bb(i,2+c.length),c=parseInt(c);var h=bb(i,0,c);if(a)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(e){var d=new Uint8Array(h);h="";for(u=0;u<d.length;u++)h+=String.fromCharCode(d[u])}o.push(h),i=bb(i,c)}var f=o.length;o.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,f)}))}})),jb=(Wb.protocol,Wb.packets,Wb.encodePacket,Wb.encodeBase64Packet,Wb.decodePacket,Wb.decodeBase64Packet,Wb.encodePayload,Wb.decodePayload,Wb.encodePayloadAsArrayBuffer,Wb.encodePayloadAsBlob,Wb.decodePayloadAsBinary,_((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}))),Hb=Vb;function Vb(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}jb(Vb.prototype),Vb.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},Vb.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Vb.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Vb.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},Vb.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Vb.prototype.onData=function(e){var t=Wb.decodePacket(e,this.socket.binaryType);this.onPacket(t)},Vb.prototype.onPacket=function(e){this.emit("packet",e)},Vb.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var Gb,Kb=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},qb=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t},Xb=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Yb="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Qb={},Jb=0,Zb=0;function ew(e){var t="";do{t=Yb[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function tw(){var e=ew(+new Date);return e!==Gb?(Jb=0,Gb=e):e+"."+ew(Jb++)}for(;Zb<64;Zb++)Qb[Yb[Zb]]=Zb;tw.encode=ew,tw.decode=function(e){var t=0;for(Zb=0;Zb<e.length;Zb++)t=64*t+Qb[e.charAt(Zb)];return t};var nw=tw,rw=6e4,iw=60*rw,ow=24*iw,sw=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*ow;case"hours":case"hour":case"hrs":case"hr":case"h":return n*iw;case"minutes":case"minute":case"mins":case"min":case"m":return n*rw;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=ow)return aw(e,t,ow,"day");if(t>=iw)return aw(e,t,iw,"hour");if(t>=rw)return aw(e,t,rw,"minute");if(t>=1e3)return aw(e,t,1e3,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=ow)return Math.round(e/ow)+"d";if(t>=iw)return Math.round(e/iw)+"h";if(t>=rw)return Math.round(e/rw)+"m";if(t>=1e3)return Math.round(e/1e3)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function aw(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}var lw=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let o;function s(...e){if(!s.enabled)return;const t=s,r=Number(new Date),i=r-(o||r);t.diff=i,t.prev=o,t.curr=r,o=r,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return r;a++;const o=n.formatters[i];if("function"==typeof o){const n=e[a];r=o.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=r,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function r(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=sw,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},cw=_((function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==Tu&&"env"in Tu&&(e=Tu.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=lw(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),uw=(cw.log,cw.formatArgs,cw.save,cw.load,cw.useColors,cw.storage,cw.colors,cw("engine.io-client:polling")),hw=fw,dw=null!=new hb({xdomain:!1}).responseType;function fw(e){var t=e&&e.forceBase64;dw&&!t||(this.supportsBinary=!1),Hb.call(this,e)}Xb(fw,Hb),fw.prototype.name="polling",fw.prototype.doOpen=function(){this.poll()},fw.prototype.pause=function(e){var t=this;function n(){uw("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(uw("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){uw("pre-pause polling complete"),--r||n()}))),this.writable||(uw("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){uw("pre-pause writing complete"),--r||n()})))}else n()},fw.prototype.poll=function(){uw("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},fw.prototype.onData=function(e){var t=this;uw("polling got data %s",e);Wb.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():uw('ignoring poll - transport state "%s"',this.readyState))},fw.prototype.doClose=function(){var e=this;function t(){uw("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(uw("transport open - closing"),t()):(uw("transport not open - deferring close"),this.once("open",t))},fw.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};Wb.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},fw.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=nw()),this.supportsBinary||e.sid||(e.b64=1),e=Kb(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e};var pw=cw("engine.io-client:polling-xhr"),gw=yw,mw=bw;function vw(){}function yw(e){if(hw.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function bw(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(Xb(yw,hw),yw.prototype.supportsBinary=!0,yw.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new bw(e)},yw.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},yw.prototype.doPoll=function(){pw("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},jb(bw.prototype),bw.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new hb(e),n=this;try{pw("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},pw("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=bw.requestsCount++,bw.requests[this.index]=this)},bw.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},bw.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},bw.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},bw.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=vw:this.xhr.onreadystatechange=vw,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete bw.requests[this.index],this.xhr=null}},bw.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},bw.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},bw.prototype.abort=function(){this.cleanup()},bw.requestsCount=0,bw.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",_w);else if("function"==typeof addEventListener){var ww="onpagehide"in self?"pagehide":"unload";addEventListener(ww,_w,!1)}function _w(){for(var e in bw.requests)bw.requests.hasOwnProperty(e)&&bw.requests[e].abort()}gw.Request=mw;var Sw,xw=Rw,Cw=/\n/g,kw=/\\n/g;function Ew(){}function Aw(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==b?b:{}}function Rw(e){if(hw.call(this,e),this.query=this.query||{},!Sw){var t=Aw();Sw=t.___eio=t.___eio||[]}this.index=Sw.length;var n=this;Sw.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=Ew)}),!1)}Xb(Rw,hw),Rw.prototype.supportsBinary=!1,Rw.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),hw.prototype.doClose.call(this)},Rw.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},Rw.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function a(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),e=e.replace(kw,"\\\n"),this.area.value=e.replace(Cw,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a};var Tw,Mw,Ow=function(e){return e&&e.default||e}(Object.freeze({__proto__:null,default:{}})),$w=cw("engine.io-client:websocket");if("undefined"!=typeof WebSocket?Tw=WebSocket:"undefined"!=typeof self&&(Tw=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{Mw=Ow}catch(e){}var Lw=Tw||Mw,Iw=Pw;function Pw(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=Tw&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(Lw=Mw),Hb.call(this,e)}Xb(Pw,Hb),Pw.prototype.name="websocket",Pw.prototype.supportsBinary=!0,Pw.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new Lw(e,t):new Lw(e):new Lw(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},Pw.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},Pw.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)!function(e){Wb.encodePacket(e,t.supportsBinary,(function(r){if(!t.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),t.perMessageDeflate)("string"==typeof r?Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,i)}catch(e){$w("websocket closed before onclose event")}--n||o()}))}(e[r]);function o(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},Pw.prototype.onClose=function(){Hb.prototype.onClose.call(this)},Pw.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},Pw.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=nw()),this.supportsBinary||(e.b64=1),(e=Kb(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},Pw.prototype.check=function(){return!(!Lw||"__initialize"in Lw&&this.name===Pw.prototype.name)};var Dw={polling:function(e){var t=!1,n=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var i="https:"===location.protocol,o=location.port;o||(o=i?443:80),t=e.hostname!==location.hostname||o!==e.port,n=e.secure!==i}if(e.xdomain=t,e.xscheme=n,"open"in new hb(e)&&!e.forceJSONP)return new gw(e);if(!r)throw new Error("JSONP disabled");return new xw(e)},websocket:Iw},Nw=[].indexOf,Fw=function(e,t){if(Nw)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},Bw=cw("engine.io-client:socket"),Uw=zw;function zw(e,t){if(!(this instanceof zw))return new zw(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=Iy(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Iy(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=qb(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}zw.priorWebsocketSuccess=!1,jb(zw.prototype),zw.protocol=Wb.protocol,zw.Socket=zw,zw.Transport=Hb,zw.transports=Dw,zw.parser=Wb,zw.prototype.createTransport=function(e){Bw('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=Wb.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new Dw[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},zw.prototype.open=function(){var e;if(this.rememberUpgrade&&zw.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},zw.prototype.setTransport=function(e){Bw("setting transport %s",e.name);var t=this;this.transport&&(Bw("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},zw.prototype.probe=function(e){Bw('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(Bw('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(Bw('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;zw.priorWebsocketSuccess="websocket"===t.name,Bw('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(Bw("changing transport and sending upgrade packet"),u(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{Bw('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,r.emit("upgradeError",o)}})))}function o(){n||(n=!0,u(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,o(),Bw('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function a(){s("transport closed")}function l(){s("socket closed")}function c(e){t&&e.name!==t.name&&(Bw('"%s" works - aborting "%s"',e.name,t.name),o())}function u(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),r.removeListener("close",l),r.removeListener("upgrading",c)}zw.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",l),this.once("upgrading",c),t.open()},zw.prototype.onOpen=function(){if(Bw("socket open"),this.readyState="open",zw.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){Bw("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},zw.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Bw('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else Bw('packet received with socket readyState "%s"',this.readyState)},zw.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},zw.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},zw.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){Bw("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},zw.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},zw.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},zw.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Bw("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},zw.prototype.write=zw.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},zw.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},zw.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),Bw("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},zw.prototype.onError=function(e){Bw("socket error %j",e),zw.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},zw.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){Bw('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},zw.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~Fw(this.transports,e[n])&&t.push(e[n]);return t};var Ww=Uw,jw=Wb;Ww.parser=jw;var Hw=_((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}})),Vw=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n};var Gw=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}};var Kw=[].slice,qw=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=Kw.call(arguments,2);return function(){return t.apply(e,n.concat(Kw.call(arguments)))}},Xw=_((function(e,t){var n=Wy("socket.io-client:socket");e.exports=o;var r={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},i=Hw.prototype.emit;function o(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}Hw(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[Gw(e,"open",qw(this,"onopen")),Gw(e,"packet",qw(this,"onpacket")),Gw(e,"close",qw(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},o.prototype.send=function(){var e=Vw(arguments);return e.unshift("message"),this.emit.apply(this,e),this},o.prototype.emit=function(e){if(r.hasOwnProperty(e))return i.apply(this,arguments),this;var t=Vw(arguments),o={type:(void 0!==this.flags.binary?this.flags.binary:yb(t))?cb.BINARY_EVENT:cb.EVENT,data:t,options:{}};return o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),this.flags={},this},o.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},o.prototype.onopen=function(){if(n("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?Kb(this.query):this.query;n("sending connect packet with query %s",e),this.packet({type:cb.CONNECT,query:e})}else this.packet({type:cb.CONNECT})},o.prototype.onclose=function(e){n("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},o.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===cb.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case cb.CONNECT:this.onconnect();break;case cb.EVENT:case cb.BINARY_EVENT:this.onevent(e);break;case cb.ACK:case cb.BINARY_ACK:this.onack(e);break;case cb.DISCONNECT:this.ondisconnect();break;case cb.ERROR:this.emit("error",e.data)}},o.prototype.onevent=function(e){var t=e.data||[];n("emitting event %j",t),null!=e.id&&(n("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?i.apply(this,t):this.receiveBuffer.push(t)},o.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var i=Vw(arguments);n("sending ack %j",i),t.packet({type:yb(i)?cb.BINARY_ACK:cb.ACK,id:e,data:i})}}},o.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(n("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):n("bad ack %s",e.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)i.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:cb.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(e){return this.flags.compress=e,this},o.prototype.binary=function(e){return this.flags.binary=e,this}})),Yw=Qw;function Qw(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Qw.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Qw.prototype.reset=function(){this.attempts=0},Qw.prototype.setMin=function(e){this.ms=e},Qw.prototype.setMax=function(e){this.max=e},Qw.prototype.setJitter=function(e){this.jitter=e};var Jw=Wy("socket.io-client:manager"),Zw=Object.prototype.hasOwnProperty,e_=t_;function t_(e,t){if(!(this instanceof t_))return new t_(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Yw({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||cb;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}t_.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)Zw.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},t_.prototype.updateSocketIds=function(){for(var e in this.nsps)Zw.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},t_.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},Hw(t_.prototype),t_.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},t_.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},t_.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},t_.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},t_.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},t_.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},t_.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},t_.prototype.open=t_.prototype.connect=function(e,t){if(Jw("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Jw("opening %s",this.uri),this.engine=Ww(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=Gw(n,"open",(function(){r.onopen(),e&&e()})),o=Gw(n,"error",(function(t){if(Jw("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;Jw("connect attempt will timeout after %d",s);var a=setTimeout((function(){Jw("connect attempt timed out after %d",s),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)}),s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(o),this},t_.prototype.onopen=function(){Jw("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(Gw(e,"data",qw(this,"ondata"))),this.subs.push(Gw(e,"ping",qw(this,"onping"))),this.subs.push(Gw(e,"pong",qw(this,"onpong"))),this.subs.push(Gw(e,"error",qw(this,"onerror"))),this.subs.push(Gw(e,"close",qw(this,"onclose"))),this.subs.push(Gw(this.decoder,"decoded",qw(this,"ondecoded")))},t_.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},t_.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},t_.prototype.ondata=function(e){this.decoder.add(e)},t_.prototype.ondecoded=function(e){this.emit("packet",e)},t_.prototype.onerror=function(e){Jw("error",e),this.emitAll("error",e)},t_.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new Xw(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&i()}function i(){~Fw(r.connecting,n)||r.connecting.push(n)}return n},t_.prototype.destroy=function(e){var t=Fw(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},t_.prototype.packet=function(e){Jw("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},t_.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},t_.prototype.cleanup=function(){Jw("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},t_.prototype.close=t_.prototype.disconnect=function(){Jw("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},t_.prototype.onclose=function(e){Jw("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},t_.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Jw("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();Jw("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(Jw("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(Jw("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(Jw("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},t_.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};var n_=_((function(e,t){var n=Wy("socket.io-client");e.exports=t=i;var r=t.managers={};function i(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o=Hy(e),s=o.source,a=o.id,l=o.path,c=r[a]&&l in r[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||c?(n("ignoring socket cache for %s",s),i=e_(s,t)):(r[a]||(n("new io instance for %s",s),r[a]=e_(s,t)),i=r[a]),o.query&&!t.query&&(t.query=o.query),i.socket(o.path,t)}t.protocol=cb.protocol,t.connect=i,t.Manager=e_,t.Socket=Xw})),r_=(n_.managers,n_.protocol,n_.connect,n_.Manager,n_.Socket,function(t){a(o,t);var i=f(o);function o(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(this,o),r(h(t=i.call(this)),"socket",void 0),r(h(t),"url","//localhost"),r(h(t),"port",9099),t.url=n.url||t.url,t.port=n.port||t.port,t.connect(n.options),t}return n(o,[{key:"connect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.socket&&this.socket.connected||(this.socket=n_("".concat(this.url,":").concat(this.port),e))}},{key:"destroy",value:function(){this.socket&&(this.socket.close(),this.socket=void 0)}},{key:"isConnected",value:function(){return!(!this.socket||!this.socket.connected)}},{key:"sendData",value:function(e){var t;if(!this.isConnected())return console.error("IOSocket not connected.");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.socket).emit.apply(t,[e].concat(r))}},{key:"addListener",value:function(e,t){this.socket&&this.socket.on(e,t)}}]),o}(function(){function t(){e(this,t)}return n(t,[{key:"on",value:function(e,t){this.addListener(e,t)}},{key:"send",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.sendData.apply(this,[e].concat(n))}}]),t}()));var i_=function(t){a(i,t);var r=f(i);function i(t){var n;return e(this,i),(n=r.call(this,t)).log("Student Client"),n.connect(),n}return n(i,[{key:"getNewSocket",value:function(){return this.log("Connecting to: ",this.url,this.port),new r_({url:this.url,port:this.port,options:{reconnect:!0,reconnectionAttempts:12}})}},{key:"getEventListeners",value:function(){return s({},ev(),{connect:ym})}},{key:"runCommand",value:function(e,t){return!1}},{key:"getCommand",value:function(e){return""}}]),i}(Oy);function o_(e,t,n){var r=ue.createElement(mm,{client:e});ru.render(r,t,n)}!function(e={scriptTag:!0}){const{scriptTag:t}=e,n=document.currentScript,r={skipTags:["script","noscript","style","textarea","pre","code"],showProcessingMessages:!1,menuSettings:{renderer:"CommonHTML"},imageFont:null,tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,ignoreClass:"username"},jax:["input/TeX","output/CommonHTML"],MathMenu:{showRenderer:!1},styles:{".MathJax_Menu":{"z-index":999999}},showMathMenu:!0,showMathMenuMSIE:!0,TeX:{Macros:{newcommand:null,renewcommand:null,newenvironment:null,renewenvironment:null,require:null,DeclareMathOperator:null,def:null,let:null,usepackage:["",1]},extensions:["enclose.js"]},Safe:{allow:{styles:"none"}}};if(t&&n){const e=document.createElement("script");e.type="text/x-mathjax-config",e.innerHTML="MathJax.Hub.Config("+JSON.stringify(r)+");",n.after(e)}}(),window.Classroom||(window.Classroom={}),window.Classroom=s({},window.Classroom,{StudentClient:i_,renderStudentClient:o_})
//# sourceMappingURL=student-client.js.map
